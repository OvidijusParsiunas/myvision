/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n//# sourceURL=webpack:///./node_modules/base64-js/index.js?");

/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\")\nvar ieee754 = __webpack_require__(/*! ieee754 */ \"./node_modules/ieee754/index.js\")\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/isarray/index.js\")\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./node_modules/buffer/index.js?");

/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n//# sourceURL=webpack:///./node_modules/ieee754/index.js?");

/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n//# sourceURL=webpack:///./node_modules/isarray/index.js?");

/***/ }),

/***/ "./node_modules/jszip/dist/jszip.min.js":
/*!**********************************************!*\
  !*** ./node_modules/jszip/dist/jszip.min.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(Buffer, global, setImmediate) {var require;var require;/*!\n\nJSZip v3.5.0 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/master/LICENSE\n*/\n\n!function(t){if(true)module.exports=t();else {}}(function(){return function s(a,o,h){function u(r,t){if(!o[r]){if(!a[r]){var e=\"function\"==typeof require&&require;if(!t&&e)return require(r,!0);if(l)return l(r,!0);var i=new Error(\"Cannot find module '\"+r+\"'\");throw i.code=\"MODULE_NOT_FOUND\",i}var n=o[r]={exports:{}};a[r][0].call(n.exports,function(t){var e=a[r][1][t];return u(e||t)},n,n.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,r){\"use strict\";var c=t(\"./utils\"),d=t(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(t){for(var e,r,i,n,s,a,o,h=[],u=0,l=t.length,f=l,d=\"string\"!==c.getTypeOf(t);u<t.length;)f=l-u,i=d?(e=t[u++],r=u<l?t[u++]:0,u<l?t[u++]:0):(e=t.charCodeAt(u++),r=u<l?t.charCodeAt(u++):0,u<l?t.charCodeAt(u++):0),n=e>>2,s=(3&e)<<4|r>>4,a=1<f?(15&r)<<2|i>>6:64,o=2<f?63&i:64,h.push(p.charAt(n)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(t){var e,r,i,n,s,a,o=0,h=0,u=\"data:\";if(t.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(t=t.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(t.charAt(t.length-1)===p.charAt(64)&&f--,t.charAt(t.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=d.uint8array?new Uint8Array(0|f):new Array(0|f);o<t.length;)e=p.indexOf(t.charAt(o++))<<2|(n=p.indexOf(t.charAt(o++)))>>4,r=(15&n)<<4|(s=p.indexOf(t.charAt(o++)))>>2,i=(3&s)<<6|(a=p.indexOf(t.charAt(o++))),l[h++]=e,64!==s&&(l[h++]=r),64!==a&&(l[h++]=i);return l}},{\"./support\":30,\"./utils\":32}],2:[function(t,e,r){\"use strict\";var i=t(\"./external\"),n=t(\"./stream/DataWorker\"),s=t(\"./stream/DataLengthProbe\"),a=t(\"./stream/Crc32Probe\");s=t(\"./stream/DataLengthProbe\");function o(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}o.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s(\"data_length\")),e=this;return t.on(\"end\",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(t,e,r){return t.pipe(new a).pipe(new s(\"uncompressedSize\")).pipe(e.compressWorker(r)).pipe(new s(\"compressedSize\")).withStreamInfo(\"compression\",e)},e.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(t,e,r){\"use strict\";var i=t(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(t){return new i(\"STORE compression\")},uncompressWorker:function(){return new i(\"STORE decompression\")}},r.DEFLATE=t(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(t,e,r){\"use strict\";var i=t(\"./utils\");var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?\"string\"!==i.getTypeOf(t)?function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},{\"./utils\":32}],5:[function(t,e,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){\"use strict\";var i=null;i=\"undefined\"!=typeof Promise?Promise:t(\"lie\"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,n=t(\"pako\"),s=t(\"./utils\"),a=t(\"./stream/GenericWorker\"),o=i?\"uint8array\":\"array\";function h(t,e){a.call(this,\"FlateWorker/\"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,t.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(t){return new h(\"Deflate\",t)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(t,e,r){\"use strict\";function A(t,e){var r,i=\"\";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function i(t,e,r,i,n,s){var a,o,h=t.file,u=t.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),d=I.transformTo(\"string\",O.utf8encode(h.name)),c=h.comment,p=I.transformTo(\"string\",s(c)),m=I.transformTo(\"string\",O.utf8encode(c)),_=d.length!==h.name.length,g=m.length!==c.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var S=0;e&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===n?(C=798,z|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(t){return 63&(t||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+d,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(i,4)+f+b+p}}var I=t(\"../utils\"),n=t(\"../stream/GenericWorker\"),O=t(\"../utf8\"),B=t(\"../crc32\"),R=t(\"../signature\");function s(t,e,r,i){n.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,n),s.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,n.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},s.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return R.DATA_DESCRIPTOR+A(t.crc32,4)+A(t.compressedSize,4)+A(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,i=function(t,e,r,i,n){var s=I.transformTo(\"string\",n(i));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(t,2)+A(t,2)+A(e,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on(\"error\",function(t){e.error(t)}),this},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(t){var e=this._sources;if(!n.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},s.prototype.lock=function(){n.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(t,e,r){\"use strict\";var u=t(\"../compressions\"),i=t(\"./ZipFileWorker\");r.generateWorker=function(t,a,e){var o=new i(a.streamFiles,e,a.platform,a.encodeFileName),h=0;try{t.forEach(function(t,e){h++;var r=function(t,e){var r=t||e,i=u[r];if(!i)throw new Error(r+\" is not a valid compression method !\");return i}(e.options.compression,a.compression),i=e.options.compressionOptions||a.compressionOptions||{},n=e.dir,s=e.date;e._compressWorker(r,i).withStreamInfo(\"file\",{name:t,dir:n,date:s,comment:e.comment||\"\",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(t){o.error(t)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(t,e,r){\"use strict\";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files={},this.comment=null,this.root=\"\",this.clone=function(){var t=new i;for(var e in this)\"function\"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t(\"./object\")).loadAsync=t(\"./load\"),i.support=t(\"./support\"),i.defaults=t(\"./defaults\"),i.version=\"3.5.0\",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t(\"./external\"),e.exports=i},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(t,e,r){\"use strict\";var i=t(\"./utils\"),n=t(\"./external\"),o=t(\"./utf8\"),h=(i=t(\"./utils\"),t(\"./zipEntries\")),s=t(\"./stream/Crc32Probe\"),u=t(\"./nodejsUtils\");function l(i){return new n.Promise(function(t,e){var r=i.decompressed.getContentWorker().pipe(new s);r.on(\"error\",function(t){e(t)}).on(\"end\",function(){r.streamInfo.crc32!==i.decompressed.crc32?e(new Error(\"Corrupted zip : CRC32 mismatch\")):t()}).resume()})}e.exports=function(t,s){var a=this;return s=i.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?n.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):i.prepareContent(\"the loaded zip file\",t,!0,s.optimizedBinaryString,s.base64).then(function(t){var e=new h(s);return e.load(t),e}).then(function(t){var e=[n.Promise.resolve(t)],r=t.files;if(s.checkCRC32)for(var i=0;i<r.length;i++)e.push(l(r[i]));return n.Promise.all(e)}).then(function(t){for(var e=t.shift(),r=e.files,i=0;i<r.length;i++){var n=r[i];a.file(n.fileNameStr,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:s.createFolders})}return e.zipComment.length&&(a.comment=e.zipComment),a})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"../stream/GenericWorker\");function s(t,e){n.call(this,\"Nodejs stream input adapter for \"+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(s,n),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on(\"data\",function(t){e.push({data:t,meta:{percent:0}})}).on(\"error\",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on(\"end\",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(t,e,r){\"use strict\";var n=t(\"readable-stream\").Readable;function i(t,e,r){n.call(this,e),this._helper=t;var i=this;t.on(\"data\",function(t,e){i.push(t)||i._helper.pause(),r&&r(e)}).on(\"error\",function(t){i.emit(\"error\",t)}).on(\"end\",function(){i.push(null)})}t(\"../utils\").inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},{\"../utils\":32,\"readable-stream\":16}],14:[function(t,e,r){\"use strict\";e.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if(\"number\"==typeof t)throw new Error('The \"data\" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&\"function\"==typeof t.on&&\"function\"==typeof t.pause&&\"function\"==typeof t.resume}}},{}],15:[function(t,e,r){\"use strict\";function s(t,e,r){var i,n=u.getTypeOf(e),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=_(t))&&b.call(this,i,!0);var a=\"string\"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(e instanceof d&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e=\"\",s.compression=\"STORE\",n=\"string\");var o=null;o=e instanceof d||e instanceof l?e:p.isNode&&p.isStream(e)?new m(t,e):u.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var h=new c(t,o,s);this.files[t]=h}var n=t(\"./utf8\"),u=t(\"./utils\"),l=t(\"./stream/GenericWorker\"),a=t(\"./stream/StreamHelper\"),f=t(\"./defaults\"),d=t(\"./compressedObject\"),c=t(\"./zipObject\"),o=t(\"./generate\"),p=t(\"./nodejsUtils\"),m=t(\"./nodejs/NodejsStreamInputAdapter\"),_=function(t){\"/\"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf(\"/\");return 0<e?t.substring(0,e):\"\"},g=function(t){return\"/\"!==t.slice(-1)&&(t+=\"/\"),t},b=function(t,e){return e=void 0!==e?e:f.createFolders,t=g(t),this.files[t]||s.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function h(t){return\"[object RegExp]\"===Object.prototype.toString.call(t)}var i={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(t){var e,r,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i))},filter:function(r){var i=[];return this.forEach(function(t,e){r(t,e)&&i.push(e)}),i},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,s.call(this,t,e,r),this;if(h(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var n=this.files[this.root+t];return n&&!n.dir?n:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(t,e){return e.dir&&r.test(t)});var t=this.root+r,e=b.call(this,t),i=this.clone();return i.root=e.name,i},remove:function(r){r=this.root+r;var t=this.files[r];if(t||(\"/\"!==r.slice(-1)&&(r+=\"/\"),t=this.files[r]),t&&!t.dir)delete this.files[r];else for(var e=this.filter(function(t,e){return e.name.slice(0,r.length)===r}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(t){var e,r={};try{if((r=u.extend(t||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var i=r.comment||this.comment||\"\";e=o.generateWorker(this,r,i)}catch(t){(e=new l(\"error\")).error(t)}return new a(e,r.type||\"string\",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type=\"nodebuffer\"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=i},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(t,e,r){e.exports=t(\"stream\")},{stream:void 0}],17:[function(t,e,r){\"use strict\";var i=t(\"./DataReader\");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t(\"../utils\").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],18:[function(t,e,r){\"use strict\";var i=t(\"../utils\");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+t+\"). Corrupted zip ?\")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo(\"string\",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{\"../utils\":32}],19:[function(t,e,r){\"use strict\";var i=t(\"./Uint8ArrayReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(t,e,r){\"use strict\";var i=t(\"./DataReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],21:[function(t,e,r){\"use strict\";var i=t(\"./ArrayReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"../support\"),s=t(\"./ArrayReader\"),a=t(\"./StringReader\"),o=t(\"./NodeBufferReader\"),h=t(\"./Uint8ArrayReader\");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),\"string\"!==e||n.uint8array?\"nodebuffer\"===e?new o(t):n.uint8array?new h(i.transformTo(\"uint8array\",t)):new s(i.transformTo(\"array\",t)):new a(t)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(t,e,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(t,e,r){\"use strict\";var i=t(\"./GenericWorker\"),n=t(\"../utils\");function s(t){i.call(this,\"ConvertWorker to \"+t),this.destType=t}n.inherits(s,i),s.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(t,e,r){\"use strict\";var i=t(\"./GenericWorker\"),n=t(\"../crc32\");function s(){i.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}t(\"../utils\").inherits(s,i),s.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"./GenericWorker\");function s(t){n.call(this,\"DataLengthProbe for \"+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(s,n),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"./GenericWorker\");function s(t){n.call(this,\"DataWorker\");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":t=this.data.substring(this.index,e);break;case\"uint8array\":t=this.data.subarray(this.index,e);break;case\"array\":case\"nodebuffer\":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(t,e,r){\"use strict\";function i(t){this.name=t||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit(\"data\",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit(\"error\",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit(\"error\",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.end()}),t.on(\"error\",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+t:t}},e.exports=i},{}],29:[function(t,e,r){\"use strict\";var h=t(\"../utils\"),n=t(\"./ConvertWorker\"),s=t(\"./GenericWorker\"),u=t(\"../base64\"),i=t(\"../support\"),a=t(\"../external\"),o=null;if(i.nodestream)try{o=t(\"../nodejs/NodejsStreamOutputAdapter\")}catch(t){}function l(t,o){return new a.Promise(function(e,r){var i=[],n=t._internalType,s=t._outputType,a=t._mimeType;t.on(\"data\",function(t,e){i.push(t),o&&o(e)}).on(\"error\",function(t){i=[],r(t)}).on(\"end\",function(){try{var t=function(t,e,r){switch(t){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",e),r);case\"base64\":return u.encode(e);default:return h.transformTo(t,e)}}(s,function(t,e){var r,i=0,n=null,s=0;for(r=0;r<e.length;r++)s+=e[r].length;switch(t){case\"string\":return e.join(\"\");case\"array\":return Array.prototype.concat.apply([],e);case\"uint8array\":for(n=new Uint8Array(s),r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n;case\"nodebuffer\":return Buffer.concat(e);default:throw new Error(\"concat : unsupported type '\"+t+\"'\")}}(n,i),a);e(t)}catch(t){r(t)}i=[]}).resume()})}function f(t,e,r){var i=e;switch(e){case\"blob\":case\"arraybuffer\":i=\"uint8array\";break;case\"base64\":i=\"string\"}try{this._internalType=i,this._outputType=e,this._mimeType=r,h.checkSupport(i),this._worker=t.pipe(new n(i)),t.lock()}catch(t){this._worker=new s(\"error\"),this._worker.error(t)}}f.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var r=this;return\"data\"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){h.delay(e,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},t)}},e.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(t,e,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:\"application/zip\"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),r.blob=0===n.getBlob(\"application/zip\").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t(\"readable-stream\").Readable}catch(t){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(t,e,s){\"use strict\";for(var o=t(\"./utils\"),h=t(\"./support\"),r=t(\"./nodejsUtils\"),i=t(\"./stream/GenericWorker\"),u=new Array(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;u[254]=u[254]=1;function a(){i.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){i.call(this,\"utf-8 encode\")}s.utf8encode=function(t){return h.nodebuffer?r.newBufferFrom(t,\"utf-8\"):function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=h.uint8array?new Uint8Array(o):new Array(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e}(t)},s.utf8decode=function(t){return h.nodebuffer?o.transformTo(\"nodebuffer\",t).toString(\"utf-8\"):function(t){var e,r,i,n,s=t.length,a=new Array(2*s);for(e=r=0;e<s;)if((i=t[e++])<128)a[r++]=i;else if(4<(n=u[i]))a[r++]=65533,e+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&e<s;)i=i<<6|63&t[e++],n--;1<n?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(t=o.transformTo(h.uint8array?\"uint8array\":\"array\",t))},o.inherits(a,i),a.prototype.processChunk=function(t){var e=o.transformTo(h.uint8array?\"uint8array\":\"array\",t.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}(e),n=e;i!==e.length&&(h.uint8array?(n=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(n=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:s.utf8decode(n),meta:t.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,i),l.prototype.processChunk=function(t){this.push({data:s.utf8encode(t.data),meta:t.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(t,e,a){\"use strict\";var o=t(\"./support\"),h=t(\"./base64\"),r=t(\"./nodejsUtils\"),i=t(\"set-immediate-shim\"),u=t(\"./external\");function n(t){return t}function l(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}a.newBlob=function(e,r){a.checkSupport(\"blob\");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(t){throw new Error(\"Bug : can't construct the Blob.\")}}};var s={stringifyByChunk:function(t,e,r){var i=[],n=0,s=t.length;if(s<=r)return String.fromCharCode.apply(null,t);for(;n<s;)\"array\"===e||\"nodebuffer\"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,s)))),n+=r;return i.join(\"\")},stringifyByChar:function(t){for(var e=\"\",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=a.getTypeOf(t),i=!0;if(\"uint8array\"===r?i=s.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(i=s.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return s.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return s.stringifyByChar(t)}function d(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}a.applyFromCharCode=f;var c={};c.string={string:n,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,r.allocBuffer(t.length))}},c.array={string:f,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},c.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return r.newBufferFrom(t)}},c.nodebuffer={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,e){if(e=e||\"\",!t)return e;a.checkSupport(t);var r=a.getTypeOf(e);return c[r][t](e)},a.getTypeOf=function(t){return\"string\"==typeof t?\"string\":\"[object Array]\"===Object.prototype.toString.call(t)?\"array\":o.nodebuffer&&r.isBuffer(t)?\"nodebuffer\":o.uint8array&&t instanceof Uint8Array?\"uint8array\":o.arraybuffer&&t instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(t){if(!o[t.toLowerCase()])throw new Error(t+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var e,r,i=\"\";for(r=0;r<(t||\"\").length;r++)i+=\"\\\\x\"+((e=t.charCodeAt(r))<16?\"0\":\"\")+e.toString(16).toUpperCase();return i},a.delay=function(t,e,r){i(function(){t.apply(r||null,e||[])})},a.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},a.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},a.prepareContent=function(r,t,i,n,s){return u.Promise.resolve(t).then(function(i){return o.blob&&(i instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(i)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(e,r){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){r(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=a.getTypeOf(t);return e?(\"arraybuffer\"===e?t=a.transformTo(\"uint8array\",t):\"string\"===e&&(s?t=h.decode(t):i&&!0!==n&&(t=function(t){return l(t,o.uint8array?new Uint8Array(t.length):new Array(t.length))}(t))),t):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,\"set-immediate-shim\":54}],33:[function(t,e,r){\"use strict\";var i=t(\"./reader/readerFor\"),n=t(\"./utils\"),s=t(\"./signature\"),a=t(\"./zipEntry\"),o=(t(\"./utf8\"),t(\"./support\"));function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+n.pretty(e)+\", expected \"+n.pretty(t)+\")\")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?\"uint8array\":\"array\",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=e-r;if(0<i)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(i)+\" bytes.\")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utf8\":31,\"./utils\":32,\"./zipEntry\":34}],34:[function(t,e,r){\"use strict\";var i=t(\"./reader/readerFor\"),s=t(\"./utils\"),n=t(\"./compressedObject\"),a=t(\"./crc32\"),o=t(\"./utf8\"),h=t(\"./compressions\"),u=t(\"./support\");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(e=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i};t.setIndex(n)},handleUTF8:function(){var t=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var n=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(t,e,r){\"use strict\";function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=t(\"./stream/StreamHelper\"),n=t(\"./stream/DataWorker\"),a=t(\"./utf8\"),o=t(\"./compressedObject\"),h=t(\"./stream/GenericWorker\");i.prototype={internalStream:function(t){var e=null,r=\"string\";try{if(!t)throw new Error(\"No output type specified.\");var i=\"string\"===(r=t.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),e=this._decompressWorker();var n=!this._dataBinary;n&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!n&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new h(\"error\")).error(t)}return new s(e,r,\"\")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||\"nodebuffer\").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new n(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)i.prototype[u[f]]=l;e.exports=i},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(t,l,e){(function(e){\"use strict\";var r,i,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var n=0,s=new t(u),a=e.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r=\"document\"in e&&\"onreadystatechange\"in e.document.createElement(\"script\")?function(){var t=e.document.createElement(\"script\");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var o=new e.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var t,e;i=!0;for(var r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}i=!1}l.exports=function(t){1!==h.push(t)||i||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(t,e,r){\"use strict\";var n=t(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],i=[\"PENDING\"];function o(t){if(\"function\"!=typeof t)throw new TypeError(\"resolver must be a function\");this.state=i,this.queue=[],this.outcome=void 0,t!==u&&c(this,t)}function h(t,e,r){this.promise=t,\"function\"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,r,i){n(function(){var t;try{t=r(i)}catch(t){return l.reject(e,t)}t===e?l.reject(e,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(e,t)})}function d(t){var e=t&&t.then;if(t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"function\"==typeof e)return function(){e.apply(t,arguments)}}function c(e,t){var r=!1;function i(t){r||(r=!0,l.reject(e,t))}function n(t){r||(r=!0,l.resolve(e,t))}var s=p(function(){t(n,i)});\"error\"===s.status&&i(s.value)}function p(t,e){var r={};try{r.value=t(e),r.status=\"success\"}catch(t){r.status=\"error\",r.value=t}return r}(e.exports=o).prototype.finally=function(e){if(\"function\"!=typeof e)return this;var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})},o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if(\"function\"!=typeof t&&this.state===a||\"function\"!=typeof e&&this.state===s)return this;var r=new this.constructor(u);this.state!==i?f(r,this.state===a?t:e,this.outcome):this.queue.push(new h(r,t,e));return r},h.prototype.callFulfilled=function(t){l.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){l.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},l.resolve=function(t,e){var r=p(d,e);if(\"error\"===r.status)return l.reject(t,r.value);var i=r.value;if(i)c(t,i);else{t.state=a,t.outcome=e;for(var n=-1,s=t.queue.length;++n<s;)t.queue[n].callFulfilled(e)}return t},l.reject=function(t,e){t.state=s,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},o.resolve=function(t){if(t instanceof this)return t;return l.resolve(new this(u),t)},o.reject=function(t){var e=new this(u);return l.reject(e,t)},o.all=function(t){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var i=t.length,n=!1;if(!i)return this.resolve([]);var s=new Array(i),a=0,e=-1,o=new this(u);for(;++e<i;)h(t[e],e);return o;function h(t,e){r.resolve(t).then(function(t){s[e]=t,++a!==i||n||(n=!0,l.resolve(o,s))},function(t){n||(n=!0,l.reject(o,t))})}},o.race=function(t){var e=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var r=t.length,i=!1;if(!r)return this.resolve([]);var n=-1,s=new this(u);for(;++n<r;)a=t[n],e.resolve(a).then(function(t){i||(i=!0,l.resolve(s,t))},function(t){i||(i=!0,l.reject(s,t))});var a;return s}},{immediate:36}],38:[function(t,e,r){\"use strict\";var i={};(0,t(\"./lib/utils/common\").assign)(i,t(\"./lib/deflate\"),t(\"./lib/inflate\"),t(\"./lib/zlib/constants\")),e.exports=i},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(t,e,r){\"use strict\";var a=t(\"./zlib/deflate\"),o=t(\"./utils/common\"),h=t(\"./utils/strings\"),n=t(\"./zlib/messages\"),s=t(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,d=0,c=8;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:\"\"},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==l)throw new Error(n[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i=\"string\"==typeof e.dictionary?h.string2buf(e.dictionary):\"[object ArrayBuffer]\"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=a.deflateSetDictionary(this.strm,i))!==l)throw new Error(n[r]);this._dict_set=!0}}function i(t,e){var r=new p(e);if(r.push(t,!0),r.err)throw r.msg||n[r.err];return r.result}p.prototype.push=function(t,e){var r,i,n=this.strm,s=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,\"string\"==typeof t?n.input=h.string2buf(t):\"[object ArrayBuffer]\"===u.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(s),n.next_out=0,n.avail_out=s),1!==(r=a.deflate(n,i))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==r);return 4===i?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==i||(this.onEnd(l),!(n.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=p,r.deflate=i,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(t,e,r){\"use strict\";var d=t(\"./zlib/inflate\"),c=t(\"./utils/common\"),p=t(\"./utils/strings\"),m=t(\"./zlib/constants\"),i=t(\"./zlib/messages\"),n=t(\"./zlib/zstream\"),s=t(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(t){if(!(this instanceof a))return new a(t);this.options=c.assign({chunkSize:16384,windowBits:0,to:\"\"},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var r=d.inflateInit2(this.strm,e.windowBits);if(r!==m.Z_OK)throw new Error(i[r]);this.header=new s,d.inflateGetHeader(this.strm,this.header)}function o(t,e){var r=new a(e);if(r.push(t,!0),r.err)throw r.msg||i[r.err];return r.result}a.prototype.push=function(t,e){var r,i,n,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof t?h.input=p.binstring2buf(t):\"[object ArrayBuffer]\"===_.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new c.Buf8(u),h.next_out=0,h.avail_out=u),(r=d.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=d.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||i!==m.Z_FINISH&&i!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(n=p.utf8border(h.output,h.next_out),s=h.next_out-n,a=p.buf2string(h.output,n),h.next_out=s,h.avail_out=u-s,s&&c.arraySet(h.output,h.output,n,s,0),this.onData(a)):this.onData(c.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(i=m.Z_FINISH),i===m.Z_FINISH?(r=d.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):i!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(t){this.chunks.push(t)},a.prototype.onEnd=function(t){t===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){var e,r,i,n,s,a;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(a=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)s=t[e],a.set(s,n),n+=s.length;return a}},s={arraySet:function(t,e,r,i,n){for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(i)},{}],42:[function(t,e,r){\"use strict\";var h=t(\"./common\"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var u=new h.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,h.shrinkBuf(t,e));for(var r=\"\",i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r}u[254]=u[254]=1,r.string2buf=function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new h.Buf8(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e},r.buf2binstring=function(t){return l(t,t.length)},r.binstring2buf=function(t){for(var e=new h.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,s,a=e||t.length,o=new Array(2*a);for(r=i=0;r<a;)if((n=t[r++])<128)o[i++]=n;else if(4<(s=u[n]))o[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&r<a;)n=n<<6|63&t[r++],s--;1<s?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return l(o,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}},{\"./common\":41}],43:[function(t,e,r){\"use strict\";e.exports=function(t,e,r,i){for(var n=65535&t|0,s=t>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(n=n+e[i++]|0)|0,--a;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(t,e,r){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){\"use strict\";var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,r){\"use strict\";var h,d=t(\"../utils/common\"),u=t(\"./trees\"),c=t(\"./adler32\"),p=t(\"./crc32\"),i=t(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,n=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(t,e){return t.msg=i[e],e}function T(t){return(t<<1)-(4<t?9:0)}function D(t){for(var e=t.length;0<=--e;)t[e]=0}function F(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(d.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function N(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,F(t.strm)}function U(t,e){t.pending_buf[t.pending++]=e}function P(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function L(t,e){var r,i,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,u=t.window,l=t.w_mask,f=t.prev,d=t.strstart+S,c=u[s+a-1],p=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(r=e)+a]===p&&u[r+a-1]===c&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<d);if(i=S-(d-s),s=d-S,a<i){if(t.match_start=e,o<=(a=i))break;c=u[s+a-1],p=u[s+a]}}}while((e=f[e&l])>h&&0!=--n);return a<=t.lookahead?a:t.lookahead}function j(t){var e,r,i,n,s,a,o,h,u,l,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-z)){for(d.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=r=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--r;);for(e=r=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--r;);n+=f}if(0===t.strm.avail_in)break;if(a=t.strm,o=t.window,h=t.strstart+t.lookahead,u=n,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,d.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=c(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),t.lookahead+=r,t.lookahead+t.insert>=x)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+x-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function Z(t,e){for(var r,i;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r)),t.match_length>=x)if(i=u._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function W(t,e){for(var r,i,n;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,i=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=u._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function M(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*w),this.dyn_dtree=new d.Buf16(2*(2*a+1)),this.bl_tree=new d.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(k+1),this.heap=new d.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?C:E,t.adler=2===e.wrap?0:1,e.last_flush=l,u._tr_init(e),m):R(t,_)}function K(t){var e=G(t);return e===m&&function(t){t.window_size=2*t.w_size,D(t.head),t.max_lazy_match=h[t.level].max_lazy,t.good_match=h[t.level].good_length,t.nice_match=h[t.level].nice_length,t.max_chain_length=h[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function Y(t,e,r,i,n,s){if(!t)return _;var a=1;if(e===g&&(e=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),n<1||y<n||r!==v||i<8||15<i||e<0||9<e||s<0||b<s)return R(t,_);8===i&&(i=9);var o=new H;return(t.state=o).strm=t,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new d.Buf8(2*o.w_size),o.head=new d.Buf16(o.hash_size),o.prev=new d.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new d.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=r,K(t)}h=[new M(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&e===l)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,N(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-z&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(t,e){return Y(t,e,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?_:(t.state.gzhead=e,m):_},r.deflate=function(t,e){var r,i,n,s;if(!t||!t.state||5<e||e<0)return t?R(t,_):_;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==f)return R(t,0===t.avail_out?-5:_);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===C)if(2===i.wrap)t.adler=0,U(i,31),U(i,139),U(i,8),i.gzhead?(U(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),U(i,255&i.gzhead.time),U(i,i.gzhead.time>>8&255),U(i,i.gzhead.time>>16&255),U(i,i.gzhead.time>>24&255),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(U(i,255&i.gzhead.extra.length),U(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=p(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(U(i,0),U(i,0),U(i,0),U(i,0),U(i,0),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,3),i.status=E);else{var a=v+(i.w_bits-8<<4)<<8;a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=E,P(i,a),0!==i.strstart&&(P(i,t.adler>>>16),P(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending!==i.pending_buf_size));)U(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&F(t),i.pending+2<=i.pending_buf_size&&(U(i,255&t.adler),U(i,t.adler>>8&255),t.adler=0,i.status=E)):i.status=E),0!==i.pending){if(F(t),0===t.avail_out)return i.last_flush=-1,m}else if(0===t.avail_in&&T(e)<=T(r)&&e!==f)return R(t,-5);if(666===i.status&&0!==t.avail_in)return R(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var o=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(e===l)return A;break}if(t.match_length=0,r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):3===i.strategy?function(t,e){for(var r,i,n,s,a=t.window;;){if(t.lookahead<=S){if(j(t),t.lookahead<=S&&e===l)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=a[n=t.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){s=t.strstart+S;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s);t.match_length=S-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(r=u._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):h[i.level].func(i,e);if(o!==O&&o!==B||(i.status=666),o===A||o===O)return 0===t.avail_out&&(i.last_flush=-1),m;if(o===I&&(1===e?u._tr_align(i):5!==e&&(u._tr_stored_block(i,0,0,!1),3===e&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),F(t),0===t.avail_out))return i.last_flush=-1,m}return e!==f?m:i.wrap<=0?1:(2===i.wrap?(U(i,255&t.adler),U(i,t.adler>>8&255),U(i,t.adler>>16&255),U(i,t.adler>>24&255),U(i,255&t.total_in),U(i,t.total_in>>8&255),U(i,t.total_in>>16&255),U(i,t.total_in>>24&255)):(P(i,t.adler>>>16),P(i,65535&t.adler)),F(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?m:1)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==C&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?R(t,_):(t.state=null,e===E?R(t,-3):m):_},r.deflateSetDictionary=function(t,e){var r,i,n,s,a,o,h,u,l=e.length;if(!t||!t.state)return _;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(t.adler=c(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new d.Buf8(r.w_size),d.arraySet(u,e,l-r.w_size,r.w_size,0),e=u,l=r.w_size),a=t.avail_in,o=t.next_in,h=t.input,t.avail_in=l,t.next_in=0,t.input=e,j(r);r.lookahead>=x;){for(i=r.strstart,n=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+x-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--n;);r.strstart=i,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,t.next_in=o,t.input=h,t.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(t,e,r){\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){\"use strict\";e.exports=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C;r=t.state,i=t.next_in,z=t.input,n=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,d=r.window,c=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=m[c&g];e:for(;;){if(c>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(c&(1<<y)-1)];continue e}if(32&y){r.mode=12;break t}t.msg=\"invalid literal/length code\",r.mode=30;break t}w=65535&v,(y&=15)&&(p<y&&(c+=z[i++]<<p,p+=8),w+=c&(1<<y)-1,c>>>=y,p-=y),p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=_[c&b];r:for(;;){if(c>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(c&(1<<y)-1)];continue r}t.msg=\"invalid distance code\",r.mode=30;break t}if(k=65535&v,p<(y&=15)&&(c+=z[i++]<<p,(p+=8)<y&&(c+=z[i++]<<p,p+=8)),h<(k+=c&(1<<y)-1)){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(c>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(S=d,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=d[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=d[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(i<n&&s<o);i-=w=p>>3,c&=(1<<(p-=w<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),r.hold=c,r.bits=p}},{}],49:[function(t,e,r){\"use strict\";var I=t(\"../utils/common\"),O=t(\"./adler32\"),B=t(\"./crc32\"),R=t(\"./inffast\"),T=t(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,i=852,n=592;function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=P,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new I.Buf32(i),e.distcode=e.distdyn=new I.Buf32(n),e.sane=1,e.back=-1,N):U}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,a(t)):U}function h(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?U:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,o(t))):U}function u(t,e){var r,i;return t?(i=new s,(t.state=i).window=null,(r=h(t,e))!==N&&(t.state=null),r):U}var l,f,d=!0;function j(t){if(d){var e;for(l=new I.Buf32(512),f=new I.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(T(D,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;T(F,t.lens,0,32,f,0,t.work,{bits:5}),d=!1}t.lencode=l,t.lenbits=9,t.distcode=f,t.distbits=5}function Z(t,e,r,i){var n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),i>=s.wsize?(I.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(n=s.wsize-s.wnext)&&(n=i),I.arraySet(s.window,e,r-i,n,s.wnext),(i-=n)?(I.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(t){return u(t,15)},r.inflateInit2=u,r.inflate=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return U;12===(r=t.state).mode&&(r.mode=13),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,f=o,d=h,x=N;t:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){t.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,t.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){t.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){t.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(c=r.length)&&(c=o),c&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,i,s,c,k)),512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,r.length-=c),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(65535&r.check)){t.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}t.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==e)break;u>>>=2,l-=2;break t;case 2:r.mode=17;break;case 3:t.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(c=r.length){if(o<c&&(c=o),h<c&&(c=h),0===c)break t;I.arraySet(n,i,s,c,a),o-=c,s+=c,h-=c,a+=c,r.length-=c;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){t.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){t.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],c=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+c>r.nlen+r.ndist){t.msg=\"invalid bit length repeat\",r.mode=30;break}for(;c--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){t.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){t.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=o&&258<=h){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,R(t,d),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){t.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){t.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break t;if(c=d-h,r.offset>c){if((c=r.offset-c)>r.whave&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break}p=c>r.wnext?(c-=r.wnext,r.wsize-c):r.wnext-c,c>r.length&&(c=r.length),m=r.window}else m=n,p=a-r.offset,c=r.length;for(h<c&&(c=h),h-=c,r.length-=c;n[a++]=m[p++],--c;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break t;n[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break t;o--,u|=i[s++]<<l,l+=8}if(d-=h,t.total_out+=d,r.total+=d,d&&(t.adler=r.check=r.flags?B(r.check,n,d,a-d):O(r.check,n,d,a-d)),d=h,(r.flags?u:L(u))!==r.check){t.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(4294967295&r.total)){t.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return U}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&Z(t,t.output,t.next_out,d-t.avail_out)?(r.mode=31,-4):(f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,r.total+=d,r.wrap&&d&&(t.adler=r.check=r.flags?B(r.check,n,d,t.next_out-d):O(r.check,n,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===d||4===e)&&x===N&&(x=-5),x)},r.inflateEnd=function(t){if(!t||!t.state)return U;var e=t.state;return e.window&&(e.window=null),t.state=null,N},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?U:((r.head=e).done=!1,N):U},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,e,i,0)!==r.check?-3:Z(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(t,e,r){\"use strict\";var D=t(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,i,n,s,a,o){var h,u,l,f,d,c,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<i;v++)O[e[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===t||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<i;v++)0!==e[r+v]&&(a[B[e[r+v]]++]=v);if(c=0===t?(A=R=a,19):1===t?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,d=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<c?(m=0,a[v]):a[v]>c?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;n[d+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=e[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),d+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===t&&852<C||2===t&&592<C)return 1;n[l=E&f]=k<<24|x<<16|d-s|0}}return 0!==E&&(n[d+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(t,e,r){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(t,e,r){\"use strict\";var n=t(\"../utils/common\"),o=0,h=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,a=29,u=256,l=u+1+a,f=30,d=19,_=2*l+1,g=15,c=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));i(z);var C=new Array(2*f);i(C);var E=new Array(512);i(E);var A=new Array(256);i(A);var I=new Array(a);i(I);var O,B,R,T=new Array(f);function D(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function F(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?E[t]:E[256+(t>>>7)]}function U(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function P(t,e,r){t.bi_valid>c-r?(t.bi_buf|=e<<t.bi_valid&65535,U(t,t.bi_buf),t.bi_buf=e>>c-t.bi_valid,t.bi_valid+=r-c):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function L(t,e,r){P(t,r[2*e],r[2*e+1])}function j(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function Z(t,e,r){var i,n,s=new Array(g+1),a=0;for(i=1;i<=g;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=j(s[o]++,o))}}function W(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<d;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?U(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,r,i){var n=2*e,s=2*r;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]}function G(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&H(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!H(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function K(t,e,r){var i,n,s,a,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?L(t,n,e):(L(t,(s=A[n])+u+1,e),0!==(a=w[s])&&P(t,n-=I[s],a),L(t,s=N(--i),r),0!==(a=k[s])&&P(t,i-=T[s],a)),o<t.last_lit;);L(t,m,e)}function Y(t,e){var r,i,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;1<=r;r--)G(t,s,r);for(n=h;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,s[2*n]=s[2*r]+s[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,s[2*r+1]=s[2*i+1]=n,t.heap[1]=n++,G(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,s,a,o,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=g;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<_;r++)p<(s=h[2*h[2*(i=t.heap[r])+1]+1]+1)&&(s=p,m++),h[2*i+1]=s,u<i||(t.bl_count[s]++,a=0,c<=i&&(a=d[i-c]),o=h[2*i],t.opt_len+=o*(s+a),f&&(t.static_len+=o*(l[2*i+1]+a)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)u<(n=t.heap[--r])||(h[2*n+1]!==s&&(t.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),i--)}}(t,e),Z(s,u,t.bl_count)}function X(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=e[2*(i+1)+1],++o<h&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*b]++):o<=10?t.bl_tree[2*v]++:t.bl_tree[2*y]++,s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4))}function V(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),i=0;i<=r;i++)if(n=a,a=e[2*(i+1)+1],!(++o<h&&n===a)){if(o<u)for(;L(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==s&&(L(t,n,t.bl_tree),o--),L(t,b,t.bl_tree),P(t,o-3,2)):o<=10?(L(t,v,t.bl_tree),P(t,o-3,3)):(L(t,y,t.bl_tree),P(t,o-11,7));s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4)}}i(T);var q=!1;function J(t,e,r,i){P(t,(s<<1)+(i?1:0),3),function(t,e,r,i){M(t),i&&(U(t,r),U(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){q||(function(){var t,e,r,i,n,s=new Array(g+1);for(i=r=0;i<a-1;i++)for(I[i]=r,t=0;t<1<<w[i];t++)A[r++]=i;for(A[r-1]=i,i=n=0;i<16;i++)for(T[i]=n,t=0;t<1<<k[i];t++)E[n++]=i;for(n>>=7;i<f;i++)for(T[i]=n<<7,t=0;t<1<<k[i]-7;t++)E[256+n++]=i;for(e=0;e<=g;e++)s[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,s[8]++;for(;t<=255;)z[2*t+1]=9,t++,s[9]++;for(;t<=279;)z[2*t+1]=7,t++,s[7]++;for(;t<=287;)z[2*t+1]=8,t++,s[8]++;for(Z(z,l+1,s),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=j(t,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,d,p)}(),q=!0),t.l_desc=new F(t.dyn_ltree,O),t.d_desc=new F(t.dyn_dtree,B),t.bl_desc=new F(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,W(t)},r._tr_stored_block=J,r._tr_flush_block=function(t,e,r,i){var n,s,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return h;return o}(t)),Y(t,t.l_desc),Y(t,t.d_desc),a=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),Y(t,t.bl_desc),e=d-1;3<=e&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==e?J(t,e,r,i):4===t.strategy||s===n?(P(t,2+(i?1:0),3),K(t,z,C)):(P(t,4+(i?1:0),3),function(t,e,r,i){var n;for(P(t,e-257,5),P(t,r-1,5),P(t,i-4,4),n=0;n<i;n++)P(t,t.bl_tree[2*S[n]+1],3);V(t,t.dyn_ltree,e-1),V(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),K(t,t.dyn_ltree,t.dyn_dtree)),W(t),i&&M(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(A[r]+u+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){P(t,2,3),L(t,m,z),function(t){16===t.bi_valid?(U(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{\"../utils/common\":41}],53:[function(t,e,r){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){\"use strict\";e.exports=\"function\"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../buffer/index.js */ \"./node_modules/buffer/index.js\").Buffer, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../timers-browserify/main.js */ \"./node_modules/timers-browserify/main.js\").setImmediate))\n\n//# sourceURL=webpack:///./node_modules/jszip/dist/jszip.min.js?");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n//# sourceURL=webpack:///./node_modules/process/browser.js?");

/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n//# sourceURL=webpack:///./node_modules/setimmediate/setImmediate.js?");

/***/ }),

/***/ "./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(/*! setimmediate */ \"./node_modules/setimmediate/setImmediate.js\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./node_modules/timers-browserify/main.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/js/canvas/canvas.js":
/*!*********************************!*\
  !*** ./src/js/canvas/canvas.js ***!
  \*********************************/
/*! exports provided: constructCanvas, reassignReferenceToNewCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"constructCanvas\", function() { return constructCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reassignReferenceToNewCanvas\", function() { return reassignReferenceToNewCanvas; });\n/* harmony import */ var _utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/drawShapesViaCoordinates/drawShapesViaCoordinates */ \"./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js\");\n/* harmony import */ var _tools_toolkit_buttonClickEvents_facade__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/toolkit/buttonClickEvents/facade */ \"./src/js/tools/toolkit/buttonClickEvents/facade.js\");\n/* harmony import */ var _tools_toolkit_buttonClickEvents_facadeWorkersUtils_resetCanvasEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/toolkit/buttonClickEvents/facadeWorkersUtils/resetCanvasEvents */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkersUtils/resetCanvasEvents.js\");\n/* harmony import */ var _utils_fabricUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/fabricUtils */ \"./src/js/canvas/utils/fabricUtils.js\");\n/* harmony import */ var _objects_label_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./objects/label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasAfterAddPoints__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasAfterAddPoints */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasAfterAddPoints.js\");\n/* harmony import */ var _tools_globalStyling_windowResize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/globalStyling/windowResize */ \"./src/js/tools/globalStyling/windowResize.js\");\n/* harmony import */ var _objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./objects/allShapes/labelAndShapeBuilder */ \"./src/js/canvas/objects/allShapes/labelAndShapeBuilder.js\");\n/* harmony import */ var _tools_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/dimWindow/dimWindowService */ \"./src/js/tools/dimWindow/dimWindowService.js\");\n/* harmony import */ var _tools_toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js\");\n/* harmony import */ var _utils_canvasUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/canvasUtils */ \"./src/js/canvas/utils/canvasUtils.js\");\n/* harmony import */ var _tools_settingsPopup_buttonClickEvents__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/settingsPopup/buttonClickEvents */ \"./src/js/tools/settingsPopup/buttonClickEvents.js\");\n/* harmony import */ var _keyEvents_keyboard_hotKeys__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../keyEvents/keyboard/hotKeys */ \"./src/js/keyEvents/keyboard/hotKeys.js\");\n/* harmony import */ var _tools_imageList_canvasManagement__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/imageList/canvasManagement */ \"./src/js/tools/imageList/canvasManagement.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet currentCanvasInstance = null;\r\n\r\nfunction repopulateCanvasReference(canvas) {\r\n  Object(_tools_toolkit_buttonClickEvents_facade__WEBPACK_IMPORTED_MODULE_1__[\"assignCanvasMouseEvents\"])(canvas);\r\n  Object(_keyEvents_keyboard_hotKeys__WEBPACK_IMPORTED_MODULE_13__[\"assignCanvasForHotKeys\"])(canvas);\r\n  Object(_tools_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_9__[\"assignCanvasToDimWindowService\"])(canvas);\r\n  Object(_objects_label_label__WEBPACK_IMPORTED_MODULE_4__[\"assignCanvasForLabelManipulation\"])(canvas);\r\n  Object(_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_5__[\"assignCanvasForShapeFillManipulation\"])(canvas);\r\n  Object(_tools_toolkit_buttonClickEvents_facadeWorkersUtils_resetCanvasEvents__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas);\r\n  Object(_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasAfterAddPoints__WEBPACK_IMPORTED_MODULE_6__[\"assignCanvasForResettingToDefaultAfterAddPoints\"])(canvas);\r\n  Object(_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_0__[\"assignCanvasForDrawingShapesViaCoordinates\"])(canvas);\r\n  Object(_tools_globalStyling_windowResize__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(canvas);\r\n  Object(_objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_8__[\"assignCanvasForLabelAndShapeBuilder\"])(canvas);\r\n  Object(_tools_settingsPopup_buttonClickEvents__WEBPACK_IMPORTED_MODULE_12__[\"assignCanvasForSettingsPopup\"])(canvas);\r\n  Object(_tools_imageList_canvasManagement__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(canvas);\r\n  Object(_tools_toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_10__[\"initialiseZoomVariables\"])(canvas);\r\n}\r\n\r\nfunction constructCanvas() {\r\n  Object(_utils_fabricUtils__WEBPACK_IMPORTED_MODULE_3__[\"setBoundingBoxEditToolsToBeTransparent\"])();\r\n  currentCanvasInstance = Object(_utils_fabricUtils__WEBPACK_IMPORTED_MODULE_3__[\"createNewCanvas\"])();\r\n  Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_11__[\"assignCanvasForUtils\"])(currentCanvasInstance);\r\n  repopulateCanvasReference(currentCanvasInstance);\r\n}\r\n\r\nfunction reassignReferenceToNewCanvas() {\r\n  currentCanvasInstance = Object(_utils_fabricUtils__WEBPACK_IMPORTED_MODULE_3__[\"reasignCanvas\"])();\r\n  Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_11__[\"assignNewCanvasForUtils\"])(currentCanvasInstance);\r\n  repopulateCanvasReference(currentCanvasInstance);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/canvas.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/cursorModes/addPointsMode.js":
/*!**********************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/cursorModes/addPointsMode.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setAddPointsMode; });\n/* harmony import */ var _objects_polygon_alterPolygon_changePointsStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../objects/polygon/alterPolygon/changePointsStyle */ \"./src/js/canvas/objects/polygon/alterPolygon/changePointsStyle.js\");\n\r\n\r\nfunction setAddPointsMode(canvas, startingPoint) {\r\n  Object(_objects_polygon_alterPolygon_changePointsStyle__WEBPACK_IMPORTED_MODULE_0__[\"changePolygonPointsToWaitForAddingFirstPointImpl\"])(canvas, startingPoint);\r\n  canvas.defaultCursor = 'crosshair';\r\n  canvas.hoverCursor = 'crosshair';\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/cursorModes/addPointsMode.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js":
/*!********************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js ***!
  \********************************************************************/
/*! exports provided: setDefaultCursorMode, setDefaultCursorModeWhenReadyToDrawShapes, setDefaultCursorModeAfterAlteringPolygonPoints */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDefaultCursorMode\", function() { return setDefaultCursorMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDefaultCursorModeWhenReadyToDrawShapes\", function() { return setDefaultCursorModeWhenReadyToDrawShapes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDefaultCursorModeAfterAlteringPolygonPoints\", function() { return setDefaultCursorModeAfterAlteringPolygonPoints; });\n/* harmony import */ var _objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/objectsProperties/changeProperties */ \"./src/js/canvas/objects/objectsProperties/changeProperties.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\n\r\n\r\nfunction setDefaultCanvasCursors(canvas) {\r\n  canvas.defaultCursor = 'default';\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getMovableObjectsState\"])()) {\r\n    canvas.hoverCursor = 'move';\r\n  } else {\r\n    canvas.hoverCursor = 'default';\r\n  }\r\n  canvas.renderAll();\r\n}\r\n\r\n// important to remember that this will reset perPixelTargetFind to true\r\n// only when the mode is being reset to default\r\nfunction setDefaultCursorMode(canvas) {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName !== 'bndBox') {\r\n      iteratedObj.perPixelTargetFind = true;\r\n    }\r\n    iteratedObj.selectable = true;\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getMovableObjectsState\"])()) {\r\n      iteratedObj.hoverCursor = 'move';\r\n    } else {\r\n      iteratedObj.hoverCursor = 'default';\r\n    }\r\n  });\r\n  setDefaultCanvasCursors(canvas);\r\n}\r\n\r\nfunction setDefaultCursorModeAfterAlteringPolygonPoints(canvas) {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"changePolygonPointsPropertiesToDefault\"])(canvas);\r\n  setDefaultCanvasCursors(canvas);\r\n}\r\n\r\nfunction setDefaultCursorModeWhenReadyToDrawShapes(canvas) {\r\n  Object(_objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_1__[\"setObjectPropertiesToDefaultWhenReadyToDraw\"])(canvas);\r\n  setDefaultCanvasCursors(canvas);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/cursorModes/drawMode.js":
/*!*****************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/cursorModes/drawMode.js ***!
  \*****************************************************************/
/*! exports provided: setDrawCursorMode, resetObjectCursors, waitingForLabelCursorMode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDrawCursorMode\", function() { return setDrawCursorMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetObjectCursors\", function() { return resetObjectCursors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"waitingForLabelCursorMode\", function() { return waitingForLabelCursorMode; });\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\nfunction setAllObjectsToUneditable(canvas) {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName !== 'tempPoint' && iteratedObj.shapeName !== 'firstPoint') {\r\n      if (iteratedObj.shapeName !== 'bndBox') {\r\n        iteratedObj.perPixelTargetFind = false;\r\n      }\r\n      iteratedObj.selectable = false;\r\n      iteratedObj.hoverCursor = 'crosshair';\r\n    }\r\n  });\r\n}\r\n\r\nfunction setDrawCursorMode(canvas) {\r\n  canvas.discardActiveObject();\r\n  setAllObjectsToUneditable(canvas);\r\n  canvas.defaultCursor = 'crosshair';\r\n  canvas.hoverCursor = 'crosshair';\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction resetObjectCursors(canvas) {\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getMovableObjectsState\"])()) {\r\n    canvas.forEachObject((iteratedObj) => {\r\n      iteratedObj.hoverCursor = null;\r\n    });\r\n  } else {\r\n    canvas.forEachObject((iteratedObj) => {\r\n      iteratedObj.hoverCursor = 'default';\r\n    });\r\n  }\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction waitingForLabelCursorMode(canvas) {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    iteratedObj.hoverCursor = 'default';\r\n  });\r\n  canvas.defaultCursor = 'default';\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/cursorModes/drawMode.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode.js":
/*!*************************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setInitialStageOfAddPointsOnExistingPolygonMode; });\n/* harmony import */ var _objects_polygon_properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../objects/polygon/properties */ \"./src/js/canvas/objects/polygon/properties.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\n\r\n// change - objectsProperties\r\n// follow pattern used in remove points\r\nfunction changeOjectPropertiesForChoosingInitialPoint(canvas, isDrawing) {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (isDrawing) {\r\n      if (iteratedObj.shapeName !== 'bndBox') {\r\n        iteratedObj.perPixelTargetFind = true;\r\n      }\r\n    }\r\n    if (iteratedObj.shapeName === 'bndBox') {\r\n      iteratedObj.selectable = false;\r\n    } else {\r\n      iteratedObj.lockMovementX = true;\r\n      iteratedObj.lockMovementY = true;\r\n    }\r\n    if (iteratedObj.shapeName === 'point') {\r\n      iteratedObj.set(_objects_polygon_properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].additionalPoint());\r\n    }\r\n    iteratedObj.hoverCursor = 'default';\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction setInitialStageOfAddPointsOnExistingPolygonMode(canvas) {\r\n  const isDrawing = !(Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getDefaultState\"])() || Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getAddingPolygonPointsState\"])());\r\n  changeOjectPropertiesForChoosingInitialPoint(canvas, isDrawing);\r\n  canvas.defaultCursor = 'default';\r\n  canvas.hoverCursor = 'default';\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/cursorModes/removePointsOnDrawNewPolygonMode.js":
/*!*****************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/cursorModes/removePointsOnDrawNewPolygonMode.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setRemovePointsOnDrawNewPolygonMode; });\nfunction setRemovePointsOnDrawNewPolygonMode(canvas) {\r\n  canvas.defaultCursor = 'default';\r\n  canvas.hoverCursor = 'default';\r\n  canvas.renderAll();\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName === 'polygon' || iteratedObj.shapeName === 'bndBox') {\r\n      iteratedObj.hoverCursor = 'default';\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/cursorModes/removePointsOnDrawNewPolygonMode.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/cursorModes/removePointsOnExistingPolygonMode.js":
/*!******************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/cursorModes/removePointsOnExistingPolygonMode.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setRemovePointsOnExistingPolygonMode; });\n/* harmony import */ var _objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../objects/objectsProperties/changeProperties */ \"./src/js/canvas/objects/objectsProperties/changeProperties.js\");\n\r\n\r\nfunction setRemovePointsOnExistingPolygonMode(canvas) {\r\n  canvas.defaultCursor = 'default';\r\n  canvas.hoverCursor = 'default';\r\n  Object(_objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_0__[\"setObjectsHoverCursorToDefault\"])(canvas);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/cursorModes/removePointsOnExistingPolygonMode.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers.js":
/*!*********************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignAddPointsOnExistingPolygonEvents; });\n/* harmony import */ var _eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventWorkers/addPointsEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker.js\");\n\r\n\r\nfunction assignAddPointsOnExistingPolygonEvents(canvas) {\r\n  Object(_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"setAddPointsEventsCanvas\"])(canvas);\r\n\r\n  canvas.on('mouse:down', (e) => {\r\n    Object(_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseDownEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:over', (e) => {\r\n    Object(_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"mouseOverEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:move', (e) => {\r\n    Object(_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"mouseMove\"])(e);\r\n  });\r\n\r\n  canvas.on('object:moving', (e) => {\r\n    Object(_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"moveAddPoints\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:up', (e) => {\r\n    Object(_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseUpEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:out', (e) => {\r\n    Object(_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"mouseOutEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:wheel', (e) => {\r\n    Object(_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"shapeScrollEvents\"])(e);\r\n  });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js":
/*!*******************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignDefaultEvents; });\n/* harmony import */ var _eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventWorkers/editPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js\");\n\r\n\r\n// not just for polygon\r\nfunction assignDefaultEvents(canvas, polygonId, afterAddPoints) {\r\n  Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"setEditPolygonEventObjects\"])(canvas, polygonId, afterAddPoints);\r\n\r\n  canvas.on('mouse:down', (e) => {\r\n    Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"polygonMouseDownEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:up', (e) => {\r\n    Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"polygonMouseUpEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('object:moving', (e) => {\r\n    Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"polygonMoveEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('object:scaling', (e) => {\r\n    Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"boundingBoxScalingEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:over', (e) => {\r\n    Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"shapeMouseOverEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:wheel', (e) => {\r\n    Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"shapeScrollEvents\"])(e);\r\n  });\r\n\r\n  // edit this\r\n  canvas.on('mouse:out', (e) => {\r\n    if (e.target) {\r\n      Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"shapeMouseOutEvents\"])(e);\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers.js":
/*!**********************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignDrawBoundingBoxEvents; });\n/* harmony import */ var _objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../objects/boundingBox/boundingBox */ \"./src/js/canvas/objects/boundingBox/boundingBox.js\");\n\r\n\r\nfunction assignDrawBoundingBoxEvents(canvas) {\r\n  Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__[\"prepareCanvasForNewBoundingBox\"])(canvas);\r\n\r\n  canvas.on('mouse:down', () => {\r\n    Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__[\"instantiateNewBoundingBox\"])();\r\n  });\r\n\r\n  canvas.on('mouse:move', (e) => {\r\n    Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__[\"drawBoundingBox\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:up', () => {\r\n    Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__[\"finishDrawingBoundingBox\"])();\r\n  });\r\n\r\n  canvas.on('mouse:wheel', (e) => {\r\n    Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__[\"shapeScrollEvents\"])(e);\r\n  });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js":
/*!***********************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignDrawPolygonEvents; });\n/* harmony import */ var _objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n\r\n\r\n// should be moved to event worker\r\nfunction assignDrawPolygonEvents(canvas, resume) {\r\n  if (!resume) {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"prepareCanvasForNewPolygon\"])(canvas);\r\n  } else {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"resumeDrawingAfterRemovePoints\"])();\r\n  }\r\n  canvas.on('mouse:down', (e) => {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"instantiatePolygon\"])(e);\r\n  });\r\n\r\n  canvas.on('object:moving', (e) => {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"movePoints\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:move', (e) => {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"drawPolygon\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:up', () => {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"placeholderToAddMouseDownEvents\"])();\r\n  });\r\n\r\n  canvas.on('mouse:wheel', (e) => {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"shapeScrollEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:over', (e) => {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"polygonMouseOverEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:out', (e) => {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_0__[\"polygonMouseOutEvents\"])(e);\r\n  });\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsEventHandlers.js":
/*!************************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsEventHandlers.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignRemovePointsOnExistingPolygonEvents; });\n/* harmony import */ var _eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventWorkers/removePointsEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsEventsWorker.js\");\n\r\n\r\nfunction assignRemovePointsOnExistingPolygonEvents(canvas) {\r\n  Object(_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"setRemovablePointsEventsCanvas\"])(canvas);\r\n\r\n  canvas.on('mouse:down', (e) => {\r\n    Object(_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseDownEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:over', (e) => {\r\n    Object(_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseOverEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:up', (e) => {\r\n    Object(_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseUpEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:out', (e) => {\r\n    Object(_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseOutEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:move', (e) => {\r\n    Object(_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseMoveEvents\"])(e);\r\n  });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsEventHandlers.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsOnDrawPolygonEventHandlers.js":
/*!*************************************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsOnDrawPolygonEventHandlers.js ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignRemovePointsOnDrawPolygonEvents; });\n/* harmony import */ var _eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventWorkers/removePointsOnNewPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsOnNewPolygonEventsWorker.js\");\n/* harmony import */ var _objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n\r\n\r\n\r\nfunction assignRemovePointsOnDrawPolygonEvents(canvas) {\r\n  Object(_eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"setRemovablePointsEventsCanvas\"])(canvas, Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__[\"getTempPolygon\"])());\r\n\r\n  canvas.on('mouse:down', (e) => {\r\n    Object(_eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseDownEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:over', (e) => {\r\n    Object(_eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseOverEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:up', (e) => {\r\n    Object(_eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseUpEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:out', (e) => {\r\n    Object(_eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseOutEvents\"])(e);\r\n  });\r\n\r\n  canvas.on('mouse:move', (e) => {\r\n    Object(_eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"pointMouseMoveEvents\"])(e);\r\n  });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsOnDrawPolygonEventHandlers.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker.js":
/*!*******************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker.js ***!
  \*******************************************************************************************/
/*! exports provided: mouseMove, moveAddPoints, mouseOutEvents, mouseOverEvents, shapeScrollEvents, pointMouseUpEvents, addPointViaKeyboard, pointMouseDownEvents, setAddPointsEventsCanvas, setPolygonNotEditableOnClick, getSelectedPolygonIdForAddPoints */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mouseMove\", function() { return mouseMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"moveAddPoints\", function() { return moveAddPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mouseOutEvents\", function() { return mouseOutEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mouseOverEvents\", function() { return mouseOverEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shapeScrollEvents\", function() { return shapeScrollEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseUpEvents\", function() { return pointMouseUpEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPointViaKeyboard\", function() { return addPointViaKeyboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseDownEvents\", function() { return pointMouseDownEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAddPointsEventsCanvas\", function() { return setAddPointsEventsCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPolygonNotEditableOnClick\", function() { return setPolygonNotEditableOnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSelectedPolygonIdForAddPoints\", function() { return getSelectedPolygonIdForAddPoints; });\n/* harmony import */ var _editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js\");\n/* harmony import */ var _objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/canvasUtils */ \"./src/js/canvas/utils/canvasUtils.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../tools/labelList/labelListHighlightUtils */ \"./src/js/tools/labelList/labelListHighlightUtils.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../keyEvents/mouse/mouseMove */ \"./src/js/keyEvents/mouse/mouseMove.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Originally designed to be turned off after the points have been successfully added to a polygon\r\n\r\nlet selectedPolygonId = null;\r\nlet newPolygonSelected = false;\r\nlet canvas = null;\r\nlet addingPoints = false;\r\nlet selectedNothing = false;\r\nlet addFirstPointMode = false;\r\nlet coordinatesOfLastMouseHover = null;\r\nlet mouseIsDownOnTempPoint = false;\r\nlet activeShape = null;\r\nlet currentlyHoveredPoint = null;\r\nlet lastMouseEvent = null;\r\nlet mouseMoved = false;\r\nlet lastHoveredPoint = null;\r\nlet ignoredFirstMouseMovement = false;\r\n\r\nfunction selectShape(shapeId) {\r\n  Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_4__[\"highlightLabelInTheList\"])(shapeId);\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setRemoveShapeButtonToDefault\"])();\r\n}\r\n\r\nfunction deselectShape() {\r\n  Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_4__[\"removeHighlightOfListLabel\"])();\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setRemoveShapeButtonToDisabled\"])();\r\n}\r\n\r\nfunction isRightMouseButtonClicked(pointer) {\r\n  if (coordinatesOfLastMouseHover.x !== pointer.x) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction mouseOverEvents(event) {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"addPointsMouseOver\"])(event);\r\n  if (event.target && event.target.shapeName === 'point') {\r\n    currentlyHoveredPoint = event.target;\r\n  }\r\n}\r\n\r\nfunction setAddPointsEventsCanvas(canvasObj) {\r\n  canvas = canvasObj;\r\n  activeShape = Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonIfEditing\"])();\r\n  selectedPolygonId = Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonIdIfEditing\"])();\r\n  addingPoints = false;\r\n  addFirstPointMode = false;\r\n  mouseMoved = false;\r\n  lastHoveredPoint = null;\r\n  ignoredFirstMouseMovement = false;\r\n  currentlyHoveredPoint = null;\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"resetAddPointProperties\"])(canvasObj);\r\n  if (selectedPolygonId !== null && selectedPolygonId !== undefined) {\r\n    selectShape(selectedPolygonId);\r\n  }\r\n}\r\n\r\nfunction prepareToAddPolygonPoints(shape) {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"removePolygonPoints\"])();\r\n  Object(_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_0__[\"removeEditedPolygonId\"])();\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"setEditablePolygon\"])(canvas, shape, false, false, true);\r\n  selectedPolygonId = shape.id;\r\n  selectShape(selectedPolygonId);\r\n  lastMouseEvent = null;\r\n  mouseMoved = false;\r\n  lastHoveredPoint = null;\r\n  ignoredFirstMouseMovement = false;\r\n}\r\n\r\nfunction moveAddPoints(event) {\r\n  if (addingPoints) {\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"moveAddablePoint\"])(event);\r\n  }\r\n}\r\n\r\nfunction mouseMove(event) {\r\n  if (addingPoints) {\r\n    const pointer = canvas.getPointer(event.e);\r\n    coordinatesOfLastMouseHover = pointer;\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"drawLineOnMouseMove\"])(pointer);\r\n  }\r\n  if (ignoredFirstMouseMovement) {\r\n    mouseMoved = true;\r\n  } else {\r\n    ignoredFirstMouseMovement = true;\r\n  }\r\n  lastMouseEvent = event;\r\n}\r\n\r\nfunction setPolygonNotEditableOnClick() {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"removePolygonPoints\"])();\r\n  selectedPolygonId = null;\r\n  deselectShape();\r\n}\r\n\r\nfunction getPointInArrayClosestToGivenCoordinates(pointArray, { left, top }) {\r\n  for (let i = 0; i < pointArray.length; i += 1) {\r\n    const point = pointArray[i];\r\n    if (left === point.left) {\r\n      if (top === point.top) {\r\n        return point;\r\n      }\r\n    }\r\n  }\r\n  return pointArray[0];\r\n}\r\n\r\nfunction addPoints(event) {\r\n  if (addFirstPointMode) {\r\n    if ((event && !event.target)\r\n      || (event && event.target && (event.target.shapeName !== 'point' && event.target.shapeName !== 'initialAddPoint'))) {\r\n      const pointer = canvas.getPointer(event.e);\r\n      if (!isRightMouseButtonClicked(pointer)) {\r\n        Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"addFirstPoint\"])(event);\r\n        addFirstPointMode = false;\r\n      }\r\n    }\r\n  } else if (event && event.target && event.target.shapeName === 'point') {\r\n    addingPoints = false;\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"completePolygon\"])(event.target);\r\n    prepareToAddPolygonPoints(activeShape);\r\n    currentlyHoveredPoint = getPointInArrayClosestToGivenCoordinates(Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonPointsArray\"])(),\r\n      event.target);\r\n  } else if (!event.target\r\n      || (event.target && (event.target.shapeName !== 'initialAddPoint' && event.target.shapeName !== 'tempPoint'))) {\r\n    const pointer = canvas.getPointer(event.e);\r\n    if (!isRightMouseButtonClicked(pointer)) {\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"addPoint\"])(pointer);\r\n    }\r\n  } else if (event.target && event.target.shapeName === 'tempPoint') {\r\n    mouseIsDownOnTempPoint = true;\r\n  }\r\n}\r\n\r\nfunction pointMouseDownEvents(event) {\r\n  if (!addingPoints) {\r\n    if (event.target) {\r\n      Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__[\"enableActiveObjectsAppearInFront\"])(canvas);\r\n      if (event.target.shapeName === 'point') {\r\n        const pointer = canvas.getPointer(event.e);\r\n        Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"initializeAddNewPoints\"])(event.target, pointer);\r\n        addingPoints = true;\r\n        addFirstPointMode = true;\r\n      } else {\r\n        if (event.target.shapeName === 'polygon') {\r\n          newPolygonSelected = (event.target.id !== selectedPolygonId);\r\n        }\r\n        Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__[\"preventActiveObjectsAppearInFront\"])(canvas);\r\n      }\r\n      selectedNothing = false;\r\n    } else {\r\n      selectedNothing = true;\r\n    }\r\n  } else {\r\n    addPoints(event);\r\n  }\r\n}\r\n\r\nfunction addPointViaKeyboard() {\r\n  if (!addingPoints) {\r\n    if (!mouseMoved) {\r\n      if (lastHoveredPoint && lastHoveredPoint.shapeName === 'point') {\r\n        const pointer = canvas.getPointer(lastMouseEvent.e);\r\n        Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"initializeAddNewPoints\"])(lastHoveredPoint, pointer);\r\n        addingPoints = true;\r\n        addFirstPointMode = true;\r\n        selectedNothing = false;\r\n      } else if (currentlyHoveredPoint) {\r\n        const pointer = canvas.getPointer(Object(_keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_6__[\"getLastMouseMoveEvent\"])());\r\n        Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"initializeAddNewPoints\"])(currentlyHoveredPoint, pointer);\r\n        addingPoints = true;\r\n        addFirstPointMode = true;\r\n        selectedNothing = false;\r\n      }\r\n      mouseMoved = true;\r\n    } else if (lastMouseEvent && lastMouseEvent.target && lastMouseEvent.target.shapeName === 'point') {\r\n      const pointer = canvas.getPointer(lastMouseEvent.e);\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"initializeAddNewPoints\"])(lastMouseEvent && lastMouseEvent.target, pointer);\r\n      addingPoints = true;\r\n      addFirstPointMode = true;\r\n      selectedNothing = false;\r\n    }\r\n  } else {\r\n    addPoints(lastMouseEvent);\r\n  }\r\n}\r\n\r\nfunction pointMouseUpEvents(event) {\r\n  mouseIsDownOnTempPoint = false;\r\n  if (event.target && event.target.shapeName === 'polygon' && (newPolygonSelected || selectedNothing)) {\r\n    activeShape = event.target;\r\n    prepareToAddPolygonPoints(event.target);\r\n    selectedNothing = false;\r\n    newPolygonSelected = false;\r\n  } else if ((!event.target && Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonEditingStatus\"])()) || (event.target && event.target.shapeName === 'bndBox')) {\r\n    if (!addingPoints) {\r\n      setPolygonNotEditableOnClick();\r\n    }\r\n  }\r\n}\r\n\r\nfunction mouseOutEvents(event) {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"addPointsMouseOut\"])(event);\r\n  if (event.target) {\r\n    const { target } = event;\r\n    if (target.shapeName === 'point') {\r\n      if (!mouseMoved) {\r\n        lastHoveredPoint = target;\r\n      }\r\n    } else if (target.shapeName === 'tempPoint' && target.hoverCursor === 'default') {\r\n      target.hoverCursor = 'move';\r\n    }\r\n  }\r\n  currentlyHoveredPoint = null;\r\n}\r\n\r\nfunction getSelectedPolygonIdForAddPoints() {\r\n  return selectedPolygonId;\r\n}\r\n\r\nfunction getScrollWidth() {\r\n  // create a div with the scroll\r\n  const div = document.createElement('div');\r\n  div.style.overflowY = 'scroll';\r\n  div.style.width = '50px';\r\n  div.style.height = '50px';\r\n\r\n  // must put it in the document, otherwise sizes will be 0\r\n  document.body.append(div);\r\n  const scrollWidth = div.offsetWidth - div.clientWidth;\r\n  div.remove();\r\n  return scrollWidth * 2;\r\n}\r\n\r\nfunction topOverflowScroll(event, zoomOverflowElement) {\r\n  const currentScrollTopOffset = zoomOverflowElement.scrollTop / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getCurrentZoomState\"])();\r\n  const newPositionTop = canvas.getPointer(event.e).y - currentScrollTopOffset;\r\n  if (mouseIsDownOnTempPoint && event.target && event.target.shapeName === 'tempPoint') {\r\n    event.target.top = newPositionTop;\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"moveAddablePoint\"])(event);\r\n  }\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"drawLineOnMouseMove\"])({ x: canvas.getPointer(event.e).x, y: newPositionTop });\r\n}\r\n\r\nfunction bottomOverflowScroll(event, zoomOverflowElement, stubHeight, scrollWidth) {\r\n  const canvasHeight = stubHeight + scrollWidth;\r\n  const canvasBottom = zoomOverflowElement.scrollTop + zoomOverflowElement.offsetHeight;\r\n  const result = canvasHeight - canvasBottom;\r\n  const newPositionTop = canvas.getPointer(event.e).y + (result / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getCurrentZoomState\"])());\r\n  if (mouseIsDownOnTempPoint && event.target && event.target.shapeName === 'tempPoint') {\r\n    event.target.top = newPositionTop;\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"moveAddablePoint\"])(event);\r\n  }\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"drawLineOnMouseMove\"])({ x: canvas.getPointer(event.e).x, y: newPositionTop });\r\n}\r\n\r\nfunction defaultScroll(event) {\r\n  const currentVerticalScrollDelta = event.e.deltaY / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getCurrentZoomState\"])();\r\n  const newPositionTop = canvas.getPointer(event.e).y + currentVerticalScrollDelta;\r\n  if (mouseIsDownOnTempPoint && event.target && event.target.shapeName === 'tempPoint') {\r\n    event.target.top = newPositionTop;\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"moveAddablePoint\"])(event);\r\n  }\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"drawLineOnMouseMove\"])({ x: canvas.getPointer(event.e).x, y: newPositionTop });\r\n}\r\n\r\n// didn't go for scrolling when resizing bounding box, because when holding lower corner\r\n// and scrolling up above it, the lower corner doesn't change to upper corner, causing the rectangle\r\n// to move the bottom corner to the top corner\r\nfunction shapeScrollEvents(event) {\r\n  const currentZoom = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getCurrentZoomState\"])();\r\n  if (currentZoom > 1.00001) {\r\n    const stubElement = document.getElementById('stub');\r\n    const stubMarginTop = stubElement.style.marginTop;\r\n    const stubHeightSubstring = stubMarginTop.substring(0, stubMarginTop.length - 2);\r\n    const stubHeight = parseInt(stubHeightSubstring, 10);\r\n    const zoomOverflowElement = document.getElementById('zoom-overflow');\r\n    const currentBotLocation = zoomOverflowElement.scrollTop + zoomOverflowElement.offsetHeight;\r\n    const futureBotLocation = currentBotLocation + event.e.deltaY;\r\n    const scrollWidth = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getDoubleScrollCanvasState\"])() ? getScrollWidth() : getScrollWidth() / 2;\r\n    if (zoomOverflowElement.scrollTop + event.e.deltaY < 0) {\r\n      topOverflowScroll(event, zoomOverflowElement);\r\n    } else if (futureBotLocation > stubHeight + scrollWidth) {\r\n      bottomOverflowScroll(event, zoomOverflowElement, stubHeight, scrollWidth);\r\n    } else {\r\n      defaultScroll(event);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js":
/*!*********************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js ***!
  \*********************************************************************************************/
/*! exports provided: programaticallyDeselectBoundingBox, getLastSelectedShapeId, shapeScrollEvents, removeActiveLabelObject, shapeMouseOverEvents, polygonMouseDownEvents, polygonMouseUpEvents, shapeMouseOutEvents, programaticallySelectBoundingBox, setShapeToInvisible, polygonMoveEvents, setEditPolygonEventObjects, boundingBoxScalingEvents, removeEditedPolygonId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"programaticallyDeselectBoundingBox\", function() { return programaticallyDeselectBoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLastSelectedShapeId\", function() { return getLastSelectedShapeId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shapeScrollEvents\", function() { return shapeScrollEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeActiveLabelObject\", function() { return removeActiveLabelObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shapeMouseOverEvents\", function() { return shapeMouseOverEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polygonMouseDownEvents\", function() { return polygonMouseDownEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polygonMouseUpEvents\", function() { return polygonMouseUpEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shapeMouseOutEvents\", function() { return shapeMouseOutEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"programaticallySelectBoundingBox\", function() { return programaticallySelectBoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setShapeToInvisible\", function() { return setShapeToInvisible; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polygonMoveEvents\", function() { return polygonMoveEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEditPolygonEventObjects\", function() { return setEditPolygonEventObjects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"boundingBoxScalingEvents\", function() { return boundingBoxScalingEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeEditedPolygonId\", function() { return removeEditedPolygonId; });\n/* harmony import */ var _objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/canvasUtils */ \"./src/js/canvas/utils/canvasUtils.js\");\n/* harmony import */ var _objects_label_label__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _objects_label_properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../tools/labelList/labelListHighlightUtils */ \"./src/js/tools/labelList/labelListHighlightUtils.js\");\n/* harmony import */ var _objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _tools_imageList_imageListML__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../tools/imageList/imageListML */ \"./src/js/tools/imageList/imageListML.js\");\n/* harmony import */ var _tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../tools/imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _objects_boundingBox_scaling__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../objects/boundingBox/scaling */ \"./src/js/canvas/objects/boundingBox/scaling.js\");\n/* harmony import */ var _objects_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../objects/sharedUtils/moveBlockers */ \"./src/js/canvas/objects/sharedUtils/moveBlockers.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\nlet labelObject = null;\r\nlet polygonMoved = false;\r\nlet boundingBoxMoved = false;\r\nlet polygonPointMoved = false;\r\nlet selectedShapeId = null;\r\nlet shapeSetToInvisible = false;\r\nlet newPolygonSelected = false;\r\nlet setEditablePolygonOnClick = null;\r\nlet finishedAddingNewPoints = false;\r\nlet lastShapeSelectedIsBoundingBox = false;\r\nlet removeBoundingBoxFillWhenScaling = false;\r\nlet mouseIsDown = false;\r\nlet zoomOverflowElement = null;\r\n\r\nfunction programaticallySelectBoundingBox(boundingBoxObj) {\r\n  canvas.setActiveObject(boundingBoxObj);\r\n}\r\n\r\nfunction programaticallyDeselectBoundingBox() {\r\n  canvas.discardActiveObject();\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction selectShape(shape) {\r\n  Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_5__[\"highlightLabelInTheList\"])(shape);\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_11__[\"setRemoveShapeButtonToDefault\"])();\r\n}\r\n\r\nfunction deselectShape() {\r\n  Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_5__[\"removeHighlightOfListLabel\"])();\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_11__[\"setRemoveShapeButtonToDisabled\"])();\r\n}\r\n\r\nfunction setEditablePolygonOnClickFunc(event) {\r\n  if (Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"getPolygonEditingStatus\"])()) {\r\n    // selecting another polygon without moving the first one\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoints\"])();\r\n  }\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"setEditablePolygon\"])(canvas, event.target);\r\n  selectedShapeId = event.target.id;\r\n}\r\n\r\nfunction setEditablePolygonWhenPolygonMoved(event) {\r\n  if (newPolygonSelected) {\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"setEditablePolygonAfterMoving\"])(canvas, event.target);\r\n    selectedShapeId = event.target.id;\r\n  } else {\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"displayPolygonPointsAfterMove\"])();\r\n  }\r\n}\r\n\r\nfunction resetPolygonSelectableAreaAfterPointMoved() {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"resetPolygonSelectableArea\"])();\r\n  polygonPointMoved = false;\r\n}\r\n\r\nfunction setPolygonNotEditableOnClick() {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoints\"])();\r\n  selectedShapeId = null;\r\n}\r\n\r\n// smart system where label would readjust upon mouse up if it's edges are outside of canvas\r\n// stop shapes from being able to move outside of canvas\r\n\r\n// validation for label (not empty string etc.)\r\n\r\n// upon selecting-dragging a polygon does not remove the active label of the previous shape on list\r\n// whereas rectangle is immediate, only way this can be mitigated is by removing rectangle controls\r\n// on moving it in order to have delay the label change too, or you can display polygon points\r\n// on mouse down click and upon moving the polygon\r\n\r\n// use different colours for different labels\r\n// investigate the potential of having a rightclick menu to manipulate shapes\r\n// in add or remove points modes, send all objects to the front\r\n\r\n// think about adding a screen wide scrosshair and show coordinates to the user\r\n\r\nfunction setMLGeneratedPalletteToOriginal(shape) {\r\n  Object(_tools_imageList_imageListML__WEBPACK_IMPORTED_MODULE_7__[\"updateNumberOfUncheckedMLImages\"])();\r\n  shape.fill = shape.trueFill;\r\n  shape.stroke = shape.trueStroke;\r\n  shape.MLPallette = false;\r\n}\r\n\r\n// reduce nested if statements in code\r\nfunction polygonMouseDownEvents(event) {\r\n  mouseIsDown = true;\r\n  if (event.target) {\r\n    Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__[\"enableActiveObjectsAppearInFront\"])(canvas);\r\n    if (event.target.shapeName === 'bndBox') {\r\n      deselectShape();\r\n      if (event.target.MLPallette) {\r\n        setMLGeneratedPalletteToOriginal(event.target);\r\n        Object(_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"highlightShapeFill\"])(event.target.id);\r\n      }\r\n      if (event.transform && event.transform.corner) {\r\n        Object(_objects_boundingBox_scaling__WEBPACK_IMPORTED_MODULE_9__[\"setInitialBoundingBoxCoordinates\"])(event);\r\n      }\r\n      selectShape(event.target.id);\r\n      if (Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"getPolygonEditingStatus\"])()) {\r\n        setPolygonNotEditableOnClick();\r\n        newPolygonSelected = false;\r\n      }\r\n      labelObject = Object(_objects_label_label__WEBPACK_IMPORTED_MODULE_2__[\"getLabelById\"])(event.target.id);\r\n      selectedShapeId = event.target.id;\r\n      lastShapeSelectedIsBoundingBox = true;\r\n      Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__[\"preventActiveObjectsAppearInFront\"])(canvas);\r\n    } else {\r\n      if (event.target.shapeName === 'polygon' && event.target.id !== selectedShapeId) {\r\n        if (lastShapeSelectedIsBoundingBox) {\r\n          deselectShape();\r\n          lastShapeSelectedIsBoundingBox = false;\r\n        }\r\n        labelObject = Object(_objects_label_label__WEBPACK_IMPORTED_MODULE_2__[\"getLabelById\"])(event.target.id);\r\n        newPolygonSelected = true;\r\n      } else {\r\n        newPolygonSelected = false;\r\n      }\r\n      Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__[\"preventActiveObjectsAppearInFront\"])(canvas);\r\n    }\r\n  } else {\r\n    newPolygonSelected = false;\r\n  }\r\n  if ((newPolygonSelected || lastShapeSelectedIsBoundingBox)\r\n    && Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getRemovingPointsAfterCancelDrawState\"])()) {\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setRemovingPointsAfterCancelDrawState\"])(false);\r\n  }\r\n}\r\n\r\nfunction handleShapeFillAfterMove(event) {\r\n  const pointer = canvas.getPointer(canvas.e);\r\n  const currentZoomState = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentZoomState\"])();\r\n  const { height, width } = Object(_tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_8__[\"getImageProperties\"])();\r\n  const imageHeight = height * currentZoomState;\r\n  const imageWidth = width * currentZoomState;\r\n  if (pointer.x < 0 || imageWidth / currentZoomState < pointer.x\r\n    || pointer.y < 0 || imageHeight / currentZoomState < pointer.y) {\r\n    if (event.target.shapeName === 'point') {\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"defaultFillSelectedPolygonViaPoint\"])();\r\n    } else {\r\n      Object(_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"defaultShapeFill\"])(event.target.id);\r\n    }\r\n  }\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setShapeMovingState\"])(false);\r\n}\r\n\r\nfunction shapeMouseOutEvents(event) {\r\n  if (!Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getBoundingBoxScalingState\"])() && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getShapeMovingState\"])()) {\r\n    if (event.target.shapeName === 'point') {\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"defaultFillSelectedPolygonViaPoint\"])();\r\n    } else {\r\n      Object(_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"defaultShapeFill\"])(event.target.id);\r\n    }\r\n  } else {\r\n    removeBoundingBoxFillWhenScaling = true;\r\n  }\r\n}\r\n\r\n// look at this\r\nfunction polygonMouseUpEvents(event) {\r\n  mouseIsDown = false;\r\n  if (event.target && event.target.shapeName === 'bndBox') {\r\n    if (boundingBoxMoved) { boundingBoxMoved = false; }\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getBoundingBoxScalingState\"])()) {\r\n      Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setBoundingBoxScalingState\"])(false);\r\n      if (removeBoundingBoxFillWhenScaling) {\r\n        shapeMouseOutEvents(event);\r\n        removeBoundingBoxFillWhenScaling = false;\r\n      }\r\n    }\r\n    canvas.bringToFront(event.target);\r\n    canvas.bringToFront(labelObject);\r\n    Object(_objects_boundingBox_scaling__WEBPACK_IMPORTED_MODULE_9__[\"clearControlSelectedObject\"])();\r\n  } else if (polygonMoved) {\r\n    selectShape(event.target.id);\r\n    Object(_objects_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_10__[\"validateAndFixOutOfBoundsPolygonShapePointsAfterMove\"])(event.target);\r\n    setEditablePolygonWhenPolygonMoved(event);\r\n    Object(_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"highlightShapeFill\"])(event.target.id);\r\n    canvas.bringToFront(labelObject);\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setLastPolygonActionWasMoveState\"])(true);\r\n  } else if (newPolygonSelected) {\r\n    if (finishedAddingNewPoints) {\r\n      finishedAddingNewPoints = false;\r\n    } else {\r\n      selectShape(event.target.id);\r\n    }\r\n    canvas.bringToFront(event.target);\r\n    setEditablePolygonOnClick(event);\r\n    canvas.bringToFront(labelObject);\r\n  } else if (polygonPointMoved) {\r\n    resetPolygonSelectableAreaAfterPointMoved();\r\n  } else if (event.target && event.target.shapeName === 'polygon') {\r\n    selectShape(event.target.id);\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"sendPolygonPointsToFront\"])(canvas);\r\n  } else if (!event.target && Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"getPolygonEditingStatus\"])()) {\r\n    deselectShape();\r\n    setPolygonNotEditableOnClick();\r\n  } else if (selectedShapeId != null || shapeSetToInvisible) {\r\n    deselectShape();\r\n    shapeSetToInvisible = false;\r\n  }\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getShapeMovingState\"])()) {\r\n    handleShapeFillAfterMove(event);\r\n    if (polygonMoved) { polygonMoved = false; }\r\n  }\r\n}\r\n\r\nfunction polygonMoveEvents(event) {\r\n  if (event.target) {\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setShapeMovingState\"])(true);\r\n    const { shapeName } = event.target;\r\n    if (shapeName === 'polygon') {\r\n      Object(_objects_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_10__[\"preventOutOfBoundsShapesOnMove\"])(event.target, canvas);\r\n      if (Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"getPolygonEditingStatus\"])()) {\r\n        Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoints\"])();\r\n      }\r\n      labelObject.setCoords();\r\n      labelObject.top = event.target.top - event.target.labelOffsetTop;\r\n      labelObject.left = event.target.left - event.target.labelOffsetLeft;\r\n      polygonMoved = true;\r\n    } else if (shapeName === 'point') {\r\n      Object(_objects_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_10__[\"preventOutOfBoundsPointsOnMove\"])(event.target, canvas);\r\n      if (event.target.pointId === 0) {\r\n        Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"movePolygonPoint\"])(event, labelObject);\r\n      } else {\r\n        Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"movePolygonPoint\"])(event);\r\n      }\r\n      resetPolygonSelectableAreaAfterPointMoved();\r\n      polygonPointMoved = true;\r\n    } else if (shapeName === 'bndBox') {\r\n      Object(_objects_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_10__[\"preventOutOfBoundsShapesOnMove\"])(event.target, canvas);\r\n      labelObject.setCoords();\r\n      labelObject.top = event.target.top;\r\n      labelObject.left = event.target.left + _objects_label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].boundingBoxOffsetProperties().left;\r\n      if (event.target.isGeneratedViaML) {\r\n        event.target.isGeneratedViaML = false;\r\n      }\r\n      boundingBoxMoved = true;\r\n    }\r\n  }\r\n}\r\n\r\nfunction boundingBoxScalingEvents(event) {\r\n  Object(_objects_boundingBox_scaling__WEBPACK_IMPORTED_MODULE_9__[\"handleBoundingBoxScalingEvents\"])(event, labelObject, canvas);\r\n}\r\n\r\nfunction shapeMouseOverEvents(event) {\r\n  if (event.target && event.target.shapeName !== 'label') {\r\n    if (event.target.MLPallette) {\r\n      setMLGeneratedPalletteToOriginal(event.target);\r\n    }\r\n    if (event.target.shapeName === 'point') {\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"highlightSelectedPolygonViaPoint\"])();\r\n    } else {\r\n      Object(_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"highlightShapeFill\"])(event.target.id);\r\n    }\r\n  }\r\n}\r\n\r\nfunction removeEditedPolygonId() {\r\n  selectedShapeId = null;\r\n}\r\n\r\nfunction removeActiveLabelObject() {\r\n  labelObject = null;\r\n}\r\n\r\nfunction setShapeToInvisible() {\r\n  selectedShapeId = null;\r\n  shapeSetToInvisible = true;\r\n}\r\n\r\nfunction assignSetEditablePolygonOnClickFunc() {\r\n  setEditablePolygonOnClick = setEditablePolygonOnClickFunc;\r\n}\r\n\r\nfunction skipMouseUpEvent() {\r\n  canvas.__eventListeners['mouse:down'] = [];\r\n  canvas.on('mouse:down', (e) => {\r\n    polygonMouseDownEvents(e);\r\n  });\r\n  assignSetEditablePolygonOnClickFunc();\r\n}\r\n\r\nfunction setEditPolygonEventObjects(canvasObj, polygonObjId, afterAddPoints) {\r\n  canvas = canvasObj;\r\n  zoomOverflowElement = document.getElementById('zoom-overflow');\r\n  // selected add then remove -> remve will null it\r\n  // selected remove then add -> add will null it\r\n  // selected\r\n  if (polygonObjId !== undefined && polygonObjId !== null) {\r\n    selectedShapeId = polygonObjId;\r\n    labelObject = Object(_objects_label_label__WEBPACK_IMPORTED_MODULE_2__[\"getLabelById\"])(selectedShapeId);\r\n    selectShape(selectedShapeId);\r\n  }\r\n  if (afterAddPoints) {\r\n    selectedShapeId = null;\r\n    newPolygonSelected = true;\r\n    finishedAddingNewPoints = true;\r\n    lastShapeSelectedIsBoundingBox = false;\r\n    setEditablePolygonOnClick = skipMouseUpEvent;\r\n  } else {\r\n    setEditablePolygonOnClick = setEditablePolygonOnClickFunc;\r\n  }\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setRemovingPointsAfterCancelDrawState\"])(false);\r\n}\r\n\r\n// function validateBoundingBoxFullyOnCanvas(boundingBox) {\r\n//   if (boundingBox.left + boundingBox.width > canvas.width) {\r\n//     const surplus = boundingBox.left + boundingBox.width - canvas.width;\r\n//     boundingBox.width -= surplus + 2;\r\n//   } else if (boundingBox.top + boundingBox.height > canvas.height) {\r\n//     const surplus = boundingBox.top + boundingBox.height - canvas.height;\r\n//     boundingBox.height -= surplus + 2;\r\n//   }\r\n// }\r\n// remove this if the bug is fixed for scaling in top-right/bottom-left\r\n\r\nfunction getLastSelectedShapeId() {\r\n  return selectedShapeId;\r\n}\r\n\r\nfunction getScrollWidth() {\r\n  // create a div with the scroll\r\n  const div = document.createElement('div');\r\n  div.style.overflowY = 'scroll';\r\n  div.style.width = '50px';\r\n  div.style.height = '50px';\r\n\r\n  // must put it in the document, otherwise sizes will be 0\r\n  document.body.append(div);\r\n  const scrollWidth = div.offsetWidth - div.clientWidth;\r\n  div.remove();\r\n  return scrollWidth * 2;\r\n}\r\n\r\nfunction boundingBoxScalingWhenScrolling(event, newPositionTop) {\r\n  if (event.transform.corner === 'mb') {\r\n    if (event.target.top < newPositionTop) {\r\n      event.target.set({ top: event.target.top });\r\n    }\r\n    event.target.set({ height: Math.abs(event.target.top - newPositionTop) });\r\n  } else if (event.transform.corner === 'mt') {\r\n    if (event.target.top > newPositionTop) {\r\n      const newHeight = Math.abs(event.target.top - newPositionTop + event.target.height);\r\n      event.target.set({ height: newHeight });\r\n      event.target.set({ top: newPositionTop });\r\n    } else if (newPositionTop < event.target.top + event.target.height) {\r\n      const newHeight = Math.abs(event.target.height - (newPositionTop - event.target.top));\r\n      event.target.set({ height: newHeight });\r\n      event.target.set({ top: newPositionTop });\r\n    }\r\n  }\r\n}\r\n\r\nfunction topOverflowScroll(event) {\r\n  const currentScrollTopOffset = zoomOverflowElement.scrollTop / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentZoomState\"])();\r\n  const newPositionTop = canvas.getPointer(event.e).y - currentScrollTopOffset;\r\n  if (event.target.shapeName === 'bndBox') {\r\n    if (event.transform.action === 'scaleY') {\r\n      boundingBoxScalingWhenScrolling(event, newPositionTop);\r\n    } else {\r\n      event.target.top = newPositionTop - event.transform.offsetY;\r\n    }\r\n  } else\r\n  if (event.target.shapeName === 'polygon') {\r\n    event.target.top = newPositionTop - event.transform.offsetY;\r\n  } else if (event.target.shapeName === 'point') {\r\n    event.target.top = newPositionTop;\r\n  }\r\n}\r\n\r\nfunction bottomOverflowScroll(event, stubHeight, scrollWidth) {\r\n  const canvasHeight = stubHeight + scrollWidth;\r\n  const canvasBottom = zoomOverflowElement.scrollTop + zoomOverflowElement.offsetHeight;\r\n  const result = canvasHeight - canvasBottom;\r\n  const newPositionTop = canvas.getPointer(event.e).y + (result / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentZoomState\"])());\r\n  if (event.target.shapeName === 'bndBox') {\r\n    if (event.transform.action === 'scaleY') {\r\n      boundingBoxScalingWhenScrolling(event, newPositionTop);\r\n    } else {\r\n      event.target.top = newPositionTop - event.transform.offsetY;\r\n    }\r\n  } else if (event.target.shapeName === 'polygon') {\r\n    event.target.top = newPositionTop - event.transform.offsetY;\r\n  } else if (event.target.shapeName === 'point') {\r\n    event.target.top = newPositionTop;\r\n  }\r\n}\r\n\r\nfunction defaultScroll(event) {\r\n  const currentVerticalScrollDelta = event.e.deltaY / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentZoomState\"])();\r\n  const newPositionTop = canvas.getPointer(event.e).y + currentVerticalScrollDelta;\r\n  if (event.target.shapeName === 'bndBox') {\r\n    if (event.transform.action === 'scaleY') {\r\n      boundingBoxScalingWhenScrolling(event, newPositionTop);\r\n    } else {\r\n      event.target.top = newPositionTop - event.transform.offsetY;\r\n    }\r\n  } else if (event.target.shapeName === 'polygon') {\r\n    event.target.top = newPositionTop - event.transform.offsetY;\r\n  } else if (event.target.shapeName === 'point') {\r\n    const currentHorizontalScrollDelta = event.e.deltaX / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentZoomState\"])();\r\n    event.target.left = canvas.getPointer(event.e).x + currentHorizontalScrollDelta;\r\n    event.target.top = newPositionTop;\r\n  }\r\n}\r\n\r\nfunction shapeScrollEvents(event) {\r\n  if (mouseIsDown) {\r\n    if (event.target.shapeName === 'point' || event.target.shapeName === 'polygon' || event.target.shapeName === 'bndBox') {\r\n      const currentZoom = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentZoomState\"])();\r\n      if (currentZoom > 1.00001) {\r\n        const stubElement = document.getElementById('stub');\r\n        const stubMarginTop = stubElement.style.marginTop;\r\n        const stubHeightSubstring = stubMarginTop.substring(0, stubMarginTop.length - 2);\r\n        const stubHeight = parseInt(stubHeightSubstring, 10);\r\n        const currentBotLocation = zoomOverflowElement.scrollTop + zoomOverflowElement.offsetHeight;\r\n        const futureBotLocation = currentBotLocation + event.e.deltaY;\r\n        const scrollWidth = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getDoubleScrollCanvasState\"])() ? getScrollWidth() : getScrollWidth() / 2;\r\n        if (zoomOverflowElement.scrollTop + event.e.deltaY < 0) {\r\n          topOverflowScroll(event);\r\n        } else if (futureBotLocation > stubHeight + scrollWidth) {\r\n          bottomOverflowScroll(event, stubHeight, scrollWidth);\r\n        } else {\r\n          defaultScroll(event);\r\n        }\r\n        polygonMoveEvents(event);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsEventsWorker.js":
/*!**********************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsEventsWorker.js ***!
  \**********************************************************************************************/
/*! exports provided: pointMouseUpEvents, pointMouseOutEvents, setPolygonNotEditableOnClick, removePointViaKeyboard, setRemovablePointsEventsCanvas, pointMouseOverEvents, pointMouseDownEvents, pointMouseMoveEvents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseUpEvents\", function() { return pointMouseUpEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseOutEvents\", function() { return pointMouseOutEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPolygonNotEditableOnClick\", function() { return setPolygonNotEditableOnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removePointViaKeyboard\", function() { return removePointViaKeyboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemovablePointsEventsCanvas\", function() { return setRemovablePointsEventsCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseOverEvents\", function() { return pointMouseOverEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseDownEvents\", function() { return pointMouseDownEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseMoveEvents\", function() { return pointMouseMoveEvents; });\n/* harmony import */ var _objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/canvasUtils */ \"./src/js/canvas/utils/canvasUtils.js\");\n/* harmony import */ var _editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js\");\n/* harmony import */ var _tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../tools/labelList/labelListHighlightUtils */ \"./src/js/tools/labelList/labelListHighlightUtils.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nlet selectedPolygonId = null;\r\nlet newPolygonSelected = false;\r\nlet canvas = null;\r\nlet removedPolygonPoints = false;\r\nlet selectedNothing = false;\r\nlet ignoredFirstMouseMovement = false;\r\nlet currentlyHoveredPoint = null;\r\nlet lastHoveredPoint = null;\r\nlet mouseMoved = false;\r\n\r\nfunction selectShape(shapeId) {\r\n  Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_3__[\"highlightLabelInTheList\"])(shapeId);\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setRemoveShapeButtonToDefault\"])();\r\n}\r\n\r\nfunction deselectShape() {\r\n  Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_3__[\"removeHighlightOfListLabel\"])();\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setRemoveShapeButtonToDisabled\"])();\r\n}\r\n\r\nfunction setRemovablePointsEventsCanvas(canvasObj) {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"changeExistingPolygonPointsToRemovable\"])(canvasObj);\r\n  canvas = canvasObj;\r\n  selectedPolygonId = Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"getPolygonIdIfEditing\"])();\r\n  ignoredFirstMouseMovement = false;\r\n  currentlyHoveredPoint = null;\r\n  lastHoveredPoint = null;\r\n  mouseMoved = false;\r\n  if (selectedPolygonId !== null && selectedPolygonId !== undefined) {\r\n    selectShape(selectedPolygonId);\r\n  }\r\n}\r\n\r\nfunction prepareToEditPolygonPoints(event) {\r\n  if (removedPolygonPoints) {\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"cleanPolygonPointsArray\"])();\r\n    removedPolygonPoints = false;\r\n  }\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoints\"])();\r\n  Object(_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_2__[\"removeEditedPolygonId\"])();\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"setEditablePolygon\"])(canvas, event.target, true);\r\n  selectedPolygonId = event.target.id;\r\n  selectShape(selectedPolygonId);\r\n  ignoredFirstMouseMovement = false;\r\n  currentlyHoveredPoint = null;\r\n  lastHoveredPoint = null;\r\n  mouseMoved = false;\r\n}\r\n\r\nfunction setPolygonNotEditableOnClick() {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoints\"])();\r\n  selectedPolygonId = null;\r\n  deselectShape();\r\n}\r\n\r\nfunction pointMouseDownEvents(event) {\r\n  if (event.target) {\r\n    Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__[\"enableActiveObjectsAppearInFront\"])(canvas);\r\n    if (event.target.shapeName === 'point') {\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoint\"])(event.target.pointId, true);\r\n      removedPolygonPoints = true;\r\n      currentlyHoveredPoint = null;\r\n    } else {\r\n      if (event.target.shapeName === 'polygon') {\r\n        newPolygonSelected = (event.target.id !== selectedPolygonId);\r\n      }\r\n      Object(_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__[\"preventActiveObjectsAppearInFront\"])(canvas);\r\n    }\r\n    selectedNothing = false;\r\n  } else {\r\n    selectedNothing = true;\r\n  }\r\n}\r\n\r\nfunction removePointViaKeyboard() {\r\n  if (!mouseMoved) {\r\n    if (lastHoveredPoint) { Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoint\"])(lastHoveredPoint.pointId); }\r\n    mouseMoved = true;\r\n  } else if (currentlyHoveredPoint) {\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoint\"])(currentlyHoveredPoint.pointId, true);\r\n  }\r\n  currentlyHoveredPoint = null;\r\n}\r\n\r\nfunction pointMouseOverEvents(event) {\r\n  if (event.target && event.target.shapeName === 'point' && event.target.fill === 'red') {\r\n    event.target.stroke = 'red';\r\n    canvas.renderAll();\r\n    currentlyHoveredPoint = event.target;\r\n  }\r\n}\r\n\r\nfunction pointMouseUpEvents(event) {\r\n  if (event.target && event.target.shapeName === 'polygon' && (selectedNothing || newPolygonSelected)) {\r\n    // subset can be reused\r\n    prepareToEditPolygonPoints(event);\r\n  } else if ((!event.target && Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"getPolygonEditingStatus\"])()) || (event.target && event.target.shapeName === 'bndBox')) {\r\n    setPolygonNotEditableOnClick();\r\n  }\r\n}\r\n\r\nfunction pointMouseOutEvents(event) {\r\n  if (event.target && event.target.shapeName === 'point' && event.target.fill === 'red') {\r\n    event.target.stroke = 'black';\r\n    canvas.renderAll();\r\n    currentlyHoveredPoint = null;\r\n    // fix for the bug where upon hovering over a point in another mode and switching it to this\r\n    // mode - the mouse out event is triggered, highlighting the last hovered shape\r\n    if (!mouseMoved) lastHoveredPoint = event.target;\r\n  }\r\n}\r\n\r\nfunction pointMouseMoveEvents() {\r\n  if (ignoredFirstMouseMovement) {\r\n    mouseMoved = true;\r\n  } else {\r\n    ignoredFirstMouseMovement = true;\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsEventsWorker.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsOnNewPolygonEventsWorker.js":
/*!**********************************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsOnNewPolygonEventsWorker.js ***!
  \**********************************************************************************************************/
/*! exports provided: pointMouseDownEvents, pointMouseOverEvents, setRemovablePointsEventsCanvas, getRemovingPointsState, setRemovingPointsStateToFalse, removeTempPointViaKeyboard, pointMouseUpEvents, pointMouseOutEvents, pointMouseMoveEvents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseDownEvents\", function() { return pointMouseDownEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseOverEvents\", function() { return pointMouseOverEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemovablePointsEventsCanvas\", function() { return setRemovablePointsEventsCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRemovingPointsState\", function() { return getRemovingPointsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemovingPointsStateToFalse\", function() { return setRemovingPointsStateToFalse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeTempPointViaKeyboard\", function() { return removeTempPointViaKeyboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseUpEvents\", function() { return pointMouseUpEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseOutEvents\", function() { return pointMouseOutEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointMouseMoveEvents\", function() { return pointMouseMoveEvents; });\n/* harmony import */ var _objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n\r\n\r\n\r\nlet removingPoints = false;\r\nlet canvas = null;\r\nlet currentlyHoveredPoint = null;\r\nlet ignoredFirstMouseMovement = false;\r\nlet lastHoveredPoint = null;\r\nlet mouseMoved = false;\r\n\r\nfunction setRemovablePointsEventsCanvas(canvasObj, polygonObj) {\r\n  canvas = canvasObj;\r\n  ignoredFirstMouseMovement = false;\r\n  currentlyHoveredPoint = null;\r\n  lastHoveredPoint = null;\r\n  mouseMoved = false;\r\n  // edit this\r\n  if (polygonObj) {\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"setEditablePolygon\"])(canvas, polygonObj, true, true);\r\n  }\r\n}\r\n\r\nfunction pointMouseDownEvents(event) {\r\n  if (event.target && event.target.shapeName === 'point') {\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoint\"])(event.target.pointId);\r\n    currentlyHoveredPoint = null;\r\n  }\r\n}\r\n\r\nfunction removeTempPointViaKeyboard() {\r\n  if (!mouseMoved) {\r\n    if (lastHoveredPoint) {\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoint\"])(lastHoveredPoint.pointId);\r\n    } else {\r\n      const currentlyHoveredDrawingPoint = Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__[\"getCurrentlyHoveredDrawPoint\"])();\r\n      if (currentlyHoveredDrawingPoint) {\r\n        Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoint\"])(currentlyHoveredDrawingPoint.pointId);\r\n        currentlyHoveredDrawingPoint.state = 'removed';\r\n      }\r\n    }\r\n    mouseMoved = true;\r\n  } else if (currentlyHoveredPoint) {\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoint\"])(currentlyHoveredPoint.pointId);\r\n  }\r\n  currentlyHoveredPoint = null;\r\n}\r\n\r\nfunction pointMouseOverEvents(event) {\r\n  if (event.target && event.target.shapeName === 'point' && event.target.fill === 'red') {\r\n    event.target.stroke = 'red';\r\n    canvas.renderAll();\r\n    currentlyHoveredPoint = event.target;\r\n  }\r\n}\r\n\r\nfunction pointMouseUpEvents() {\r\n  // filler function for the default parent call\r\n}\r\n\r\nfunction pointMouseOutEvents(event) {\r\n  if (event.target && event.target.shapeName === 'point') {\r\n    event.target.stroke = 'black';\r\n    canvas.renderAll();\r\n    currentlyHoveredPoint = null;\r\n    // fix for the bug where upon hovering over a point in another mode and switching it to this\r\n    // mode - the mouse out event is triggered, highlighting the last hovered shape\r\n    if (!mouseMoved) lastHoveredPoint = event.target;\r\n  }\r\n}\r\n\r\nfunction pointMouseMoveEvents() {\r\n  if (ignoredFirstMouseMovement) {\r\n    mouseMoved = true;\r\n  } else {\r\n    ignoredFirstMouseMovement = true;\r\n  }\r\n}\r\n\r\nfunction getRemovingPointsState() {\r\n  return removingPoints;\r\n}\r\n\r\nfunction setRemovingPointsStateToFalse() {\r\n  removingPoints = false;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsOnNewPolygonEventsWorker.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js":
/*!***********************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return purgeCanvasMouseEvents; });\n/* harmony import */ var _utils_fabricUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/fabricUtils */ \"./src/js/canvas/utils/fabricUtils.js\");\n\r\n\r\n// the following is used to fix bounding box stretching bugs within a canvas\r\n// and when switching between older and newer ones\r\nfunction setScalingEventListeners() {\r\n  const { canvas1, canvas2 } = Object(_utils_fabricUtils__WEBPACK_IMPORTED_MODULE_0__[\"getCanvasReferences\"])();\r\n  if (canvas1 && canvas1.__eventListeners\r\n    && canvas1.__eventListeners['object:scaling'] && canvas1.__eventListeners['object:scaling'].length > 1) {\r\n    canvas1.__eventListeners['object:scaling'].pop();\r\n  }\r\n  if (canvas2 && canvas2.__eventListeners\r\n   && canvas2.__eventListeners['object:scaling'].length > 1) {\r\n    canvas2.__eventListeners['object:scaling'].pop();\r\n  }\r\n}\r\n\r\nfunction purgeCanvasMouseEvents(canvas) {\r\n  if (canvas.__eventListeners) {\r\n    canvas.__eventListeners['mouse:down'] = [];\r\n    canvas.__eventListeners['mouse:over'] = [];\r\n    canvas.__eventListeners['mouse:out'] = [];\r\n    canvas.__eventListeners['mouse:move'] = [];\r\n    canvas.__eventListeners['mouse:up'] = [];\r\n    canvas.__eventListeners['mouse:wheel'] = [];\r\n    canvas.__eventListeners['object:moving'] = [];\r\n    setScalingEventListeners();\r\n  }\r\n}\r\n\r\n// consider using this to reassign events\r\n\r\n/*\r\ncanvas.on('object:moving', moveHandler);\r\ncanvas.on('object:modified', modifiedHandler);\r\ncanvas.on('custom:event', customEvtHandler);\r\n\r\n//or you register with key/value pairs\r\ncanvas.on({\r\n    'object:moving' : moveHandler,\r\n    'object:modified' : modifiedHandler,\r\n    'custom:event' : customEvtHandler\r\n});\r\n*/\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasAfterAddPoints.js":
/*!***************************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasAfterAddPoints.js ***!
  \***************************************************************************************************/
/*! exports provided: resetCanvasToDefaultAfterAddPoints, assignCanvasForResettingToDefaultAfterAddPoints */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetCanvasToDefaultAfterAddPoints\", function() { return resetCanvasToDefaultAfterAddPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForResettingToDefaultAfterAddPoints\", function() { return assignCanvasForResettingToDefaultAfterAddPoints; });\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../cursorModes/defaultMode */ \"./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js\");\n/* harmony import */ var _eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../eventHandlers/defaultEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js\");\n/* harmony import */ var _purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\n\r\nfunction discardAddPointsEvents(id) {\r\n  Object(_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_2__[\"setDefaultCursorModeAfterAlteringPolygonPoints\"])(canvas);\r\n  Object(_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(canvas, id);\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setEditShapesButtonToActive\"])();\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDefaultState\"])(true);\r\n}\r\n\r\nfunction resetCanvasToDefaultAfterAddPoints(id) {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_1__[\"resetAddPoints\"])();\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setAddPointsButtonToDefault\"])();\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setAddingPolygonPointsState\"])(false);\r\n  Object(_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(canvas);\r\n  discardAddPointsEvents(id);\r\n}\r\n\r\nfunction assignCanvasForResettingToDefaultAfterAddPoints(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasAfterAddPoints.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasEventsFacade.js":
/*!*************************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasEventsFacade.js ***!
  \*************************************************************************************************/
/*! exports provided: setResetCanvasEventsToDefaultFunc, resetCanvasEventsToDefault, setContinuousDrawingModeToLast */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setResetCanvasEventsToDefaultFunc\", function() { return setResetCanvasEventsToDefaultFunc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetCanvasEventsToDefault\", function() { return resetCanvasEventsToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setContinuousDrawingModeToLast\", function() { return setContinuousDrawingModeToLast; });\n/* harmony import */ var _setDrawingMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setDrawingMode */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/setDrawingMode.js\");\n/* harmony import */ var _eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../eventWorkers/editPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\n\r\n\r\nlet resetCanvasEventsFunc = null;\r\nlet canvas = null;\r\n\r\nfunction setResetCanvasEventsToDefaultFunc(func, canvasObj) {\r\n  resetCanvasEventsFunc = func;\r\n  canvas = canvasObj;\r\n}\r\n\r\nfunction resetCanvasEventsToDefault() {\r\n  Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_1__[\"removeEditedPolygonId\"])();\r\n  resetCanvasEventsFunc(canvas);\r\n}\r\n\r\nfunction setContinuousDrawingModeToLast() {\r\n  Object(_setDrawingMode__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getLastDrawingModeState\"])(), canvas);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasEventsFacade.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasState.js":
/*!******************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasState.js ***!
  \******************************************************************************************/
/*! exports provided: interruptCanvasToStartAddPoints, interruptAllCanvasEvents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interruptCanvasToStartAddPoints\", function() { return interruptCanvasToStartAddPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interruptAllCanvasEvents\", function() { return interruptAllCanvasEvents; });\n/* harmony import */ var _objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n/* harmony import */ var _objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/boundingBox/boundingBox */ \"./src/js/canvas/objects/boundingBox/boundingBox.js\");\n/* harmony import */ var _tools_labellerModal_buttonEventHandlers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../tools/labellerModal/buttonEventHandlers */ \"./src/js/tools/labellerModal/buttonEventHandlers.js\");\n/* harmony import */ var _eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../eventWorkers/editPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../tools/labelList/labelListHighlightUtils */ \"./src/js/tools/labelList/labelListHighlightUtils.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction interruptCanvasEventsWithoutRemovingExistingPoints() {\r\n  Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_6__[\"removeHighlightOfListLabel\"])();\r\n  Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__[\"resetNewPolygonData\"])();\r\n  Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_2__[\"clearBoundingBoxData\"])();\r\n  Object(_tools_labellerModal_buttonEventHandlers__WEBPACK_IMPORTED_MODULE_3__[\"cancelLabellingProcess\"])();\r\n  Object(_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_4__[\"removeEditedPolygonId\"])();\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getReadyToDrawShapeState\"])()) {\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setCancelledReadyToDrawState\"])(true);\r\n  } else {\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setCancelledReadyToDrawState\"])(false);\r\n  }\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setReadyToDrawShapeState\"])(false);\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getAlteringPolygonPointsState\"])()) {\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemovingPolygonPointsState\"])()) {\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"cleanPolygonPointsArray\"])();\r\n    }\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getAddingPolygonPointsState\"])()) {\r\n      Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"clearAllAddPointsData\"])();\r\n    }\r\n    Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"changePolygonPointsPropertiesToDefault\"])();\r\n    Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setPolygonEditingButtonsToDefault\"])();\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setAlteringPolygonPointsState\"])(false);\r\n  }\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setRemoveShapeButtonToDisabled\"])();\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setPolygonEditingButtonsToDefault\"])();\r\n}\r\n\r\nfunction interruptAllCanvasEvents() {\r\n  Object(_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoints\"])();\r\n  Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_2__[\"deselectBoundingBox\"])();\r\n  interruptCanvasEventsWithoutRemovingExistingPoints();\r\n}\r\n\r\nfunction interruptCanvasToStartAddPoints() {\r\n  if (!Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getAddingPolygonPointsState\"])()) {\r\n    interruptCanvasEventsWithoutRemovingExistingPoints();\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasState.js?");

/***/ }),

/***/ "./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/setDrawingMode.js":
/*!****************************************************************************************!*\
  !*** ./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/setDrawingMode.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setDrawingMode; });\n/* harmony import */ var _eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventHandlers/drawPolygonEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js\");\n/* harmony import */ var _eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../eventHandlers/drawBndBoxEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers.js\");\n/* harmony import */ var _purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n\r\n\r\n\r\n\r\nfunction setDrawingMode(mode, canvas) {\r\n  Object(_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas);\r\n  if (mode === 'polygon') {\r\n    Object(_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n  } else if (mode === 'boundingBox') {\r\n    Object(_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(canvas);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/setDrawingMode.js?");

/***/ }),

/***/ "./src/js/canvas/objects/allShapes/allShapes.js":
/*!******************************************************!*\
  !*** ./src/js/canvas/objects/allShapes/allShapes.js ***!
  \******************************************************/
/*! exports provided: changeShapeVisibilityById, getNumberOfShapes, getAllExistingShapes, removeShape, highlightShapeFill, defaultShapeFill, retrieveAllShapeRefs, removeFillForAllShapes, getShapeVisibilityById, addShapeForInvisibleImage, getShapeById, getShapeColorById, changeShapeColorById, changeShapeLabelText, addShape, addExistingShape, removeAllShapeRefs, assignCanvasForShapeFillManipulation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeShapeVisibilityById\", function() { return changeShapeVisibilityById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getNumberOfShapes\", function() { return getNumberOfShapes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAllExistingShapes\", function() { return getAllExistingShapes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeShape\", function() { return removeShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"highlightShapeFill\", function() { return highlightShapeFill; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultShapeFill\", function() { return defaultShapeFill; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"retrieveAllShapeRefs\", function() { return retrieveAllShapeRefs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillForAllShapes\", function() { return removeFillForAllShapes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getShapeVisibilityById\", function() { return getShapeVisibilityById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addShapeForInvisibleImage\", function() { return addShapeForInvisibleImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getShapeById\", function() { return getShapeById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getShapeColorById\", function() { return getShapeColorById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeShapeColorById\", function() { return changeShapeColorById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeShapeLabelText\", function() { return changeShapeLabelText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addShape\", function() { return addShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addExistingShape\", function() { return addExistingShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeAllShapeRefs\", function() { return removeAllShapeRefs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForShapeFillManipulation\", function() { return assignCanvasForShapeFillManipulation; });\n/* harmony import */ var _tools_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../tools/globalStatistics/globalStatistics */ \"./src/js/tools/globalStatistics/globalStatistics.js\");\n\r\n\r\nlet shapes = {};\r\nlet canvas = null;\r\n\r\nfunction createNewShapeObject(shapeObj, shapeColor) {\r\n  const newShapeObject = { shapeRef: shapeObj, color: shapeColor, visibility: true };\r\n  newShapeObject.shapeRef.set('fill', shapeColor.default);\r\n  newShapeObject.shapeRef.set('stroke', shapeColor.stroke);\r\n  return newShapeObject;\r\n}\r\n\r\nfunction addShape(shapeObj, shapeColor, id) {\r\n  shapes[id] = createNewShapeObject(shapeObj, shapeColor);\r\n  Object(_tools_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_0__[\"incrementShapeType\"])(shapeObj);\r\n}\r\n\r\nfunction addShapeForInvisibleImage(shapeObj, shapeColor) {\r\n  const newShapeObject = createNewShapeObject(shapeObj, shapeColor);\r\n  Object(_tools_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_0__[\"incrementShapeType\"])(shapeObj);\r\n  return newShapeObject;\r\n}\r\n\r\nfunction addExistingShape(shapeObj, id) {\r\n  shapes[id] = shapeObj;\r\n}\r\n\r\nfunction getShapeById(id) {\r\n  return shapes[id].shapeRef;\r\n}\r\n\r\nfunction getNumberOfShapes() {\r\n  return Object.keys(shapes).length;\r\n}\r\n\r\nfunction getAllExistingShapes() {\r\n  return shapes;\r\n}\r\n\r\nfunction removeAllShapeRefs() {\r\n  shapes = {};\r\n}\r\n\r\n// refactor the side effect of removing shape refs\r\nfunction retrieveAllShapeRefs() {\r\n  const shapeRefs = {};\r\n  Object.keys(shapes).forEach((key) => {\r\n    shapeRefs[key] = shapes[key];\r\n    canvas.remove(shapes[key].shapeRef);\r\n  });\r\n  shapes = {};\r\n  return shapeRefs;\r\n}\r\n\r\nfunction getShapeColorById(id) {\r\n  return shapes[id].color;\r\n}\r\n\r\nfunction changeShapeVisibilityById(id) {\r\n  shapes[id].shapeRef.visible = !shapes[id].shapeRef.visible;\r\n  shapes[id].visibility = !shapes[id].visibility;\r\n  return shapes[id].visibility;\r\n}\r\n\r\nfunction getShapeVisibilityById(id) {\r\n  return shapes[id].shapeRef.visible;\r\n}\r\n\r\nfunction changeShapeColorById(id, color) {\r\n  shapes[id].color = color;\r\n  shapes[id].shapeRef.set('fill', color.default);\r\n  shapes[id].shapeRef.set('stroke', color.stroke);\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction highlightShapeFill(id) {\r\n  const highlightColor = shapes[id].color.highlight;\r\n  shapes[id].shapeRef.set('fill', highlightColor);\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction defaultShapeFill(id) {\r\n  const defaultColor = shapes[id].color.default;\r\n  shapes[id].shapeRef.set('fill', defaultColor);\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction removeFillForAllShapes() {\r\n  Object.keys(shapes).forEach((key) => {\r\n    const defaultColor = shapes[key].color.default;\r\n    shapes[key].shapeRef.set('fill', defaultColor);\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction changeShapeLabelText(id, newText) {\r\n  shapes[id].shapeRef.set('shapeLabelText', newText);\r\n}\r\n\r\nfunction removeShape(id) {\r\n  Object(_tools_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_0__[\"decrementShapeType\"])(shapes[id].shapeRef);\r\n  canvas.remove(shapes[id].shapeRef);\r\n  delete shapes[id];\r\n}\r\n\r\nfunction assignCanvasForShapeFillManipulation(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/allShapes/allShapes.js?");

/***/ }),

/***/ "./src/js/canvas/objects/allShapes/labelAndShapeBuilder.js":
/*!*****************************************************************!*\
  !*** ./src/js/canvas/objects/allShapes/labelAndShapeBuilder.js ***!
  \*****************************************************************/
/*! exports provided: assignCanvasForLabelAndShapeBuilder, generateLabelShapeGroup, findInitialLabelLocation, repopulateLabelAndShapeObjects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForLabelAndShapeBuilder\", function() { return assignCanvasForLabelAndShapeBuilder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateLabelShapeGroup\", function() { return generateLabelShapeGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findInitialLabelLocation\", function() { return findInitialLabelLocation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"repopulateLabelAndShapeObjects\", function() { return repopulateLabelAndShapeObjects; });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _label_label__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _label_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n/* harmony import */ var _tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../tools/labelList/labelList */ \"./src/js/tools/labelList/labelList.js\");\n/* harmony import */ var _objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../objectsProperties/changeProperties */ \"./src/js/canvas/objects/objectsProperties/changeProperties.js\");\n/* harmony import */ var _tools_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../tools/labelList/labelOptions */ \"./src/js/tools/labelList/labelOptions.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _allShapes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../sharedUtils/newObjectBlockers */ \"./src/js/canvas/objects/sharedUtils/newObjectBlockers.js\");\n/* harmony import */ var _tools_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../tools/utils/textProcessingUtils */ \"./src/js/tools/utils/textProcessingUtils.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet currentId = 0;\r\nlet canvas = null;\r\n\r\nfunction setShapeEditingIcons(shape) {\r\n  if (shape.shapeName === 'polygon') {\r\n    Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setPolygonEditingButtonsToDefault\"])();\r\n    Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setRemoveShapeButtonToDisabled\"])();\r\n  }\r\n}\r\n\r\nfunction findInitialLabelLocation(shape) {\r\n  const locationObj = {};\r\n  if (shape.shapeName === 'bndBox') {\r\n    locationObj.left = shape.left + _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boundingBoxOffsetProperties().left;\r\n    locationObj.top = shape.top;\r\n  } else if (shape.shapeName === 'polygon') {\r\n    const left = shape.points[0].x - _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].pointOffsetProperties().left;\r\n    const top = shape.points[0].y - _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].pointOffsetProperties().top;\r\n    locationObj.left = left;\r\n    locationObj.top = top;\r\n    Object(_label_label__WEBPACK_IMPORTED_MODULE_1__[\"setPolygonLabelOffsetProps\"])(shape, shape.points[0]);\r\n  }\r\n  return locationObj;\r\n}\r\n\r\nfunction generateLabel(label, objectVisibility) {\r\n  label.visible = (objectVisibility === undefined || objectVisibility)\r\n    && Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"getLabelsVisibilityState\"])();\r\n  label.setVisibilityButtonActiveFlagById = false;\r\n  canvas.add(label);\r\n  canvas.bringToFront(label);\r\n}\r\n\r\nfunction populateImageProperties(image, shapeRefObject, label, id) {\r\n  image.shapes[id] = shapeRefObject;\r\n  image.labels[id] = label;\r\n}\r\n\r\nfunction replaceCurrentShapeColourPropertiesWithMLPallette(shape) {\r\n  shape.set('isGeneratedViaML', true);\r\n  shape.set('MLPallette', true);\r\n  shape.set('trueFill', shape.fill);\r\n  shape.set('trueStroke', shape.stroke);\r\n  shape.set('fill', 'rgb(88, 202, 75, 0.3)');\r\n  shape.set('stroke', 'rgb(88, 202, 75)');\r\n}\r\n\r\nfunction generateLabelShapeGroup(shape, text, image, isUsingMachineLearning) {\r\n  const preprocessedText = Object(_tools_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_9__[\"preprocessLabelText\"])(text);\r\n  shape.set('id', currentId);\r\n  shape.set('shapeLabelText', preprocessedText);\r\n  const initialLocation = findInitialLabelLocation(shape);\r\n  const textShape = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Text(preprocessedText,\r\n    _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLabelProps(initialLocation, shape.shapeName));\r\n  Object(_tools_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_5__[\"addToLabelOptions\"])(textShape.text);\r\n  const shapeColor = Object(_tools_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_5__[\"getLabelColor\"])(textShape.text);\r\n  Object(_label_label__WEBPACK_IMPORTED_MODULE_1__[\"addLabelRef\"])(textShape, currentId);\r\n  // sending image reference when not current image\r\n  if (image) {\r\n    const shapeRefObject = Object(_allShapes__WEBPACK_IMPORTED_MODULE_7__[\"addShapeForInvisibleImage\"])(shape, shapeColor);\r\n    populateImageProperties(image, shapeRefObject, textShape, currentId);\r\n  } else {\r\n    generateLabel(textShape);\r\n    Object(_allShapes__WEBPACK_IMPORTED_MODULE_7__[\"addShape\"])(shape, shapeColor, currentId);\r\n    Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_3__[\"addNewLabelToListFromPopup\"])(textShape.text, currentId, shapeColor.label);\r\n  }\r\n  setShapeEditingIcons(shape);\r\n  if (isUsingMachineLearning) {\r\n    replaceCurrentShapeColourPropertiesWithMLPallette(shape);\r\n  }\r\n  currentId += 1;\r\n}\r\n\r\nfunction repopulateLabelShapeGroup(shapeObj, label, id, newFileSizeRatio) {\r\n  canvas.add(shapeObj.shapeRef);\r\n  Object(_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_4__[\"resizeLabelDimensionsBySingleScale\"])(label, newFileSizeRatio);\r\n  generateLabel(label, shapeObj.visibility);\r\n  Object(_allShapes__WEBPACK_IMPORTED_MODULE_7__[\"addExistingShape\"])(shapeObj, id);\r\n  Object(_label_label__WEBPACK_IMPORTED_MODULE_1__[\"addLabelRef\"])(label, id);\r\n  const shapeColor = Object(_tools_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_5__[\"getLabelColor\"])(shapeObj.shapeRef.shapeLabelText);\r\n  Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_3__[\"addExistingLabelToList\"])(shapeObj.shapeRef.shapeLabelText, id,\r\n    shapeColor.label, shapeObj.visibility);\r\n}\r\n\r\nfunction repopulateVisibleLabelShapeGroup(shapeObj, label, id, newFileSizeRatio) {\r\n  Object(_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_4__[\"resizeAllPassedObjectsDimensionsBySingleScale\"])(shapeObj.shapeRef, newFileSizeRatio);\r\n  repopulateLabelShapeGroup(shapeObj, label, id, newFileSizeRatio);\r\n}\r\n\r\nfunction repopoulateHiddenLabelShapeGroup(shapeObj, label, id,\r\n  imageDimensions, newFileSizeRatio) {\r\n  Object(_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_4__[\"resizeAllPassedObjectsDimensionsBySingleScale\"])(shapeObj.shapeRef, newFileSizeRatio);\r\n  const imageScalingDimensions = { scaleX: newFileSizeRatio, scaleY: newFileSizeRatio };\r\n  const imageLengthDimensions = {\r\n    height: imageDimensions.originalHeight, width: imageDimensions.originalWidth,\r\n  };\r\n  Object(_sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_8__[\"preventOutOfBoundsOnNewObject\"])(shapeObj.shapeRef, imageScalingDimensions, imageLengthDimensions);\r\n  repopulateLabelShapeGroup(shapeObj, label, id, newFileSizeRatio);\r\n}\r\n\r\nfunction calculateNewImageHeightRatio(imageDimensions) {\r\n  return canvas.height / imageDimensions.originalHeight;\r\n}\r\n\r\nfunction repopulateHiddenImageObjects(newImageDimensions, existingShapes, existingLabels) {\r\n  const imageDimensions = {\r\n    originalHeight: newImageDimensions.height,\r\n    originalWidth: newImageDimensions.width,\r\n  };\r\n  const newFileSizeRatio = calculateNewImageHeightRatio(imageDimensions);\r\n  const newPolygonOffsetProperties = { width: newFileSizeRatio, height: newFileSizeRatio };\r\n  _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setPolygonOffsetProperties(newPolygonOffsetProperties);\r\n  Object.keys(existingShapes).forEach((key) => {\r\n    repopoulateHiddenLabelShapeGroup(existingShapes[key], existingLabels[key], key,\r\n      imageDimensions, newFileSizeRatio);\r\n  });\r\n}\r\n\r\nfunction repopulateVisibleImageObjects(previousDimensions, existingShapes, existingLabels) {\r\n  const newFileSizeRatio = calculateNewImageHeightRatio(previousDimensions)\r\n    / previousDimensions.oldImageHeightRatio;\r\n  const newPolygonOffsetProperties = {\r\n    width: newFileSizeRatio * previousDimensions.polygonOffsetLeft,\r\n    height: newFileSizeRatio * previousDimensions.polygonOffsetTop,\r\n  };\r\n  _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setPolygonOffsetProperties(newPolygonOffsetProperties);\r\n  Object.keys(existingShapes).forEach((key) => {\r\n    repopulateVisibleLabelShapeGroup(existingShapes[key], existingLabels[key], key,\r\n      newFileSizeRatio);\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction repopulateLabelAndShapeObjects(existingShapes, existingLabels,\r\n  previousDimensions, newImageDimensions) {\r\n  if (previousDimensions && previousDimensions.originalHeight) {\r\n    repopulateVisibleImageObjects(previousDimensions, existingShapes, existingLabels);\r\n  } else if (Object.keys(existingShapes).length > 0) {\r\n    repopulateHiddenImageObjects(newImageDimensions, existingShapes, existingLabels);\r\n  }\r\n}\r\n\r\nfunction assignCanvasForLabelAndShapeBuilder(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/allShapes/labelAndShapeBuilder.js?");

/***/ }),

/***/ "./src/js/canvas/objects/boundingBox/boundingBox.js":
/*!**********************************************************!*\
  !*** ./src/js/canvas/objects/boundingBox/boundingBox.js ***!
  \**********************************************************/
/*! exports provided: drawBoundingBox, shapeScrollEvents, deselectBoundingBox, clearBoundingBoxData, resetDrawBoundingBoxMode, finishDrawingBoundingBox, instantiateNewBoundingBox, isBoundingBoxDrawingFinished, prepareCanvasForNewBoundingBox, setRightBoundingBoxDrawingDelta, createNewBoundingBoxFromCoordinates, prepareCanvasForNewBoundingBoxesFromExternalSources */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawBoundingBox\", function() { return drawBoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shapeScrollEvents\", function() { return shapeScrollEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deselectBoundingBox\", function() { return deselectBoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearBoundingBoxData\", function() { return clearBoundingBoxData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetDrawBoundingBoxMode\", function() { return resetDrawBoundingBoxMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"finishDrawingBoundingBox\", function() { return finishDrawingBoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"instantiateNewBoundingBox\", function() { return instantiateNewBoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBoundingBoxDrawingFinished\", function() { return isBoundingBoxDrawingFinished; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareCanvasForNewBoundingBox\", function() { return prepareCanvasForNewBoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRightBoundingBoxDrawingDelta\", function() { return setRightBoundingBoxDrawingDelta; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNewBoundingBoxFromCoordinates\", function() { return createNewBoundingBoxFromCoordinates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareCanvasForNewBoundingBoxesFromExternalSources\", function() { return prepareCanvasForNewBoundingBoxesFromExternalSources; });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./properties */ \"./src/js/canvas/objects/boundingBox/properties.js\");\n/* harmony import */ var _tools_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../tools/labellerModal/labellingProcess */ \"./src/js/tools/labellerModal/labellingProcess.js\");\n/* harmony import */ var _tools_labellerModal_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../tools/labellerModal/style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../mouseInteractions/cursorModes/drawMode */ \"./src/js/canvas/mouseInteractions/cursorModes/drawMode.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../tools/imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../sharedUtils/newObjectBlockers */ \"./src/js/canvas/objects/sharedUtils/newObjectBlockers.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _tools_globalStyling_style__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../tools/globalStyling/style */ \"./src/js/tools/globalStyling/style.js\");\n/* harmony import */ var _keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../keyEvents/mouse/mouseMove */ \"./src/js/keyEvents/mouse/mouseMove.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\nlet createNewBoundingBoxBtnClicked = false;\r\nlet leftMouseBtnDown = false;\r\nconst boundingBoxProps = {};\r\nlet boundingBox = null;\r\nlet lastMouseEvent = null;\r\nlet drawingFinished = false;\r\nlet finishDrawingBoundingBoxClick = null;\r\nlet rightBoundingBoxDelta = 0;\r\n\r\nfunction checkCanvasBoundaries(pointer) {\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() > 1.00001) {\r\n    const { height, width } = Object(_tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_6__[\"getImageProperties\"])();\r\n    const imageHeight = height * Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n    const imageWidth = width * Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n    if (pointer.x > imageWidth / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() - Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])()) {\r\n      pointer.x = imageWidth / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() - 2;\r\n    }\r\n    if (pointer.y > imageHeight / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() - Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])()) {\r\n      pointer.y = imageHeight / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() - 1.5;\r\n    }\r\n  } else {\r\n    if (pointer.x > canvas.width - rightBoundingBoxDelta) {\r\n      pointer.x = canvas.width - rightBoundingBoxDelta;\r\n    }\r\n    if (pointer.y > canvas.height - 1.5) {\r\n      pointer.y = canvas.height - 1.5;\r\n    }\r\n  }\r\n}\r\n\r\nfunction instantiateNewBoundingBox() {\r\n  if (createNewBoundingBoxBtnClicked && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getBoundingBoxDrawingInProgressState\"])()) {\r\n    let pointer = canvas.getPointer(lastMouseEvent.e);\r\n    if (!pointer.x || !pointer.y) {\r\n      const lastMouseMoveEvent = Object(_keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_10__[\"getLastMouseMoveEvent\"])();\r\n      const lastCanvasPointer = canvas.getPointer(lastMouseMoveEvent);\r\n      if (!lastCanvasPointer.x || !lastCanvasPointer.y) return;\r\n      pointer = canvas.getPointer(lastMouseMoveEvent);\r\n    }\r\n    checkCanvasBoundaries(pointer);\r\n    leftMouseBtnDown = true;\r\n    boundingBoxProps.origX = pointer.x < 0 ? 0 : pointer.x;\r\n    boundingBoxProps.origY = pointer.y < 0 ? 0 : pointer.y;\r\n    boundingBox = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Rect(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].tempBoundingBoxProps(boundingBoxProps));\r\n    canvas.add(boundingBox);\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setBoundingBoxDrawingInProgressState\"])(true);\r\n  }\r\n}\r\n\r\nfunction deselectBoundingBox() {\r\n  if (canvas) {\r\n    canvas.discardActiveObject();\r\n    canvas.renderAll();\r\n  }\r\n}\r\n\r\nfunction resetDrawBoundingBoxMode() {\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setCreateBoundingBoxButtonToActive\"])();\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setReadyToDrawShapeState\"])(true);\r\n  Object(_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_4__[\"setDrawCursorMode\"])(canvas);\r\n  createNewBoundingBoxBtnClicked = true;\r\n  drawingFinished = false;\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setBoundingBoxDrawingInProgressState\"])(false);\r\n}\r\n\r\nfunction clearBoundingBoxData() {\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getBoundingBoxDrawingInProgressState\"])()) {\r\n    canvas.remove(boundingBox);\r\n    boundingBox = null;\r\n    resetDrawBoundingBoxMode();\r\n    leftMouseBtnDown = false;\r\n  }\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setBoundingBoxDrawingInProgressState\"])(false);\r\n}\r\n\r\n// check whether the results are truncated\r\n\r\n// if the right or bottom side of the drawn bounding box look a bit too far,\r\n// then reduce the delta values\r\n\r\nlet mouseMovedLeft = false;\r\nlet mouseMovedTop = false;\r\n\r\nfunction drawBoundingBox(event) {\r\n  lastMouseEvent = event;\r\n  if (!leftMouseBtnDown) return;\r\n  const pointer = canvas.getPointer(event.e);\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() > 1.00001) {\r\n    const { height, width } = Object(_tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_6__[\"getImageProperties\"])();\r\n    const imageHeight = height * Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n    const imageWidth = width * Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n    // right\r\n    if (boundingBoxProps.origX < pointer.x) {\r\n      if (pointer.x > imageWidth / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() - Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])()) {\r\n        boundingBox.set(\r\n          { width: imageWidth / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() - boundingBoxProps.origX - 2 },\r\n        );\r\n      } else if (mouseMovedLeft) {\r\n        boundingBox.set({ left: boundingBoxProps.origX });\r\n        boundingBox.set({ width: pointer.x - boundingBoxProps.origX });\r\n        mouseMovedLeft = false;\r\n      } else {\r\n        boundingBox.set({ width: pointer.x - boundingBoxProps.origX });\r\n      }\r\n    }\r\n    // bottom\r\n    if (boundingBoxProps.origY < pointer.y) {\r\n      if (pointer.y > imageHeight / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() - Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])()) {\r\n        boundingBox.set(\r\n          { height: imageHeight / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])() - boundingBoxProps.origY - 1.5 },\r\n        );\r\n      } else if (mouseMovedTop) {\r\n        boundingBox.set({ top: boundingBoxProps.origY });\r\n        boundingBox.set({ height: pointer.y - boundingBoxProps.origY - 1.5 });\r\n        mouseMovedTop = false;\r\n      } else {\r\n        boundingBox.set({ height: pointer.y - boundingBoxProps.origY - 1.5 });\r\n      }\r\n    }\r\n  } else {\r\n    // right\r\n    if (boundingBoxProps.origX < pointer.x) {\r\n      if (pointer.x > canvas.width - rightBoundingBoxDelta) {\r\n        boundingBox.set({\r\n          width: Math.floor(canvas.width - boundingBoxProps.origX - rightBoundingBoxDelta),\r\n        });\r\n      } else if (mouseMovedLeft) {\r\n        boundingBox.set({ left: boundingBoxProps.origX });\r\n        boundingBox.set({ width: pointer.x - boundingBoxProps.origX + 0.5 });\r\n        mouseMovedLeft = false;\r\n      } else {\r\n        boundingBox.set({ width: pointer.x - boundingBoxProps.origX + 0.5 });\r\n      }\r\n    }\r\n    // bottom\r\n    if (boundingBoxProps.origY < pointer.y) {\r\n      if (pointer.y > canvas.height) {\r\n        boundingBox.set({ height: canvas.height - boundingBoxProps.origY - 1.5 });\r\n      } else if (mouseMovedTop) {\r\n        boundingBox.set({ top: boundingBoxProps.origY });\r\n        boundingBox.set({ height: pointer.y - boundingBoxProps.origY - 1.5 });\r\n        mouseMovedTop = false;\r\n      } else {\r\n        boundingBox.set({ height: pointer.y - boundingBoxProps.origY - 1.5 });\r\n      }\r\n    }\r\n  }\r\n  // top\r\n  if (boundingBoxProps.origY > pointer.y) {\r\n    if (pointer.y < 0) {\r\n      boundingBox.set(({ top: 0 }));\r\n      boundingBox.set({ height: boundingBoxProps.origY });\r\n    } else {\r\n      boundingBox.set({ top: pointer.y });\r\n      boundingBox.set({ height: boundingBoxProps.origY - pointer.y });\r\n      mouseMovedTop = true;\r\n    }\r\n  }\r\n  // left\r\n  if (boundingBoxProps.origX > pointer.x) {\r\n    if (pointer.x < 0) {\r\n      boundingBox.set(({ left: 0 }));\r\n      boundingBox.set(({ width: boundingBoxProps.origX }));\r\n    } else {\r\n      boundingBox.set({ left: pointer.x });\r\n      boundingBox.set({ width: boundingBoxProps.origX - pointer.x });\r\n      mouseMovedLeft = true;\r\n    }\r\n  }\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction lockMovementIfAssertedByState(boundingBoxObj) {\r\n  if (!Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getMovableObjectsState\"])()) {\r\n    const immovableObjectProps = {\r\n      lockMovementX: true,\r\n      lockMovementY: true,\r\n      hoverCursor: 'default',\r\n    };\r\n    boundingBoxObj.set(immovableObjectProps);\r\n  }\r\n}\r\n\r\nfunction isBoundingBoxDrawingFinished() {\r\n  return drawingFinished;\r\n}\r\n\r\nfunction finishDrawingBoundingBoxFunc() {\r\n  if (leftMouseBtnDown && Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getBoundingBoxDrawingInProgressState\"])()) {\r\n    createNewBoundingBoxBtnClicked = false;\r\n    leftMouseBtnDown = false;\r\n    boundingBox.setCoords();\r\n    boundingBox.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].finalBoundingBoxProps());\r\n    lockMovementIfAssertedByState(boundingBox);\r\n    drawingFinished = true;\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setReadyToDrawShapeState\"])(false);\r\n    Object(_tools_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_2__[\"prepareLabelShape\"])(boundingBox, canvas);\r\n    const pointer = canvas.getPointer(lastMouseEvent.e);\r\n    Object(_tools_labellerModal_style__WEBPACK_IMPORTED_MODULE_3__[\"showLabellerModal\"])(pointer.x, pointer.y);\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setBoundingBoxDrawingInProgressState\"])(false);\r\n    boundingBox = null;\r\n  }\r\n}\r\n\r\nfunction finishDrawingBoundingBox() {\r\n  finishDrawingBoundingBoxClick();\r\n}\r\n\r\nfunction assignSetEditablePolygonOnClickFunc() {\r\n  finishDrawingBoundingBoxClick = finishDrawingBoundingBoxFunc;\r\n}\r\n\r\nfunction skipMouseUpEvent() {\r\n  canvas.__eventListeners['mouse:down'] = [];\r\n  canvas.on('mouse:down', () => {\r\n    instantiateNewBoundingBox();\r\n  });\r\n  assignSetEditablePolygonOnClickFunc();\r\n}\r\n\r\nfunction setRightBoundingBoxDrawingDelta(delta) {\r\n  rightBoundingBoxDelta = delta;\r\n}\r\n\r\nfunction prepareCanvasForNewBoundingBox(canvasObj) {\r\n  canvas = canvasObj;\r\n  createNewBoundingBoxBtnClicked = true;\r\n  drawingFinished = false;\r\n  Object(_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_4__[\"setDrawCursorMode\"])(canvas);\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setReadyToDrawShapeState\"])(true);\r\n  canvas.discardActiveObject();\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getAddingPolygonPointsState\"])()) {\r\n    Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setAddPointsButtonToDefault\"])();\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setAddingPolygonPointsState\"])(false);\r\n    finishDrawingBoundingBoxClick = skipMouseUpEvent;\r\n  } else {\r\n    finishDrawingBoundingBoxClick = finishDrawingBoundingBoxFunc;\r\n  }\r\n}\r\n\r\nfunction prepareCanvasForNewBoundingBoxesFromExternalSources(canvasObj) {\r\n  canvas = canvasObj;\r\n  Object(_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_4__[\"setDrawCursorMode\"])(canvas);\r\n}\r\n\r\nfunction topOverflowScroll(event, zoomOverflowElement) {\r\n  const currentScrollTopOffset = zoomOverflowElement.scrollTop / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n  const newPositionTop = canvas.getPointer(event.e).y - currentScrollTopOffset;\r\n  if (boundingBoxProps.origY > newPositionTop) {\r\n    boundingBox.set({ top: newPositionTop });\r\n  } else if (boundingBoxProps.origY < newPositionTop) {\r\n    boundingBox.set({ top: boundingBoxProps.origY });\r\n  }\r\n  boundingBox.set({ height: Math.abs(boundingBoxProps.origY - newPositionTop) });\r\n}\r\n\r\nfunction bottomOverflowScroll(event, zoomOverflowElement, stubHeight, scrollWidth) {\r\n  const canvasHeight = stubHeight + scrollWidth;\r\n  const canvasBottom = zoomOverflowElement.scrollTop + zoomOverflowElement.offsetHeight;\r\n  const result = canvasHeight - canvasBottom;\r\n  const newPositionTop = canvas.getPointer(event.e).y + (result / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])());\r\n  if (boundingBoxProps.origY > newPositionTop) {\r\n    boundingBox.set({ top: newPositionTop });\r\n  } else if (boundingBoxProps.origY < newPositionTop) {\r\n    boundingBox.set({ top: boundingBoxProps.origY });\r\n  }\r\n  boundingBox.set({ height: Math.abs(boundingBoxProps.origY - newPositionTop) });\r\n}\r\n\r\nfunction defaultScroll(event) {\r\n  const currentVerticalScrollDelta = event.e.deltaY / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n  const newPositionTop = canvas.getPointer(event.e).y + currentVerticalScrollDelta;\r\n  if (boundingBoxProps.origY > newPositionTop) {\r\n    boundingBox.set({ top: newPositionTop });\r\n  } else if (boundingBoxProps.origY < newPositionTop) {\r\n    boundingBox.set({ top: boundingBoxProps.origY });\r\n  }\r\n  boundingBox.set({ height: Math.abs(boundingBoxProps.origY - newPositionTop) });\r\n}\r\n\r\nfunction shapeScrollEvents(event) {\r\n  if (leftMouseBtnDown) {\r\n    const currentZoom = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n    if (currentZoom > 1.00001) {\r\n      const stubElement = document.getElementById('stub');\r\n      const stubMarginTop = stubElement.style.marginTop;\r\n      const stubHeightSubstring = stubMarginTop.substring(0, stubMarginTop.length - 2);\r\n      const stubHeight = parseInt(stubHeightSubstring, 10);\r\n      const zoomOverflowElement = document.getElementById('zoom-overflow');\r\n      const currentBotLocation = zoomOverflowElement.scrollTop + zoomOverflowElement.offsetHeight;\r\n      const futureBotLocation = currentBotLocation + event.e.deltaY;\r\n      // if the scrolling brings issues where the bottom of the bounding box is not at\r\n      // the right position, then go with the original implementation:\r\n      // 9ff478d8ac4e06eeae9d472ef49b3387682e12b6\r\n      const scrollWidth = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getDoubleScrollCanvasState\"])() ? Object(_tools_globalStyling_style__WEBPACK_IMPORTED_MODULE_9__[\"getScrollbarWidth\"])() * 4\r\n        : Object(_tools_globalStyling_style__WEBPACK_IMPORTED_MODULE_9__[\"getScrollbarWidth\"])() * 2;\r\n      if (zoomOverflowElement.scrollTop + event.e.deltaY < 0) {\r\n        topOverflowScroll(event, zoomOverflowElement);\r\n      } else if (futureBotLocation > stubHeight + scrollWidth) {\r\n        bottomOverflowScroll(event, zoomOverflowElement, stubHeight, scrollWidth);\r\n      } else {\r\n        defaultScroll(event);\r\n      }\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n}\r\n\r\nfunction createNewBoundingBoxFromCoordinates(left, top, width, height,\r\n  imageScalingDimensions, imageLengthDimensions) {\r\n  boundingBoxProps.left = left;\r\n  boundingBoxProps.top = top;\r\n  boundingBoxProps.width = width;\r\n  boundingBoxProps.height = height;\r\n  boundingBoxProps.scaleX = imageScalingDimensions.scaleX;\r\n  boundingBoxProps.scaleY = imageScalingDimensions.scaleY;\r\n  const newBoundingBox = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Rect(\r\n    _properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getStandaloneBoundingBoxProperties(boundingBoxProps),\r\n  );\r\n  Object(_sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_7__[\"preventOutOfBoundsOnNewObject\"])(newBoundingBox, imageScalingDimensions, imageLengthDimensions);\r\n  lockMovementIfAssertedByState(newBoundingBox);\r\n  return newBoundingBox;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/boundingBox/boundingBox.js?");

/***/ }),

/***/ "./src/js/canvas/objects/boundingBox/properties.js":
/*!*********************************************************!*\
  !*** ./src/js/canvas/objects/boundingBox/properties.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return boundingBoxProps; });\n/* import { getMovableObjectsState } from\r\n '../../../tools/toolkit/buttonClickEvents/facadeWorkersUtils/stateMachine';\r\n should be done here */\r\n\r\nconst boundingBoxProps = {};\r\n\r\nlet tempBoundingBoxStrokeWidth = 2;\r\nlet finalBoundingBoxStrokeWidth = 1.75;\r\n\r\nfunction setZoomInProperties(boundingBoxRatio) {\r\n  tempBoundingBoxStrokeWidth -= tempBoundingBoxStrokeWidth * boundingBoxRatio;\r\n  finalBoundingBoxStrokeWidth -= finalBoundingBoxStrokeWidth * boundingBoxRatio;\r\n}\r\n\r\nfunction setZoomOutProperties(boundingBoxRatio) {\r\n  tempBoundingBoxStrokeWidth *= boundingBoxRatio;\r\n  finalBoundingBoxStrokeWidth *= boundingBoxRatio;\r\n}\r\n\r\nfunction getTempBoundingBoxProps(coordinates) {\r\n  return {\r\n    left: coordinates.origX,\r\n    top: coordinates.origY,\r\n    stroke: 'hsla(112, 57%, 50%, 1)',\r\n    strokeWidth: tempBoundingBoxStrokeWidth,\r\n    fill: 'rgba(255,0,0,0)',\r\n    shapeName: 'bndBoxTemp',\r\n    objectCaching: false,\r\n  };\r\n}\r\n\r\nfunction getFinalBoundingBoxProps() {\r\n  return {\r\n    shapeName: 'bndBox',\r\n    objectCaching: false,\r\n    selectable: false,\r\n    hasRotatingPoint: false,\r\n    perPixelTargetFind: false,\r\n    cornerSize: 8,\r\n    strokeWidth: finalBoundingBoxStrokeWidth,\r\n    lockScalingFlip: true,\r\n  };\r\n}\r\n\r\nfunction getStandaloneBoundingBoxProperties(imageDimensions) {\r\n  return {\r\n    shapeName: 'bndBox',\r\n    objectCaching: false,\r\n    selectable: false,\r\n    hasRotatingPoint: false,\r\n    perPixelTargetFind: false,\r\n    cornerSize: 8,\r\n    strokeWidth: finalBoundingBoxStrokeWidth,\r\n    left: imageDimensions.left * imageDimensions.scaleX,\r\n    top: imageDimensions.top * imageDimensions.scaleY,\r\n    width: imageDimensions.width * imageDimensions.scaleX,\r\n    height: imageDimensions.height * imageDimensions.scaleY,\r\n    stroke: 'hsla(112, 57%, 50%, 1)',\r\n    fill: 'rgba(255,0,0,0)',\r\n    lockScalingFlip: true,\r\n  };\r\n}\r\n\r\n// http://fabricjs.com/controls-customization\r\n(function setProperties() {\r\n  boundingBoxProps.tempBoundingBoxProps = getTempBoundingBoxProps;\r\n  boundingBoxProps.finalBoundingBoxProps = getFinalBoundingBoxProps;\r\n  boundingBoxProps.setZoomInProperties = setZoomInProperties;\r\n  boundingBoxProps.setZoomOutProperties = setZoomOutProperties;\r\n  boundingBoxProps.getStandaloneBoundingBoxProperties = getStandaloneBoundingBoxProperties;\r\n}());\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/boundingBox/properties.js?");

/***/ }),

/***/ "./src/js/canvas/objects/boundingBox/scaling.js":
/*!******************************************************!*\
  !*** ./src/js/canvas/objects/boundingBox/scaling.js ***!
  \******************************************************/
/*! exports provided: setRightBoundingBoxScalingDelta, clearControlSelectedObject, setInitialBoundingBoxCoordinates, handleBoundingBoxScalingEvents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRightBoundingBoxScalingDelta\", function() { return setRightBoundingBoxScalingDelta; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearControlSelectedObject\", function() { return clearControlSelectedObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setInitialBoundingBoxCoordinates\", function() { return setInitialBoundingBoxCoordinates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleBoundingBoxScalingEvents\", function() { return handleBoundingBoxScalingEvents; });\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../tools/imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _label_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n\r\n\r\n\r\n\r\nlet originalBoundingBoxBottomCoordinate = 0;\r\nlet originalBoundingBoxLeftCoordinate = 0;\r\nlet originalBoundingBoxTopCoordinate = 0;\r\nlet originalBoundingBoxRightCoordinate = 0;\r\nlet rightBoundingBoxDelta = 0;\r\n\r\nconst controlSelected = {\r\n  middleTop: false,\r\n  topRight: false,\r\n  middleRight: false,\r\n  bottomRight: false,\r\n  middleBottom: false,\r\n  bottomLeft: false,\r\n  middleLeft: false,\r\n  topLeft: false,\r\n};\r\n\r\nfunction prepareBoundingBoxToBeEdited(boundingBox) {\r\n  const { height, width } = Object(_tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__[\"getImageProperties\"])();\r\n  const currentZoomState = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])();\r\n  if (boundingBox.top + boundingBox.height > height * currentZoomState - 2) {\r\n    boundingBox.height = (height * currentZoomState - 2) - boundingBox.top;\r\n  } else if (boundingBox.left + boundingBox.width > width * currentZoomState - 2) {\r\n    boundingBox.width = (width * currentZoomState - 2) - boundingBox.left;\r\n  }\r\n}\r\n\r\nfunction setRightBoundingBoxScalingDelta(delta) {\r\n  rightBoundingBoxDelta = delta;\r\n}\r\n\r\nfunction clearControlSelectedObject() {\r\n  Object.keys(controlSelected).forEach((key) => {\r\n    controlSelected[key] = false;\r\n  });\r\n}\r\n\r\nfunction setInitialBoundingBoxCoordinates(event) {\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setBoundingBoxScalingState\"])(true);\r\n  prepareBoundingBoxToBeEdited(event.target);\r\n  switch (event.transform.corner) {\r\n    case 'ml':\r\n      originalBoundingBoxRightCoordinate = event.target.left + event.target.width;\r\n      controlSelected.middleLeft = true;\r\n      break;\r\n    case 'mt':\r\n      originalBoundingBoxBottomCoordinate = event.target.top + event.target.height;\r\n      controlSelected.middleTop = true;\r\n      break;\r\n    case 'tl':\r\n      originalBoundingBoxRightCoordinate = event.target.left + event.target.width;\r\n      originalBoundingBoxBottomCoordinate = event.target.top + event.target.height;\r\n      controlSelected.topLeft = true;\r\n      break;\r\n    case 'tr':\r\n      originalBoundingBoxBottomCoordinate = event.target.top + event.target.height;\r\n      originalBoundingBoxLeftCoordinate = event.target.left;\r\n      controlSelected.topRight = true;\r\n      // fix for when uploading dataset to a second canvas that has not been viewed and dragging\r\n      // top right of a bbox that is on the right side of an image, thus going out of canvas\r\n      // note that this does cause an initial scaling twitch but it is acceptable for now\r\n      event.target.left = originalBoundingBoxLeftCoordinate + event.target.width;\r\n      break;\r\n    case 'mr':\r\n      controlSelected.middleRight = true;\r\n      break;\r\n    case 'br':\r\n      originalBoundingBoxLeftCoordinate = event.target.left;\r\n      originalBoundingBoxTopCoordinate = event.target.top;\r\n      controlSelected.bottomRight = true;\r\n      break;\r\n    case 'mb':\r\n      controlSelected.middleBottom = true;\r\n      break;\r\n    case 'bl':\r\n      originalBoundingBoxRightCoordinate = event.target.left + event.target.width;\r\n      originalBoundingBoxTopCoordinate = event.target.top;\r\n      controlSelected.bottomLeft = true;\r\n      break;\r\n    default:\r\n      clearControlSelectedObject();\r\n      break;\r\n  }\r\n}\r\n\r\nfunction setDefaultScales(boundingBox) {\r\n  boundingBox.scaleX = 1;\r\n  boundingBox.scaleY = 1;\r\n}\r\n\r\nfunction setDefaultScalingValues(boundingBox, labelObject, labelLeftOffset, pointer) {\r\n  if (controlSelected.topLeft) {\r\n    if (boundingBox.width <= 0) {\r\n      boundingBox.left = originalBoundingBoxRightCoordinate;\r\n      boundingBox.width = 1;\r\n    } else {\r\n      boundingBox.left = pointer.x;\r\n      boundingBox.width = originalBoundingBoxRightCoordinate - pointer.x;\r\n    }\r\n    if (boundingBox.height <= 0) {\r\n      boundingBox.top = originalBoundingBoxBottomCoordinate;\r\n      boundingBox.height = 1;\r\n    } else {\r\n      boundingBox.top = pointer.y;\r\n      boundingBox.height = originalBoundingBoxBottomCoordinate - pointer.y;\r\n    }\r\n  } else if (controlSelected.topRight) {\r\n    if (boundingBox.width <= 0) {\r\n      boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n      boundingBox.width = 1;\r\n    } else {\r\n      boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n      boundingBox.width = pointer.x - originalBoundingBoxLeftCoordinate;\r\n    }\r\n    if (boundingBox.height <= 0) {\r\n      boundingBox.top = originalBoundingBoxBottomCoordinate;\r\n      boundingBox.height = 1;\r\n    } else {\r\n      boundingBox.top = pointer.y;\r\n      boundingBox.height = originalBoundingBoxBottomCoordinate - pointer.y;\r\n    }\r\n  } else if (controlSelected.bottomLeft) {\r\n    if (boundingBox.width <= 0) {\r\n      boundingBox.left = originalBoundingBoxRightCoordinate;\r\n      boundingBox.width = 1;\r\n    } else {\r\n      boundingBox.left = pointer.x;\r\n      boundingBox.width = originalBoundingBoxRightCoordinate - pointer.x;\r\n    }\r\n    if (boundingBox.height <= 0) {\r\n      boundingBox.top = originalBoundingBoxTopCoordinate;\r\n      boundingBox.height = 1;\r\n    } else {\r\n      boundingBox.top = originalBoundingBoxTopCoordinate;\r\n      boundingBox.height = pointer.y - originalBoundingBoxTopCoordinate;\r\n    }\r\n  } else if (controlSelected.bottomRight) {\r\n    if (boundingBox.width <= 0) {\r\n      boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n      boundingBox.width = 1;\r\n    } else {\r\n      boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n      boundingBox.width = pointer.x - originalBoundingBoxLeftCoordinate;\r\n    }\r\n    if (boundingBox.height <= 0) {\r\n      boundingBox.top = originalBoundingBoxTopCoordinate;\r\n      boundingBox.height = 1;\r\n    } else {\r\n      boundingBox.top = originalBoundingBoxTopCoordinate;\r\n      boundingBox.height = pointer.y - originalBoundingBoxTopCoordinate;\r\n    }\r\n  } else {\r\n    boundingBox.width *= boundingBox.scaleX;\r\n    boundingBox.height *= boundingBox.scaleY;\r\n  }\r\n  setDefaultScales(boundingBox);\r\n  labelObject.left = boundingBox.left + labelLeftOffset;\r\n  labelObject.top = boundingBox.top;\r\n}\r\n\r\nfunction handleBoundingBoxScalingEvents(event, labelObject, canvas) {\r\n  if (event.target.shapeName !== 'bndBox') return;\r\n  const labelLeftOffset = _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boundingBoxOffsetProperties().left;\r\n  const { height, width } = Object(_tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__[\"getImageProperties\"])();\r\n  const currentZoomState = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])();\r\n  const pointer = canvas.getPointer(canvas.e);\r\n  const imageHeight = height * currentZoomState;\r\n  const imageWidth = width * currentZoomState;\r\n  const boundingBox = event.target;\r\n  boundingBox.setCoords();\r\n  let blocking = false;\r\n  let blockingTop = false;\r\n  let blockingRight = false;\r\n  let blockingLeft = false;\r\n  // repeating changes variable and setDefaultScales function logic as the object could already\r\n  // be at the boundary without having to use any of the conditional controls\r\n  // top\r\n  if (boundingBox.top <= 0) {\r\n    // console.log('1');\r\n    blockingTop = true;\r\n    if (controlSelected.topLeft) {\r\n      blocking = true;\r\n      boundingBox.top = 0;\r\n      boundingBox.height = originalBoundingBoxBottomCoordinate;\r\n      if (boundingBox.width <= 0) {\r\n        boundingBox.left = originalBoundingBoxRightCoordinate - 1;\r\n        boundingBox.width = 1;\r\n      } else {\r\n        boundingBox.left = pointer.x;\r\n        boundingBox.width = originalBoundingBoxRightCoordinate - pointer.x;\r\n      }\r\n      labelObject.left = boundingBox.left + labelLeftOffset;\r\n      labelObject.top = boundingBox.top;\r\n      setDefaultScales(boundingBox);\r\n    } else if (controlSelected.topRight) {\r\n      blocking = true;\r\n      boundingBox.height = originalBoundingBoxBottomCoordinate;\r\n      boundingBox.top = 0;\r\n      if (boundingBox.width <= 0) {\r\n        boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n        boundingBox.width = 1;\r\n      } else {\r\n        boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n        boundingBox.width = pointer.x - originalBoundingBoxLeftCoordinate;\r\n      }\r\n      labelObject.left = boundingBox.left + labelLeftOffset;\r\n      labelObject.top = boundingBox.top;\r\n      setDefaultScales(boundingBox);\r\n    } else if (controlSelected.middleTop) {\r\n      blocking = true;\r\n      boundingBox.top = 0;\r\n      boundingBox.height = originalBoundingBoxBottomCoordinate;\r\n      setDefaultScales(boundingBox);\r\n    }\r\n  } else if (controlSelected.middleTop) {\r\n    boundingBox.height = originalBoundingBoxBottomCoordinate - pointer.y;\r\n  }\r\n  // left\r\n  if (boundingBox.left <= 0) {\r\n    blockingLeft = true;\r\n    if (controlSelected.topLeft) {\r\n      blocking = true;\r\n      if (!blockingTop) {\r\n        if (boundingBox.height <= 0) {\r\n          boundingBox.top = originalBoundingBoxBottomCoordinate - 1;\r\n          boundingBox.height = 1;\r\n        } else {\r\n          boundingBox.top = pointer.y;\r\n          boundingBox.height = originalBoundingBoxBottomCoordinate - pointer.y;\r\n        }\r\n      }\r\n      boundingBox.left = 0;\r\n      boundingBox.width = originalBoundingBoxRightCoordinate;\r\n      labelObject.left = boundingBox.left + labelLeftOffset;\r\n      labelObject.top = boundingBox.top;\r\n      setDefaultScales(boundingBox);\r\n    } else if (controlSelected.bottomLeft) {\r\n      blocking = true;\r\n      if (boundingBox.height <= 0) {\r\n        boundingBox.top = originalBoundingBoxTopCoordinate;\r\n        boundingBox.height = 1;\r\n      } else {\r\n        boundingBox.top = originalBoundingBoxTopCoordinate;\r\n        boundingBox.height = pointer.y - originalBoundingBoxTopCoordinate;\r\n      }\r\n      boundingBox.left = 0;\r\n      boundingBox.width = originalBoundingBoxRightCoordinate;\r\n      labelObject.left = boundingBox.left + labelLeftOffset;\r\n      labelObject.top = boundingBox.top;\r\n      setDefaultScales(boundingBox);\r\n    } else if (controlSelected.middleLeft) {\r\n      blocking = true;\r\n      boundingBox.left = 0;\r\n      setDefaultScales(boundingBox);\r\n      boundingBox.width = originalBoundingBoxRightCoordinate;\r\n    }\r\n  } else if (controlSelected.middleLeft) {\r\n    boundingBox.width = originalBoundingBoxRightCoordinate - pointer.x;\r\n  }\r\n  if (currentZoomState > 1.00001) {\r\n    // right\r\n    if ((boundingBox.width + boundingBox.left) > imageWidth / currentZoomState - 1) {\r\n      // console.log('3');\r\n      blockingRight = true;\r\n      if (controlSelected.topRight) {\r\n        blocking = true;\r\n        if (!blockingTop) {\r\n          if (boundingBox.height <= 0) {\r\n            boundingBox.top = originalBoundingBoxBottomCoordinate - 1;\r\n            boundingBox.height = 1;\r\n          } else {\r\n            boundingBox.top = pointer.y;\r\n            boundingBox.height = originalBoundingBoxBottomCoordinate - pointer.y;\r\n          }\r\n        }\r\n        boundingBox.width = imageWidth / currentZoomState - boundingBox.left - 2;\r\n        boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n        labelObject.left = boundingBox.left + labelLeftOffset;\r\n        labelObject.top = boundingBox.top;\r\n      } else if (controlSelected.bottomRight) {\r\n        blocking = true;\r\n        if (boundingBox.height <= 0) {\r\n          boundingBox.top = originalBoundingBoxTopCoordinate;\r\n          boundingBox.height = 1;\r\n        } else {\r\n          boundingBox.top = originalBoundingBoxTopCoordinate;\r\n          boundingBox.height = pointer.y - originalBoundingBoxTopCoordinate;\r\n        }\r\n        boundingBox.width = imageWidth / currentZoomState - boundingBox.left - 2;\r\n        boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n        labelObject.left = boundingBox.left + labelLeftOffset;\r\n        labelObject.top = boundingBox.top;\r\n      } else {\r\n        boundingBox.width = imageWidth / currentZoomState - boundingBox.left - 2;\r\n      }\r\n    }\r\n    // bottom\r\n    if ((boundingBox.height + boundingBox.top) > imageHeight / currentZoomState - 2) {\r\n    //   console.log('4');\r\n      if (controlSelected.bottomRight) {\r\n        blocking = true;\r\n        if (!blockingRight) {\r\n          if (boundingBox.width <= 0) {\r\n            boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n            boundingBox.width = 1;\r\n          } else {\r\n            boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n            boundingBox.width = pointer.x - originalBoundingBoxLeftCoordinate;\r\n          }\r\n        }\r\n        boundingBox.height = imageHeight / currentZoomState - boundingBox.top - 2;\r\n        labelObject.left = boundingBox.left + labelLeftOffset;\r\n        labelObject.top = boundingBox.top;\r\n      } else if (controlSelected.bottomLeft) {\r\n        blocking = true;\r\n        if (!blockingLeft) {\r\n          if (boundingBox.width <= 0) {\r\n            boundingBox.left = originalBoundingBoxRightCoordinate - 1;\r\n            boundingBox.width = 1;\r\n          } else {\r\n            boundingBox.width = originalBoundingBoxRightCoordinate - pointer.x;\r\n            boundingBox.left = pointer.x;\r\n          }\r\n        }\r\n        boundingBox.height = imageHeight / currentZoomState - boundingBox.top - 2;\r\n        labelObject.left = boundingBox.left + labelLeftOffset;\r\n        labelObject.top = boundingBox.top;\r\n      } else {\r\n        boundingBox.height = imageHeight / currentZoomState - boundingBox.top - 2;\r\n      }\r\n    }\r\n  } else {\r\n    // right\r\n    if ((boundingBox.width + boundingBox.left) > canvas.width - rightBoundingBoxDelta) {\r\n      // console.log('5');\r\n      blockingRight = true;\r\n      if (controlSelected.topRight) {\r\n        blocking = true;\r\n        if (!blockingTop) {\r\n          if (boundingBox.height <= 0) {\r\n            boundingBox.top = originalBoundingBoxBottomCoordinate - 1;\r\n            boundingBox.height = 1;\r\n          } else {\r\n            boundingBox.top = pointer.y;\r\n            boundingBox.height = originalBoundingBoxBottomCoordinate - pointer.y;\r\n          }\r\n        }\r\n        boundingBox.width = Math.floor(canvas.width - boundingBox.left - rightBoundingBoxDelta);\r\n        boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n        labelObject.left = boundingBox.left + labelLeftOffset;\r\n        labelObject.top = boundingBox.top;\r\n      } else if (controlSelected.bottomRight) {\r\n        blocking = true;\r\n        if (boundingBox.height <= 0) {\r\n          boundingBox.top = originalBoundingBoxTopCoordinate;\r\n          boundingBox.height = 1;\r\n        } else {\r\n          boundingBox.top = originalBoundingBoxTopCoordinate;\r\n          boundingBox.height = pointer.y - originalBoundingBoxTopCoordinate;\r\n        }\r\n        boundingBox.width = Math.floor(canvas.width - boundingBox.left - rightBoundingBoxDelta);\r\n        boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n        labelObject.left = boundingBox.left + labelLeftOffset;\r\n        labelObject.top = boundingBox.top;\r\n      } else {\r\n        boundingBox.width = Math.floor(canvas.width - boundingBox.left - rightBoundingBoxDelta);\r\n      }\r\n    }\r\n    // bottom\r\n    if ((boundingBox.height + boundingBox.top) > canvas.height - 2) {\r\n      // console.log('6');\r\n      if (controlSelected.bottomRight) {\r\n        blocking = true;\r\n        if (!blockingRight) {\r\n          if (boundingBox.width <= 0) {\r\n            boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n            boundingBox.width = 1;\r\n          } else {\r\n            boundingBox.left = originalBoundingBoxLeftCoordinate;\r\n            boundingBox.width = pointer.x - originalBoundingBoxLeftCoordinate;\r\n          }\r\n        }\r\n        boundingBox.height = Math.floor(canvas.height - boundingBox.top - 2);\r\n        labelObject.left = boundingBox.left + labelLeftOffset;\r\n        labelObject.top = boundingBox.top;\r\n      } else if (controlSelected.bottomLeft) {\r\n        blocking = true;\r\n        if (!blockingLeft) {\r\n          if (boundingBox.width <= 0) {\r\n            boundingBox.left = originalBoundingBoxRightCoordinate - 1;\r\n            boundingBox.width = 1;\r\n          } else {\r\n            boundingBox.width = originalBoundingBoxRightCoordinate - pointer.x;\r\n            boundingBox.left = pointer.x;\r\n          }\r\n        }\r\n        boundingBox.height = Math.floor(canvas.height - boundingBox.top - 2);\r\n        labelObject.left = boundingBox.left + labelLeftOffset;\r\n        labelObject.top = boundingBox.top;\r\n      } else {\r\n        boundingBox.height = canvas.height - boundingBox.top - 2;\r\n      }\r\n    }\r\n  }\r\n  if (!blocking) {\r\n    // console.log('7');\r\n    setDefaultScalingValues(boundingBox, labelObject, labelLeftOffset, pointer);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/boundingBox/scaling.js?");

/***/ }),

/***/ "./src/js/canvas/objects/deltaValueSetters/initialiseShapeManipulationDeltas.js":
/*!**************************************************************************************!*\
  !*** ./src/js/canvas/objects/deltaValueSetters/initialiseShapeManipulationDeltas.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseShapeManipulationDeltas; });\n/* harmony import */ var _boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../boundingBox/boundingBox */ \"./src/js/canvas/objects/boundingBox/boundingBox.js\");\n/* harmony import */ var _sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sharedUtils/moveBlockers */ \"./src/js/canvas/objects/sharedUtils/moveBlockers.js\");\n/* harmony import */ var _sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sharedUtils/newObjectBlockers */ \"./src/js/canvas/objects/sharedUtils/newObjectBlockers.js\");\n/* harmony import */ var _boundingBox_scaling__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../boundingBox/scaling */ \"./src/js/canvas/objects/boundingBox/scaling.js\");\n/* harmony import */ var _tools_utils_browserType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../tools/utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction initialiseShapeManipulationDeltas() {\r\n  if (!_tools_utils_browserType__WEBPACK_IMPORTED_MODULE_4__[\"default\"] && window.screen.width < 1500) {\r\n    Object(_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__[\"setRightBoundingBoxDrawingDelta\"])(2);\r\n    Object(_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_1__[\"setRightBoundingBoxMovingDelta\"])(2);\r\n    Object(_sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_2__[\"setRightBoundingBoxNewObjectDelta\"])(2);\r\n    Object(_boundingBox_scaling__WEBPACK_IMPORTED_MODULE_3__[\"setRightBoundingBoxScalingDelta\"])(2);\r\n  } else {\r\n    Object(_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_0__[\"setRightBoundingBoxDrawingDelta\"])(2.3);\r\n    Object(_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_1__[\"setRightBoundingBoxMovingDelta\"])(2.3);\r\n    Object(_sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_2__[\"setRightBoundingBoxNewObjectDelta\"])(2.3);\r\n    Object(_boundingBox_scaling__WEBPACK_IMPORTED_MODULE_3__[\"setRightBoundingBoxScalingDelta\"])(2.4);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/deltaValueSetters/initialiseShapeManipulationDeltas.js?");

/***/ }),

/***/ "./src/js/canvas/objects/label/label.js":
/*!**********************************************!*\
  !*** ./src/js/canvas/objects/label/label.js ***!
  \**********************************************/
/*! exports provided: retrieveAllLabelRefs, removeAllLabelRefs, changeVisibilityButtonActiveFlagById, removeLabel, setPolygonLabelOffsetProps, getLabelById, addLabelRef, assignCanvasForLabelManipulation, changeLabelVisibilityById, setAllLabelsVisibilityProperty, changeLabelText, removeAllLabels */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"retrieveAllLabelRefs\", function() { return retrieveAllLabelRefs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeAllLabelRefs\", function() { return removeAllLabelRefs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeVisibilityButtonActiveFlagById\", function() { return changeVisibilityButtonActiveFlagById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeLabel\", function() { return removeLabel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPolygonLabelOffsetProps\", function() { return setPolygonLabelOffsetProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLabelById\", function() { return getLabelById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLabelRef\", function() { return addLabelRef; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForLabelManipulation\", function() { return assignCanvasForLabelManipulation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeLabelVisibilityById\", function() { return changeLabelVisibilityById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAllLabelsVisibilityProperty\", function() { return setAllLabelsVisibilityProperty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeLabelText\", function() { return changeLabelText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeAllLabels\", function() { return removeAllLabels; });\n/* harmony import */ var _properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./properties */ \"./src/js/canvas/objects/label/properties.js\");\n\r\n\r\nlet canvas = null;\r\n// be careful about this as we will need to look into doing this for multiple\r\nlet labelObjects = {};\r\n\r\nfunction addLabelRef(labelObj, id) {\r\n  labelObjects[id] = labelObj;\r\n}\r\n\r\nfunction getLabelById(id) {\r\n  return labelObjects[id];\r\n}\r\n\r\nfunction removeLabel(id) {\r\n  canvas.remove(labelObjects[id]);\r\n  delete labelObjects[id];\r\n}\r\n\r\nfunction setPolygonLabelOffsetProps(polygon, point) {\r\n  polygon.labelOffsetLeft = polygon.left\r\n    - (point.x - _properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pointOffsetProperties().left);\r\n  polygon.labelOffsetTop = polygon.top\r\n    - (point.y - _properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pointOffsetProperties().top);\r\n}\r\n\r\nfunction changeLabelText(id, text) {\r\n  labelObjects[id].text = text;\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction changeVisibilityButtonActiveFlagById(id) {\r\n  labelObjects[id].visibilityButtonActive = !labelObjects[id].visibilityButtonActive;\r\n}\r\n\r\nfunction changeLabelVisibilityById(id) {\r\n  labelObjects[id].visible = !labelObjects[id].visible;\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction setAllLabelsVisibilityProperty(state) {\r\n  Object.keys(labelObjects).forEach((label) => {\r\n    if (!labelObjects[label].visibilityButtonActive) {\r\n      labelObjects[label].visible = state;\r\n    }\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction assignCanvasForLabelManipulation(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\nfunction removeAllLabelRefs() {\r\n  labelObjects = {};\r\n}\r\n\r\nfunction retrieveAllLabelRefs() {\r\n  const labelRefs = {};\r\n  Object.keys(labelObjects).forEach((key) => {\r\n    labelRefs[key] = labelObjects[key];\r\n    canvas.remove(labelObjects[key]);\r\n  });\r\n  return labelRefs;\r\n}\r\n\r\nfunction removeAllLabels() {\r\n  Object.keys(labelObjects).forEach((key) => {\r\n    canvas.remove(labelObjects[key]);\r\n  });\r\n  labelObjects = {};\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/label/label.js?");

/***/ }),

/***/ "./src/js/canvas/objects/label/properties.js":
/*!***************************************************!*\
  !*** ./src/js/canvas/objects/label/properties.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return labelProperties; });\nconst labelProperties = {};\r\n\r\nlet fontSize = 10;\r\nlet polygonLabelTop = 0;\r\nlet polygonOffsetLeft = 10;\r\nlet polygonOffsetTop = 12;\r\n\r\nfunction setZoomInProperties(fontRatio) {\r\n  fontSize -= fontSize * fontRatio;\r\n  polygonLabelTop += 0.5;\r\n}\r\n\r\nfunction setZoomOutProperties(fontRatio) {\r\n  fontSize *= fontRatio;\r\n  polygonLabelTop -= 0.5;\r\n}\r\n\r\nfunction getLabelProps(coordinates, attachedShape) {\r\n  const returnObj = {\r\n    fontSize,\r\n    fill: 'yellow',\r\n    left: coordinates.left,\r\n    top: coordinates.top,\r\n    shapeName: 'label',\r\n    attachedShape,\r\n    hasControls: false,\r\n    selectable: false,\r\n    hasBorders: false,\r\n    objectCaching: false,\r\n    evented: false,\r\n  };\r\n  return returnObj;\r\n}\r\n\r\nfunction generatePolygonOffsetProperties() {\r\n  return {\r\n    left: polygonOffsetLeft,\r\n    top: polygonOffsetTop - polygonLabelTop,\r\n  };\r\n}\r\n\r\nfunction updatePolygonOffsetProperties(newOffsetRatio) {\r\n  polygonOffsetLeft *= newOffsetRatio.width;\r\n  polygonOffsetTop *= newOffsetRatio.height;\r\n}\r\n\r\nfunction setPolygonOffsetProperties(newOffsetData) {\r\n  polygonOffsetLeft = newOffsetData.width;\r\n  polygonOffsetTop = newOffsetData.height;\r\n}\r\n\r\nfunction generateBoundingBoxOffsetProperties() {\r\n  return {\r\n    left: 2,\r\n  };\r\n}\r\n\r\n(function setProperties() {\r\n  labelProperties.pointOffsetProperties = generatePolygonOffsetProperties;\r\n  labelProperties.boundingBoxOffsetProperties = generateBoundingBoxOffsetProperties;\r\n  labelProperties.getLabelProps = getLabelProps;\r\n  labelProperties.setZoomInProperties = setZoomInProperties;\r\n  labelProperties.setZoomOutProperties = setZoomOutProperties;\r\n  labelProperties.updatePolygonOffsetProperties = updatePolygonOffsetProperties;\r\n  labelProperties.setPolygonOffsetProperties = setPolygonOffsetProperties;\r\n}());\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/label/properties.js?");

/***/ }),

/***/ "./src/js/canvas/objects/objectsProperties/changeProperties.js":
/*!*********************************************************************!*\
  !*** ./src/js/canvas/objects/objectsProperties/changeProperties.js ***!
  \*********************************************************************/
/*! exports provided: setObjectPropertiesToDefault, setObjectsHoverCursorToDefault, prepareObjectsForEditablePolygonPoints, setObjectPropertiesToDefaultWhenReadyToDraw, resizeAllPassedObjectsDimensionsBySingleScale, resizeLabelDimensionsBySingleScale, resizeAllObjectsDimensionsByDoubleScale */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setObjectPropertiesToDefault\", function() { return setObjectPropertiesToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setObjectsHoverCursorToDefault\", function() { return setObjectsHoverCursorToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareObjectsForEditablePolygonPoints\", function() { return prepareObjectsForEditablePolygonPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setObjectPropertiesToDefaultWhenReadyToDraw\", function() { return setObjectPropertiesToDefaultWhenReadyToDraw; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeAllPassedObjectsDimensionsBySingleScale\", function() { return resizeAllPassedObjectsDimensionsBySingleScale; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeLabelDimensionsBySingleScale\", function() { return resizeLabelDimensionsBySingleScale; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeAllObjectsDimensionsByDoubleScale\", function() { return resizeAllObjectsDimensionsByDoubleScale; });\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _label_label__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../label/label */ \"./src/js/canvas/objects/label/label.js\");\n\r\n\r\n\r\nfunction prepareObjectsForEditablePolygonPoints(object, isDrawing) {\r\n  if (isDrawing) {\r\n    if (object.shapeName !== 'bndBox') {\r\n      object.perPixelTargetFind = true;\r\n    }\r\n  }\r\n  if (object.shapeName === 'bndBox') {\r\n    object.selectable = false;\r\n  } else {\r\n    object.lockMovementX = true;\r\n    object.lockMovementY = true;\r\n  }\r\n}\r\n\r\nfunction setObjectPropertiesToDefault(object) {\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getMovableObjectsState\"])() || (object.shapeName !== 'bndBox' && object.shapeName !== 'polygon')) {\r\n    object.lockMovementX = false;\r\n    object.lockMovementY = false;\r\n    object.hoverCursor = 'move';\r\n  } else if (object.shapeName === 'bndBox') {\r\n    object.lockMovementX = true;\r\n    object.lockMovementY = true;\r\n    object.hoverCursor = 'default';\r\n  }\r\n  object.selectable = true;\r\n}\r\n\r\nfunction setObjectPropertiesToDefaultWhenReadyToDraw(canvas) {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getMovableObjectsState\"])()) {\r\n      iteratedObj.lockMovementX = false;\r\n      iteratedObj.lockMovementY = false;\r\n      iteratedObj.hoverCursor = 'move';\r\n    } else {\r\n      iteratedObj.lockMovementX = true;\r\n      iteratedObj.lockMovementY = true;\r\n      iteratedObj.hoverCursor = 'default';\r\n    }\r\n    iteratedObj.selectable = true;\r\n  });\r\n}\r\n\r\nfunction setObjectsHoverCursorToDefault(canvas) {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    iteratedObj.hoverCursor = 'default';\r\n  });\r\n}\r\n\r\nfunction resetPolygonSelectableArea(currentPolygon) {\r\n  const newPosition = currentPolygon._calcDimensions();\r\n  currentPolygon.set({\r\n    left: newPosition.left,\r\n    top: newPosition.top,\r\n    height: newPosition.height,\r\n    width: newPosition.width,\r\n    pathOffset: {\r\n      x: newPosition.left + newPosition.width / 2,\r\n      y: newPosition.top + newPosition.height / 2,\r\n    },\r\n  });\r\n  currentPolygon.setCoords();\r\n}\r\n\r\nfunction resizeAllObjectsDimensionsByDoubleScale(newFileSizeRatio, canvas) {\r\n  canvas.forEachObject((object) => {\r\n    switch (object.shapeName) {\r\n      case 'polygon':\r\n        object.points.forEach((point) => {\r\n          point.x *= newFileSizeRatio.width;\r\n          point.y *= newFileSizeRatio.height;\r\n        });\r\n        resetPolygonSelectableArea(object, newFileSizeRatio);\r\n        Object(_label_label__WEBPACK_IMPORTED_MODULE_1__[\"setPolygonLabelOffsetProps\"])(object, object.points[0]);\r\n        break;\r\n      case 'tempPolygon':\r\n        object.points.forEach((point) => {\r\n          point.x *= newFileSizeRatio.width;\r\n          point.y *= newFileSizeRatio.height;\r\n        });\r\n        break;\r\n      case 'point':\r\n      case 'invisiblePoint':\r\n      case 'firstPoint':\r\n      case 'tempPoint':\r\n      case 'initialAddPoint':\r\n      case 'label':\r\n        object.top *= newFileSizeRatio.height;\r\n        object.left *= newFileSizeRatio.width;\r\n        break;\r\n      case 'addPointsLine':\r\n        object.top *= newFileSizeRatio.height;\r\n        object.left *= newFileSizeRatio.width;\r\n        object.height *= newFileSizeRatio.height;\r\n        object.width *= newFileSizeRatio.width;\r\n        object.x1 *= newFileSizeRatio.width;\r\n        object.x2 *= newFileSizeRatio.width;\r\n        object.y1 *= newFileSizeRatio.height;\r\n        object.y2 *= newFileSizeRatio.height;\r\n        break;\r\n      case 'bndBox':\r\n        object.height *= newFileSizeRatio.height;\r\n        object.width *= newFileSizeRatio.width;\r\n        object.top *= newFileSizeRatio.height;\r\n        object.left *= newFileSizeRatio.width;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    object.setCoords();\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction resizeLabelDimensionsBySingleScale(object, newFileSizeRatio) {\r\n  object.top *= newFileSizeRatio;\r\n  object.left *= newFileSizeRatio;\r\n}\r\n\r\nfunction resizeAllPassedObjectsDimensionsBySingleScale(object, newFileSizeRatio) {\r\n  switch (object.shapeName) {\r\n    case 'polygon':\r\n      object.points.forEach((point) => {\r\n        point.x *= newFileSizeRatio;\r\n        point.y *= newFileSizeRatio;\r\n      });\r\n      resetPolygonSelectableArea(object);\r\n      Object(_label_label__WEBPACK_IMPORTED_MODULE_1__[\"setPolygonLabelOffsetProps\"])(object, object.points[0]);\r\n      break;\r\n    case 'tempPolygon':\r\n      object.points.forEach((point) => {\r\n        point.x *= newFileSizeRatio;\r\n        point.y *= newFileSizeRatio;\r\n      });\r\n      break;\r\n    case 'point':\r\n    case 'invisiblePoint':\r\n    case 'firstPoint':\r\n    case 'tempPoint':\r\n    case 'initialAddPoint':\r\n    case 'label':\r\n      resizeLabelDimensionsBySingleScale(object, newFileSizeRatio);\r\n      break;\r\n    case 'addPointsLine':\r\n      object.top *= newFileSizeRatio;\r\n      object.left *= newFileSizeRatio;\r\n      object.height *= newFileSizeRatio;\r\n      object.width *= newFileSizeRatio;\r\n      object.x1 *= newFileSizeRatio;\r\n      object.x2 *= newFileSizeRatio;\r\n      object.y1 *= newFileSizeRatio;\r\n      object.y2 *= newFileSizeRatio;\r\n      break;\r\n    case 'bndBox':\r\n      object.height *= newFileSizeRatio;\r\n      object.width *= newFileSizeRatio;\r\n      object.top *= newFileSizeRatio;\r\n      object.left *= newFileSizeRatio;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  object.setCoords();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/objectsProperties/changeProperties.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/addPoint.js":
/*!****************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/addPoint.js ***!
  \****************************************************************/
/*! exports provided: initializeAddNewPointsImpl, addFirstPointImpl, addPointImpl, completePolygonImpl, drawLineImpl, moveAddablePointImpl, addPointsMouseOverImpl, resetAddPointPropertiesImpl, isAddingPointsToPolygonImpl, clearAllAddPointsDataImpl, addPointsMouseOutImpl, resetAddPointsImpl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initializeAddNewPointsImpl\", function() { return initializeAddNewPointsImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFirstPointImpl\", function() { return addFirstPointImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPointImpl\", function() { return addPointImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"completePolygonImpl\", function() { return completePolygonImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawLineImpl\", function() { return drawLineImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"moveAddablePointImpl\", function() { return moveAddablePointImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPointsMouseOverImpl\", function() { return addPointsMouseOverImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetAddPointPropertiesImpl\", function() { return resetAddPointPropertiesImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAddingPointsToPolygonImpl\", function() { return isAddingPointsToPolygonImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearAllAddPointsDataImpl\", function() { return clearAllAddPointsDataImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPointsMouseOutImpl\", function() { return addPointsMouseOutImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetAddPointsImpl\", function() { return resetAddPointsImpl; });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../properties */ \"./src/js/canvas/objects/polygon/properties.js\");\n/* harmony import */ var _label_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n/* harmony import */ var _mouseInteractions_cursorModes_addPointsMode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../mouseInteractions/cursorModes/addPointsMode */ \"./src/js/canvas/mouseInteractions/cursorModes/addPointsMode.js\");\n/* harmony import */ var _changePointsStyle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./changePointsStyle */ \"./src/js/canvas/objects/polygon/alterPolygon/changePointsStyle.js\");\n/* harmony import */ var _label_label__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../sharedUtils/moveBlockers */ \"./src/js/canvas/objects/sharedUtils/moveBlockers.js\");\n/* harmony import */ var _mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode */ \"./src/js/canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\nlet activeLine = null;\r\nlet lineArray = [];\r\nlet tempPointIndex = 0;\r\nlet initialPoint = null;\r\nlet pointsArray = [];\r\nlet defaultPointHoverMode = true;\r\n\r\nfunction drawLineImpl(pointer) {\r\n  activeLine.set({ x2: pointer.x, y2: pointer.y });\r\n  activeLine.setCoords();\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction isAddingPointsToPolygonImpl() {\r\n  return activeLine;\r\n}\r\n\r\nfunction addPointsMouseOverImpl(event) {\r\n  if (defaultPointHoverMode && event.target && event.target.shapeName === 'point') {\r\n    event.target.stroke = 'green';\r\n    canvas.renderAll();\r\n  }\r\n}\r\n\r\nfunction addPointsMouseOutImpl(event) {\r\n  if (event.target && event.target.shapeName === 'point') {\r\n    event.target.stroke = '#333333';\r\n    canvas.renderAll();\r\n  }\r\n}\r\n\r\nfunction moveAddablePointImpl(event) {\r\n  Object(_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_6__[\"preventOutOfBoundsPointsOnMove\"])(event.target, canvas);\r\n  const xCenterPoint = event.target.getCenterPoint().x;\r\n  const yCenterPoint = event.target.getCenterPoint().y;\r\n  const { pointId } = event.target;\r\n  lineArray[pointId].set({ x2: xCenterPoint, y2: yCenterPoint });\r\n  if ((pointId + 1) !== tempPointIndex) {\r\n    lineArray[pointId + 1].set({ x1: xCenterPoint, y1: yCenterPoint });\r\n  } else {\r\n    activeLine.set({ x1: xCenterPoint, y1: yCenterPoint });\r\n  }\r\n}\r\n\r\nfunction createNewLine(...coordinates) {\r\n  activeLine = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Line(coordinates, _properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newLine());\r\n  canvas.add(activeLine);\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction initializeAddNewPointsImpl(shape, pointer, canvasObj) {\r\n  shape.stroke = '#333333';\r\n  canvas = canvasObj;\r\n  Object(_mouseInteractions_cursorModes_addPointsMode__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(canvas, shape);\r\n  createNewLine(shape.left, shape.top, pointer.x, pointer.y);\r\n  initialPoint = shape;\r\n  canvas.bringToFront(initialPoint);\r\n  defaultPointHoverMode = false;\r\n}\r\n\r\nfunction addFirstPointImpl(event) {\r\n  Object(_changePointsStyle__WEBPACK_IMPORTED_MODULE_4__[\"changePolygonPointsToAddImpl\"])(canvas);\r\n  const pointer = canvas.getPointer(event.e);\r\n  lineArray.push(activeLine);\r\n  createNewLine(pointer.x, pointer.y, pointer.x, pointer.y);\r\n  const isNewPoint = true;\r\n  const point = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Circle(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newPoint(tempPointIndex, pointer, isNewPoint));\r\n  canvas.add(point);\r\n  pointsArray.push(point);\r\n  tempPointIndex += 1;\r\n  canvas.bringToFront(initialPoint);\r\n  defaultPointHoverMode = true;\r\n}\r\n\r\nfunction addPointImpl(pointer) {\r\n  lineArray.push(activeLine);\r\n  createNewLine(pointer.x, pointer.y, pointer.x, pointer.y);\r\n  const isNewPoint = true;\r\n  const point = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Circle(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newPoint(tempPointIndex, pointer, isNewPoint));\r\n  canvas.add(point);\r\n  pointsArray.push(point);\r\n  Object(_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_6__[\"preventOutOfBoundsPointsOnMove\"])(point, canvas);\r\n  tempPointIndex += 1;\r\n}\r\n\r\nfunction resetAddPointPropertiesImpl(canvasObj) {\r\n  canvas = canvasObj;\r\n  defaultPointHoverMode = true;\r\n}\r\n\r\nfunction removeEditingPolygonPoints() {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName === 'point') {\r\n      canvas.remove(iteratedObj);\r\n    } else if (iteratedObj.shapeName === 'initialAddPoint') {\r\n      canvas.remove(iteratedObj);\r\n    }\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction resetEditingPolygonPoints() {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName === 'initialAddPoint') {\r\n      iteratedObj.shapeName = 'point';\r\n    }\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction clearTempPoints() {\r\n  canvas.remove(activeLine);\r\n  pointsArray.forEach((point) => {\r\n    canvas.remove(point);\r\n  });\r\n  pointsArray = [];\r\n  tempPointIndex = 0;\r\n}\r\n\r\nfunction clearLines() {\r\n  lineArray.forEach((line) => {\r\n    canvas.remove(line);\r\n  });\r\n  lineArray = [];\r\n  activeLine = null;\r\n}\r\n\r\nfunction clearAllAddPointsDataImpl() {\r\n  if (activeLine) {\r\n    clearTempPoints();\r\n    clearLines();\r\n    removeEditingPolygonPoints();\r\n  }\r\n}\r\n\r\nfunction resetAddPointsImpl() {\r\n  if (activeLine) {\r\n    clearTempPoints();\r\n    clearLines();\r\n    resetEditingPolygonPoints();\r\n  }\r\n}\r\n\r\nfunction calculateTotalLineDistance(pointsArr) {\r\n  let totalDistance = 0;\r\n  for (let i = 0; i < pointsArr.length - 1; i += 1) {\r\n    const distance = Math.hypot(pointsArr[i + 1].x - pointsArr[i].x,\r\n      pointsArr[i + 1].y - pointsArr[i].y);\r\n    totalDistance += distance;\r\n  }\r\n  return totalDistance;\r\n}\r\n\r\nfunction addNewPointsByTheirAddDirection(newPointsArray, firstPointId, lastPointId) {\r\n  if (firstPointId < lastPointId) {\r\n    pointsArray.forEach((point) => {\r\n      newPointsArray.push({ x: point.left, y: point.top });\r\n    });\r\n  } else {\r\n    for (let i = pointsArray.length - 1; i > -1; i -= 1) {\r\n      newPointsArray.push({ x: pointsArray[i].left, y: pointsArray[i].top });\r\n    }\r\n  }\r\n}\r\n\r\nfunction realignLabel(polygon) {\r\n  const labelShape = Object(_label_label__WEBPACK_IMPORTED_MODULE_5__[\"getLabelById\"])(polygon.id);\r\n  labelShape.left = polygon.points[0].x - _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].pointOffsetProperties().left;\r\n  labelShape.top = polygon.points[0].y - _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].pointOffsetProperties().top;\r\n}\r\n\r\nfunction completePolygonImpl(polygon, originalPointsArray, finalPoint) {\r\n  const derefPointsArray = originalPointsArray.slice();\r\n  let newPointsArray = [];\r\n  let startingIdOfNewArray = Math.min(initialPoint.pointId, finalPoint.pointId);\r\n  const endingIdIdOfNewArray = Math.max(initialPoint.pointId, finalPoint.pointId);\r\n\r\n  const innerArray = [];\r\n  for (let i = startingIdOfNewArray; i < endingIdIdOfNewArray + 1; i += 1) {\r\n    innerArray.push(derefPointsArray[i]);\r\n  }\r\n  const innerArrayDistance = calculateTotalLineDistance(innerArray);\r\n\r\n  const outerArray = [];\r\n  for (let i = endingIdIdOfNewArray; i < derefPointsArray.length; i += 1) {\r\n    outerArray.push(derefPointsArray[i]);\r\n  }\r\n  for (let i = 0; i < startingIdOfNewArray + 1; i += 1) {\r\n    outerArray.push(derefPointsArray[i]);\r\n  }\r\n  const outerArrayDistance = calculateTotalLineDistance(outerArray);\r\n\r\n  if (innerArrayDistance < outerArrayDistance) {\r\n    startingIdOfNewArray += 1;\r\n    newPointsArray = derefPointsArray.slice(0, startingIdOfNewArray);\r\n    addNewPointsByTheirAddDirection(newPointsArray, initialPoint.pointId, finalPoint.pointId);\r\n    for (let i = endingIdIdOfNewArray; i < derefPointsArray.length; i += 1) {\r\n      newPointsArray.push(derefPointsArray[i]);\r\n    }\r\n  } else {\r\n    newPointsArray = derefPointsArray.slice(startingIdOfNewArray, endingIdIdOfNewArray + 1);\r\n    addNewPointsByTheirAddDirection(newPointsArray, finalPoint.pointId, initialPoint.pointId);\r\n  }\r\n  polygon.set({ points: newPointsArray });\r\n  Object(_mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(canvas);\r\n  clearAllAddPointsDataImpl();\r\n  realignLabel(polygon);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/addPoint.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js":
/*!********************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js ***!
  \********************************************************************/
/*! exports provided: initializeAddNewPoints, addFirstPoint, addPoint, removePolygonPoints, displayPolygonPointsAfterMove, completePolygon, drawLineOnMouseMove, moveAddablePoint, resetAddPoints, isAddingPointsToPolygon, addPointsMouseOut, changeExistingPolygonPointsToRemovable, clearAllAddPointsData, changePolygonPointsPropertiesToDefault, getPolygonIdIfEditing, removePolygonPoint, getPolygonEditingStatus, getPolygonIfEditing, addPointsMouseOver, resetAddPointProperties, cleanPolygonPointsArray, setEditablePolygon, resetPolygonSelectableArea, getPolygonPointsArray, movePolygonPoint, sendPolygonPointsToFront, highlightSelectedPolygonViaPoint, setEditablePolygonAfterMoving, removePolygon, defaultFillSelectedPolygonViaPoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initializeAddNewPoints\", function() { return initializeAddNewPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFirstPoint\", function() { return addFirstPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPoint\", function() { return addPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removePolygonPoints\", function() { return removePolygonPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayPolygonPointsAfterMove\", function() { return displayPolygonPointsAfterMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"completePolygon\", function() { return completePolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawLineOnMouseMove\", function() { return drawLineOnMouseMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"moveAddablePoint\", function() { return moveAddablePoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetAddPoints\", function() { return resetAddPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAddingPointsToPolygon\", function() { return isAddingPointsToPolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPointsMouseOut\", function() { return addPointsMouseOut; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeExistingPolygonPointsToRemovable\", function() { return changeExistingPolygonPointsToRemovable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearAllAddPointsData\", function() { return clearAllAddPointsData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changePolygonPointsPropertiesToDefault\", function() { return changePolygonPointsPropertiesToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPolygonIdIfEditing\", function() { return getPolygonIdIfEditing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removePolygonPoint\", function() { return removePolygonPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPolygonEditingStatus\", function() { return getPolygonEditingStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPolygonIfEditing\", function() { return getPolygonIfEditing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPointsMouseOver\", function() { return addPointsMouseOver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetAddPointProperties\", function() { return resetAddPointProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cleanPolygonPointsArray\", function() { return cleanPolygonPointsArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEditablePolygon\", function() { return setEditablePolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetPolygonSelectableArea\", function() { return resetPolygonSelectableArea; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPolygonPointsArray\", function() { return getPolygonPointsArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"movePolygonPoint\", function() { return movePolygonPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sendPolygonPointsToFront\", function() { return sendPolygonPointsToFront; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"highlightSelectedPolygonViaPoint\", function() { return highlightSelectedPolygonViaPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEditablePolygonAfterMoving\", function() { return setEditablePolygonAfterMoving; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removePolygon\", function() { return removePolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultFillSelectedPolygonViaPoint\", function() { return defaultFillSelectedPolygonViaPoint; });\n/* harmony import */ var _properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../properties */ \"./src/js/canvas/objects/polygon/properties.js\");\n/* harmony import */ var _stackPoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stackPoints */ \"./src/js/canvas/objects/polygon/alterPolygon/stackPoints.js\");\n/* harmony import */ var _removePoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./removePoints */ \"./src/js/canvas/objects/polygon/alterPolygon/removePoints.js\");\n/* harmony import */ var _removePolygon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./removePolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/removePolygon.js\");\n/* harmony import */ var _addPoint__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./addPoint */ \"./src/js/canvas/objects/polygon/alterPolygon/addPoint.js\");\n/* harmony import */ var _movePoint__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./movePoint */ \"./src/js/canvas/objects/polygon/alterPolygon/movePoint.js\");\n/* harmony import */ var _removePoint__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./removePoint */ \"./src/js/canvas/objects/polygon/alterPolygon/removePoint.js\");\n/* harmony import */ var _changePointsStyle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./changePointsStyle */ \"./src/js/canvas/objects/polygon/alterPolygon/changePointsStyle.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _allShapes_allShapes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// this is the polygonInteractionsManager\r\n\r\nlet canvas = null;\r\nlet polygon = null;\r\nlet polygonPoints = [];\r\nlet editingPolygon = false;\r\nlet preventNewPolygonInitialisation = false;\r\n\r\nfunction getPolygonEditingStatus() {\r\n  return editingPolygon;\r\n}\r\n\r\nfunction setPolygonEditingStatus(status) {\r\n  editingPolygon = status;\r\n}\r\n\r\nfunction getPolygonIdIfEditing() {\r\n  if (editingPolygon) {\r\n    return polygon.id;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction getPolygonIfEditing() {\r\n  if (editingPolygon) {\r\n    return polygon;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction sendPolygonPointsToFront(canvasArg) {\r\n  canvas = canvas || canvasArg;\r\n  Object(_stackPoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(canvas, polygonPoints);\r\n  setPolygonEditingStatus(true);\r\n}\r\n\r\nfunction displayPolygonPoints() {\r\n  if (!preventNewPolygonInitialisation) {\r\n    polygonPoints = Object(_changePointsStyle__WEBPACK_IMPORTED_MODULE_7__[\"displayPolygonPointsWithStyleImpl\"])(\r\n      canvas, polygon, _properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].existingPolygonPoint,\r\n    );\r\n  } else {\r\n    preventNewPolygonInitialisation = false;\r\n    sendPolygonPointsToFront();\r\n  }\r\n}\r\n\r\nfunction displayRemovablePolygonPoints() {\r\n  polygonPoints = Object(_changePointsStyle__WEBPACK_IMPORTED_MODULE_7__[\"displayPolygonPointsWithStyleImpl\"])(\r\n    canvas, polygon, _properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].removablePolygonPoint,\r\n  );\r\n}\r\n\r\nfunction displayStartingAddPolygonPoints() {\r\n  polygonPoints = Object(_changePointsStyle__WEBPACK_IMPORTED_MODULE_7__[\"displayPolygonPointsWithStyleImpl\"])(\r\n    canvas, polygon, _properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].startingAddPolygonPoint,\r\n  );\r\n}\r\n\r\nfunction changeDrawingPolygonPointsToRemovable() {\r\n  polygonPoints = Object(_changePointsStyle__WEBPACK_IMPORTED_MODULE_7__[\"changeDrawingPolygonPointsToRemovableImpl\"])(canvas, polygon);\r\n}\r\n\r\n// change existing objects for removable points\r\nfunction changeExistingPolygonPointsToRemovable(canvasObj) {\r\n  polygonPoints = Object(_changePointsStyle__WEBPACK_IMPORTED_MODULE_7__[\"changeObjectsToPolygonPointsRemovaleImpl\"])(canvasObj);\r\n}\r\n\r\nfunction cleanPolygonPointsArray() {\r\n  polygonPoints = Object(_removePoint__WEBPACK_IMPORTED_MODULE_6__[\"getCleanPolygonPointsArrayImpl\"])(polygon, polygonPoints);\r\n}\r\n\r\nfunction getPolygonPointsArray() {\r\n  return polygonPoints;\r\n}\r\n\r\nfunction removePolygonPoints() {\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"getLastPolygonActionWasMoveState\"])()) {\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"getEditingLabelId\"])() === null || Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"getNewShapeSelectedViaLabelListState\"])()) {\r\n      polygonPoints = Object(_removePoints__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas, polygonPoints);\r\n    } else {\r\n      preventNewPolygonInitialisation = true;\r\n    }\r\n  } else {\r\n    polygonPoints = Object(_removePoints__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas, polygonPoints);\r\n  }\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setNewShapeSelectedViaLabelListState\"])(false);\r\n  setPolygonEditingStatus(false);\r\n}\r\n\r\nfunction changePolygonPointsPropertiesToDefault(canvasObj) {\r\n  // naming convention?\r\n  canvas = !canvasObj ? canvas : canvasObj;\r\n  Object(_changePointsStyle__WEBPACK_IMPORTED_MODULE_7__[\"changeObjectsToPolygonPointsToDefaultImpl\"])(canvas);\r\n}\r\n\r\nfunction displayPolygonPointsAfterMove() {\r\n  polygon = Object(_movePoint__WEBPACK_IMPORTED_MODULE_5__[\"displayPolygonPointsAfterMoveImpl\"])(canvas, polygon, polygonPoints);\r\n  setPolygonEditingStatus(true);\r\n}\r\n\r\nfunction setSelectedObjects(activeCanvasObj, activePolygonObject) {\r\n  canvas = activeCanvasObj;\r\n  polygon = activePolygonObject;\r\n}\r\n\r\nfunction setEditablePolygonAfterMoving(canvasObj, polygonObj) {\r\n  setSelectedObjects(canvasObj, polygonObj);\r\n  canvasObj.discardActiveObject();\r\n  displayPolygonPointsAfterMove();\r\n}\r\n\r\nfunction resetPolygonSelectableArea() {\r\n  Object(_movePoint__WEBPACK_IMPORTED_MODULE_5__[\"resetPolygonSelectableAreaImpl\"])(canvas, polygon);\r\n}\r\n\r\nfunction movePolygonPoint(event, labelObject) {\r\n  Object(_movePoint__WEBPACK_IMPORTED_MODULE_5__[\"movePolygonPointImpl\"])(event, polygon, labelObject);\r\n}\r\n\r\nfunction removePolygon(lableObjectFromLabelList) {\r\n  if (editingPolygon) {\r\n    Object(_removePolygon__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(canvas, polygon);\r\n    return polygon.id;\r\n  }\r\n  if (lableObjectFromLabelList && lableObjectFromLabelList.shapeName === 'polygon') {\r\n    Object(_removePolygon__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(canvas, lableObjectFromLabelList);\r\n    return lableObjectFromLabelList.id;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction removePolygonPoint(pointId, existingPolygon) {\r\n  Object(_removePoint__WEBPACK_IMPORTED_MODULE_6__[\"removePolygonPointImpl\"])(canvas, polygon, polygonPoints, pointId, existingPolygon);\r\n}\r\n\r\nfunction initializeAddNewPoints(shape, pointer) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"initializeAddNewPointsImpl\"])(shape, pointer, canvas);\r\n}\r\n\r\nfunction addFirstPoint(event) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"addFirstPointImpl\"])(event);\r\n}\r\n\r\nfunction addPoint(pointer) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"addPointImpl\"])(pointer);\r\n}\r\n\r\nfunction drawLineOnMouseMove(pointer) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"drawLineImpl\"])(pointer);\r\n}\r\n\r\nfunction moveAddablePoint(event) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"moveAddablePointImpl\"])(event);\r\n}\r\n\r\nfunction addPointsMouseOver(event) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"addPointsMouseOverImpl\"])(event);\r\n}\r\n\r\nfunction resetAddPointProperties(canvasObj) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"resetAddPointPropertiesImpl\"])(canvasObj);\r\n}\r\n\r\nfunction clearAllAddPointsData() {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"clearAllAddPointsDataImpl\"])();\r\n}\r\n\r\nfunction resetAddPoints() {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"resetAddPointsImpl\"])();\r\n}\r\n\r\nfunction addPointsMouseOut(event) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"addPointsMouseOutImpl\"])(event);\r\n}\r\n\r\nfunction isAddingPointsToPolygon() {\r\n  return Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"isAddingPointsToPolygonImpl\"])();\r\n}\r\n\r\nfunction completePolygon(finalPoint) {\r\n  Object(_addPoint__WEBPACK_IMPORTED_MODULE_4__[\"completePolygonImpl\"])(polygon, polygon.points, finalPoint);\r\n  polygonPoints = [];\r\n  resetPolygonSelectableArea();\r\n  setPolygonEditingStatus(false);\r\n}\r\n\r\nfunction highlightSelectedPolygonViaPoint() {\r\n  Object(_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_9__[\"highlightShapeFill\"])(polygon.id);\r\n}\r\n\r\nfunction defaultFillSelectedPolygonViaPoint() {\r\n  Object(_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_9__[\"defaultShapeFill\"])(polygon.id);\r\n}\r\n\r\nfunction setEditablePolygon(canvasObj, polygonObj, removablePoints, creatingPolygon, addingPoints) {\r\n  setSelectedObjects(canvasObj, polygonObj);\r\n  canvasObj.discardActiveObject();\r\n  polygon.bringToFront();\r\n  // edit this\r\n  if (addingPoints) {\r\n    displayStartingAddPolygonPoints();\r\n  } else if (!removablePoints) {\r\n    displayPolygonPoints();\r\n  } else if (!creatingPolygon) {\r\n    displayRemovablePolygonPoints();\r\n  } else {\r\n    changeDrawingPolygonPointsToRemovable();\r\n  }\r\n  setPolygonEditingStatus(true);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/changePointsStyle.js":
/*!*************************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/changePointsStyle.js ***!
  \*************************************************************************/
/*! exports provided: displayPolygonPointsWithStyleImpl, changePolygonPointsToWaitForAddingFirstPointImpl, changeDrawingPolygonPointsToRemovableImpl, changeObjectsToPolygonPointsToDefaultImpl, changeObjectsToPolygonPointsRemovaleImpl, changePolygonPointsToAddImpl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayPolygonPointsWithStyleImpl\", function() { return displayPolygonPointsWithStyleImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changePolygonPointsToWaitForAddingFirstPointImpl\", function() { return changePolygonPointsToWaitForAddingFirstPointImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeDrawingPolygonPointsToRemovableImpl\", function() { return changeDrawingPolygonPointsToRemovableImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeObjectsToPolygonPointsToDefaultImpl\", function() { return changeObjectsToPolygonPointsToDefaultImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeObjectsToPolygonPointsRemovaleImpl\", function() { return changeObjectsToPolygonPointsRemovaleImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changePolygonPointsToAddImpl\", function() { return changePolygonPointsToAddImpl; });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../properties */ \"./src/js/canvas/objects/polygon/properties.js\");\n/* harmony import */ var _objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objectsProperties/changeProperties */ \"./src/js/canvas/objects/objectsProperties/changeProperties.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\nfunction displayPolygonPointsWithStyleImpl(canvas, polygon, polygonPointsProps) {\r\n  let pointId = 0;\r\n  const polygonPoints = [];\r\n  const totalPointNumber = polygon.points.length;\r\n  polygon.get('points').forEach((point) => {\r\n    const pointObj = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Circle(polygonPointsProps(pointId, point, totalPointNumber));\r\n    if (polygon.polygonMoved) {\r\n      pointObj.left += 1;\r\n      pointObj.top += 1;\r\n    }\r\n    canvas.add(pointObj);\r\n    polygonPoints.push(pointObj);\r\n    pointId += 1;\r\n  });\r\n  return polygonPoints;\r\n}\r\n\r\nfunction changePolygonPointsToWaitForAddingFirstPointImpl(canvas, startingPoint) {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName === 'point') {\r\n      iteratedObj.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].disabledAddPoint());\r\n    } else if (iteratedObj.shapeName === 'polygon' || iteratedObj.shapeName === 'bndBox') {\r\n      iteratedObj.hoverCursor = 'crosshair';\r\n    }\r\n    iteratedObj.selectable = false;\r\n  });\r\n  startingPoint.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].selectedStartingAddPoint());\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction changeDrawingPolygonPointsToRemovableImpl(canvas, polygon) {\r\n  let pointId = 0;\r\n  const polygonPoints = [];\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName === 'tempPoint' || iteratedObj.shapeName === 'firstPoint') {\r\n      iteratedObj.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removablePolygonPoint(pointId));\r\n      polygonPoints.push(iteratedObj);\r\n      pointId += 1;\r\n    }\r\n  });\r\n  if (polygonPoints.length < 4) {\r\n    polygonPoints.forEach((point) => {\r\n      point.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].disabledRemovePoint());\r\n    });\r\n  }\r\n  polygon.sendBackwards();\r\n  return polygonPoints;\r\n}\r\n\r\nfunction changePolygonPointsToAddImpl(canvas) {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName === 'point') {\r\n      iteratedObj.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].additionalPoint());\r\n    }\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction changeObjectsToPolygonPointsToDefaultImpl(canvas) {\r\n  if (canvas) {\r\n    canvas.forEachObject((iteratedObj) => {\r\n      Object(_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_2__[\"setObjectPropertiesToDefault\"])(iteratedObj);\r\n      if (iteratedObj.shapeName === 'point') {\r\n        iteratedObj.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].defaultPoint());\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction changeObjectsToPolygonPointsRemovaleImpl(canvas) {\r\n  const isDrawing = !(Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getDefaultState\"])() || Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])());\r\n  const polygonPoints = [];\r\n  if (canvas) {\r\n    canvas.forEachObject((iteratedObj) => {\r\n      Object(_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_2__[\"prepareObjectsForEditablePolygonPoints\"])(iteratedObj, isDrawing);\r\n      if (iteratedObj.shapeName === 'point') {\r\n        iteratedObj.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removablePoint());\r\n        polygonPoints[iteratedObj.pointId] = iteratedObj;\r\n      }\r\n    });\r\n  }\r\n  if (polygonPoints.length < 4) {\r\n    polygonPoints.forEach((point) => {\r\n      point.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].disabledRemovePoint());\r\n    });\r\n  }\r\n  canvas.renderAll();\r\n  return polygonPoints;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/changePointsStyle.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/movePoint.js":
/*!*****************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/movePoint.js ***!
  \*****************************************************************/
/*! exports provided: resetPolygonSelectableAreaImpl, movePolygonPointImpl, displayPolygonPointsAfterMoveImpl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetPolygonSelectableAreaImpl\", function() { return resetPolygonSelectableAreaImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"movePolygonPointImpl\", function() { return movePolygonPointImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayPolygonPointsAfterMoveImpl\", function() { return displayPolygonPointsAfterMoveImpl; });\n/* harmony import */ var _properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../properties */ \"./src/js/canvas/objects/polygon/properties.js\");\n/* harmony import */ var _label_label__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _resetCoordinatesAfterMove__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resetCoordinatesAfterMove */ \"./src/js/canvas/objects/polygon/alterPolygon/resetCoordinatesAfterMove.js\");\n/* harmony import */ var _label_properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n\r\n\r\n\r\n\r\n\r\nfunction displayPolygonPointsAfterMoveImpl(canvasObj, polygonObj, polygonPoints) {\r\n  return Object(_resetCoordinatesAfterMove__WEBPACK_IMPORTED_MODULE_2__[\"generatePolygonAfterMove\"])(polygonObj, polygonPoints, canvasObj, _properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\r\n}\r\n\r\nfunction resetPolygonSelectableAreaImpl(canvas, polygon) {\r\n  const newPosition = polygon._calcDimensions();\r\n  const newPolygonProperties = {\r\n    height: newPosition.height,\r\n    width: newPosition.width,\r\n    pathOffset: {\r\n      x: newPosition.left + newPosition.width / 2,\r\n      y: newPosition.top + newPosition.height / 2,\r\n    },\r\n  };\r\n  if (polygon.polygonMoved) {\r\n    const polygonPadding = _properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPolygonAlignmentAfterPointMove();\r\n    newPolygonProperties.left = newPosition.left + polygonPadding;\r\n    newPolygonProperties.top = newPosition.top + polygonPadding;\r\n  } else {\r\n    newPolygonProperties.left = newPosition.left;\r\n    newPolygonProperties.top = newPosition.top;\r\n  }\r\n  polygon.set(\r\n    newPolygonProperties,\r\n  );\r\n  polygon.setCoords();\r\n  Object(_label_label__WEBPACK_IMPORTED_MODULE_1__[\"setPolygonLabelOffsetProps\"])(polygon, polygon.points[0]);\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction movePolygonPointImpl(event, polygon, labelObject) {\r\n  const { left } = event.target;\r\n  const { top } = event.target;\r\n  const polygonPoint = event.target;\r\n  if (polygon.polygonMoved) {\r\n    const polygonPadding = _properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPolygonAlignmentAfterPointMove();\r\n    polygon.points[polygonPoint.pointId] = {\r\n      x: left - polygonPadding, y: top - polygonPadding,\r\n    };\r\n  } else {\r\n    polygon.points[polygonPoint.pointId] = {\r\n      x: left, y: top,\r\n    };\r\n  }\r\n  if (labelObject) {\r\n    labelObject.left = left - _label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].pointOffsetProperties().left;\r\n    labelObject.top = top - _label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].pointOffsetProperties().top;\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/movePoint.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/removePoint.js":
/*!*******************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/removePoint.js ***!
  \*******************************************************************/
/*! exports provided: removePolygonPointImpl, getCleanPolygonPointsArrayImpl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removePolygonPointImpl\", function() { return removePolygonPointImpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCleanPolygonPointsArrayImpl\", function() { return getCleanPolygonPointsArrayImpl; });\n/* harmony import */ var _label_label__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../properties */ \"./src/js/canvas/objects/polygon/properties.js\");\n/* harmony import */ var _label_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n\r\n\r\n\r\n\r\nfunction realignLabelToLowestPointLocation(polygon) {\r\n  let lowestPointIndex = 0;\r\n  while (Object.keys(polygon.points[lowestPointIndex]).length === 0) {\r\n    lowestPointIndex += 1;\r\n  }\r\n  const labelObject = Object(_label_label__WEBPACK_IMPORTED_MODULE_0__[\"getLabelById\"])(polygon.id);\r\n  labelObject.left = polygon.points[lowestPointIndex].x\r\n    - _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].pointOffsetProperties().left;\r\n  labelObject.top = polygon.points[lowestPointIndex].y\r\n    - _label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].pointOffsetProperties().top;\r\n  Object(_label_label__WEBPACK_IMPORTED_MODULE_0__[\"setPolygonLabelOffsetProps\"])(polygon, polygon.points[lowestPointIndex]);\r\n}\r\n\r\nfunction checkIfLowestPoint(polygon, pointId) {\r\n  for (let i = 0; i < pointId; i += 1) {\r\n    if (Object.keys(polygon.points[i]).length !== 0) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction ifExistingPolygonIsLowestPoint(existingPolygon, polygon, pointId) {\r\n  if (existingPolygon) {\r\n    return checkIfLowestPoint(polygon, pointId);\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction removePolygonPointImpl(canvas, polygon, polygonPoints, pointId, existingPolygon) {\r\n  const realignLabel = ifExistingPolygonIsLowestPoint(existingPolygon, polygon, pointId);\r\n  if (polygon.points.length - polygon.numberOfNullPolygonPoints > 3) {\r\n    if (Object.keys(polygon.points[pointId]).length === 0) {\r\n      /* when the last polygons are removed, the ones before it are moved\r\n      // to the last position - thus causing the possibility of getting nulls\r\n       TIP - when point is null - it was already moved to the last element */\r\n      for (let i = pointId - 1; i > -1; i -= 1) {\r\n        if (Object.keys(polygon.points[i]).length !== 0) {\r\n          polygon.points[polygon.points.length - 1] = polygon.points[i];\r\n          polygon.points[i] = {};\r\n          break;\r\n        }\r\n      }\r\n    } else if ((polygon.points.length - 1) === pointId) {\r\n      /* when last element - remove and find the next not null below it to\r\n      to be the last element in order to enable the polygon to stay */\r\n      for (let i = pointId - 1; i > -1; i -= 1) {\r\n        if (Object.keys(polygon.points[i]).length !== 0) {\r\n          polygon.points[pointId] = polygon.points[i];\r\n          polygon.points[i] = {};\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      polygon.points[pointId] = {};\r\n    }\r\n    canvas.remove(polygonPoints[pointId]);\r\n    polygonPoints[pointId] = null;\r\n\r\n    polygon.numberOfNullPolygonPoints += 1;\r\n    if (polygon.points.length - polygon.numberOfNullPolygonPoints === 3) {\r\n      polygonPoints.forEach((point) => {\r\n        if (point) point.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].disabledRemovePoint());\r\n      });\r\n    }\r\n    if (realignLabel) {\r\n      realignLabelToLowestPointLocation(polygon);\r\n    }\r\n    canvas.renderAll();\r\n  }\r\n}\r\n\r\nfunction refreshPolygonPointIds(noNullPointsRef) {\r\n  let pointId = 0;\r\n  noNullPointsRef.forEach((point) => {\r\n    point.pointId = pointId;\r\n    pointId += 1;\r\n  });\r\n  return noNullPointsRef;\r\n}\r\n\r\nfunction getCleanPolygonPointsArrayImpl(polygon, pointsObjects) {\r\n  const noNullPointsRef = [];\r\n  pointsObjects.forEach((point) => {\r\n    if (point) noNullPointsRef.push(point);\r\n  });\r\n  if (!polygon) return [];\r\n  const polygonPoints = polygon.points;\r\n  const noNullPolygonPoints = [];\r\n  for (let i = 0; i < polygonPoints.length; i += 1) {\r\n    if (Object.keys(polygonPoints[i]).length !== 0) {\r\n      noNullPolygonPoints.push(polygonPoints[i]);\r\n    }\r\n  }\r\n  polygon.set('points', noNullPolygonPoints);\r\n  polygon.numberOfNullPolygonPoints = 0;\r\n  refreshPolygonPointIds(noNullPointsRef);\r\n  return noNullPointsRef;\r\n}\r\n\r\n/* function getCleanPolygonPointsArrayImpl(polygon, pointObjects) {\r\n  const noNullPointObjects = [];\r\n  pointObjects.forEach((point) => {\r\n    if (point) noNullPointObjects.push(point);\r\n  });\r\n  pointObjects = [];\r\n  if (!polygon) return [];\r\n  const polygonPoints = polygon.points;\r\n  const noNullPolygonPoints = [];\r\n  for (let i = 0; i < polygonPoints.length; i += 1) {\r\n    if (Object.keys(polygonPoints[i]).length !== 0) {\r\n      noNullPolygonPoints.push(polygonPoints[i]);\r\n    }\r\n  }\r\n  polygon.set('points', noNullPolygonPoints);\r\n  polygon.numberOfNullPolygonPoints = 0;\r\n  for (let i = 0; i < noNullPointObjects.length; i += 1) {\r\n    noNullPointObjects[i].pointId = noNullPointObjects[i].pointId;\r\n  }\r\n  return noNullPointObjects;\r\n}\r\n*/\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/removePoint.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/removePoints.js":
/*!********************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/removePoints.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return removePolygonPointsImpl; });\nfunction removePolygonPointsImpl(canvas, polygonPoints) {\r\n  if (polygonPoints.length !== 0) {\r\n    polygonPoints.forEach((point) => {\r\n      canvas.remove(point);\r\n    });\r\n    canvas.renderAll();\r\n    return [];\r\n  }\r\n  return polygonPoints;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/removePoints.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/removePolygon.js":
/*!*********************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/removePolygon.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return removePolygonImpl; });\n/* harmony import */ var _label_label__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n\r\n\r\n\r\nfunction removePolygonImpl(canvas, polygon) {\r\n  const polygonId = polygon.id;\r\n  Object(_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"removeShape\"])(polygonId);\r\n  Object(_label_label__WEBPACK_IMPORTED_MODULE_0__[\"removeLabel\"])(polygonId, canvas);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/removePolygon.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/resetCoordinatesAfterMove.js":
/*!*********************************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/resetCoordinatesAfterMove.js ***!
  \*********************************************************************************/
/*! exports provided: generatePolygonAfterMove, changeMovePolygonPathOffset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generatePolygonAfterMove\", function() { return generatePolygonAfterMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeMovePolygonPathOffset\", function() { return changeMovePolygonPathOffset; });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _label_label__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n\r\n\r\n\r\n\r\nlet currentPolygon = null;\r\nlet polygonPoints = [];\r\nlet canvas = null;\r\nlet polygonProperties = null;\r\nlet movePolygonPointOffsetReduction = 0;\r\n\r\nfunction setObjets(polygonObj, polygonPointsArray, canvasObj, polygonPropertiesObj) {\r\n  currentPolygon = polygonObj;\r\n  polygonPoints = polygonPointsArray;\r\n  canvas = canvasObj;\r\n  polygonProperties = polygonPropertiesObj;\r\n}\r\n\r\nfunction generateNewPolygon() {\r\n  const newPolygon = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Polygon([], polygonProperties.newPolygon());\r\n  newPolygon.set({\r\n    id: currentPolygon.id,\r\n    selectable: true,\r\n    hoverCursor: 'move',\r\n    shapeLabelText: currentPolygon.shapeLabelText,\r\n  });\r\n  return newPolygon;\r\n}\r\n\r\nfunction calculateMovedPointsCoordinates() {\r\n  const matrix = currentPolygon.calcTransformMatrix();\r\n  const movedPoints = currentPolygon.get('points')\r\n    .map(p => new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Point(\r\n      p.x - currentPolygon.pathOffset.x,\r\n      p.y - currentPolygon.pathOffset.y,\r\n    ))\r\n    .map(p => fabric__WEBPACK_IMPORTED_MODULE_0___default.a.util.transformPoint(p, matrix));\r\n  return movedPoints;\r\n}\r\n\r\nfunction generateNewPoints(movedPoints) {\r\n  let pointId = 0;\r\n  const movedPointsCoordinates = [];\r\n  movedPoints.forEach((p) => {\r\n    const point = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Circle(polygonProperties.existingPolygonPoint(pointId, p, true));\r\n    point.set('polygonMoved', true);\r\n    canvas.add(point);\r\n    polygonPoints.push(point);\r\n    movedPointsCoordinates.push({ x: point.left - 1, y: point.top - 1 });\r\n    pointId += 1;\r\n  });\r\n  return movedPointsCoordinates;\r\n}\r\n\r\nfunction movePolygonToNewPosition() {\r\n  const newPosition = currentPolygon._calcDimensions();\r\n  currentPolygon.set({\r\n    left: newPosition.left,\r\n    top: newPosition.top,\r\n    height: newPosition.height,\r\n    width: newPosition.width,\r\n    pathOffset: {\r\n      x: newPosition.left + newPosition.width / 2 - movePolygonPointOffsetReduction,\r\n      y: newPosition.top + newPosition.height / 2 - movePolygonPointOffsetReduction,\r\n    },\r\n  });\r\n  currentPolygon.setCoords();\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction generatePolygonAfterMove(polygonObj, polygonPointsArray, canvasObj, polygonPropertiesObj) {\r\n  setObjets(polygonObj, polygonPointsArray, canvasObj, polygonPropertiesObj);\r\n  const newPolygon = generateNewPolygon();\r\n  canvas.add(newPolygon);\r\n  const movedPoints = calculateMovedPointsCoordinates();\r\n  const polygonPointsCoordinates = generateNewPoints(movedPoints);\r\n  const currentPolygonColor = Object(_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__[\"getShapeColorById\"])(currentPolygon.id);\r\n  Object(_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__[\"removeShape\"])(currentPolygon.id);\r\n  Object(_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__[\"addShape\"])(newPolygon, currentPolygonColor, newPolygon.id);\r\n  currentPolygon = newPolygon;\r\n  currentPolygon.set('polygonMoved', true);\r\n  currentPolygon.set('points', polygonPointsCoordinates);\r\n  movePolygonToNewPosition(currentPolygon, canvas);\r\n  Object(_label_label__WEBPACK_IMPORTED_MODULE_1__[\"setPolygonLabelOffsetProps\"])(currentPolygon, currentPolygon.points[0]);\r\n  return currentPolygon;\r\n}\r\n\r\nfunction changeMovePolygonPathOffset(newOffsetReduction) {\r\n  movePolygonPointOffsetReduction = newOffsetReduction;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/resetCoordinatesAfterMove.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/alterPolygon/stackPoints.js":
/*!*******************************************************************!*\
  !*** ./src/js/canvas/objects/polygon/alterPolygon/stackPoints.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return sendPolygonPointsToFrontImpl; });\nfunction sendPolygonPointsToFrontImpl(canvas, polygonPoints) {\r\n  canvas.discardActiveObject();\r\n  polygonPoints.forEach((point) => {\r\n    if (point) {\r\n      canvas.bringToFront(point);\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/alterPolygon/stackPoints.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/polygon.js":
/*!**************************************************!*\
  !*** ./src/js/canvas/objects/polygon/polygon.js ***!
  \**************************************************/
/*! exports provided: movePoints, drawPolygon, getTempPolygon, moveDrawCrosshair, shapeScrollEvents, instantiatePolygon, addPointViaKeyboard, resetNewPolygonData, removeInvisiblePoint, resetDrawPolygonMode, polygonMouseOutEvents, polygonMouseOverEvents, changeInitialPointColour, isPolygonDrawingFinished, prepareCanvasForNewPolygon, generatePolygonViaKeyboard, getCurrentlyHoveredDrawPoint, resumeDrawingAfterRemovePoints, placeholderToAddMouseDownEvents, createNewPolygonFromCoordinates, prepareCanvasForNewPolygonsFromExternalSources */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"movePoints\", function() { return movePoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawPolygon\", function() { return drawPolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTempPolygon\", function() { return getTempPolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"moveDrawCrosshair\", function() { return moveDrawCrosshair; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shapeScrollEvents\", function() { return shapeScrollEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"instantiatePolygon\", function() { return instantiatePolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPointViaKeyboard\", function() { return addPointViaKeyboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetNewPolygonData\", function() { return resetNewPolygonData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeInvisiblePoint\", function() { return removeInvisiblePoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetDrawPolygonMode\", function() { return resetDrawPolygonMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polygonMouseOutEvents\", function() { return polygonMouseOutEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polygonMouseOverEvents\", function() { return polygonMouseOverEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeInitialPointColour\", function() { return changeInitialPointColour; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isPolygonDrawingFinished\", function() { return isPolygonDrawingFinished; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareCanvasForNewPolygon\", function() { return prepareCanvasForNewPolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generatePolygonViaKeyboard\", function() { return generatePolygonViaKeyboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentlyHoveredDrawPoint\", function() { return getCurrentlyHoveredDrawPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resumeDrawingAfterRemovePoints\", function() { return resumeDrawingAfterRemovePoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"placeholderToAddMouseDownEvents\", function() { return placeholderToAddMouseDownEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNewPolygonFromCoordinates\", function() { return createNewPolygonFromCoordinates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareCanvasForNewPolygonsFromExternalSources\", function() { return prepareCanvasForNewPolygonsFromExternalSources; });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./properties */ \"./src/js/canvas/objects/polygon/properties.js\");\n/* harmony import */ var _mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../mouseInteractions/cursorModes/drawMode */ \"./src/js/canvas/mouseInteractions/cursorModes/drawMode.js\");\n/* harmony import */ var _tools_labellerModal_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../tools/labellerModal/style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _tools_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../tools/labellerModal/labellingProcess */ \"./src/js/tools/labellerModal/labellingProcess.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../sharedUtils/moveBlockers */ \"./src/js/canvas/objects/sharedUtils/moveBlockers.js\");\n/* harmony import */ var _sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../sharedUtils/newObjectBlockers */ \"./src/js/canvas/objects/sharedUtils/newObjectBlockers.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../keyEvents/mouse/mouseMove */ \"./src/js/keyEvents/mouse/mouseMove.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\nlet pointArray = [];\r\nlet polygonMode = true;\r\nlet activeShape = null;\r\nlet pointId = 0;\r\nlet mouseUpClick = null;\r\nlet lastMouseEvent = null;\r\nlet lastHoveredPoint = null;\r\nlet mouseMoved = false;\r\nlet invisiblePoint = null;\r\nlet drawingFinished = false;\r\nlet currentlyHoveredPoint = null;\r\nlet ignoredFirstMouseMovement = false;\r\nlet lastNewPointPosition = { x: -1, y: -1 };\r\nlet movedOverflowScroll = false;\r\nlet createdInvisiblePoint = false;\r\nlet mouseIsDownOnTempPoint = false;\r\n\r\nfunction isRightMouseButtonClicked(pointer) {\r\n  if (activeShape && (canvas.getPointer(lastMouseEvent.e).x !== pointer.x)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction movePoints(event) {\r\n  if (activeShape) {\r\n    Object(_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_6__[\"preventOutOfBoundsPointsOnMove\"])(event.target, canvas);\r\n    const xCenterPoint = event.target.getCenterPoint().x;\r\n    const yCenterPoint = event.target.getCenterPoint().y;\r\n    activeShape.points[event.target.pointId] = {\r\n      x: xCenterPoint, y: yCenterPoint,\r\n    };\r\n  }\r\n}\r\n\r\nfunction removeActiveShape() {\r\n  canvas.remove(activeShape);\r\n  activeShape = null;\r\n}\r\n\r\nfunction repositionCrosshair(pointer) {\r\n  const points = activeShape.get('points');\r\n  points[pointArray.length] = {\r\n    x: pointer.x,\r\n    y: pointer.y,\r\n  };\r\n  activeShape.set({\r\n    points,\r\n  });\r\n  const polygon = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Polygon(activeShape.get('points'), _properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newTempPolygon());\r\n  removeActiveShape();\r\n  activeShape = polygon;\r\n  canvas.add(polygon);\r\n  polygon.sendToBack();\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setPolygonDrawingInProgressState\"])(true);\r\n}\r\n\r\nfunction drawTemporaryShape(pointer) {\r\n  if (activeShape) {\r\n    if (!movedOverflowScroll) {\r\n      const points = activeShape.get('points');\r\n      points[pointArray.length] = {\r\n        x: pointer.x,\r\n        y: pointer.y,\r\n      };\r\n      activeShape.set({\r\n        points,\r\n      });\r\n      canvas.renderAll();\r\n    } else {\r\n      repositionCrosshair(pointer);\r\n      movedOverflowScroll = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawPolygon(event) {\r\n  if (ignoredFirstMouseMovement) {\r\n    mouseMoved = true;\r\n  } else {\r\n    ignoredFirstMouseMovement = true;\r\n  }\r\n  lastMouseEvent = event;\r\n  const pointer = canvas.getPointer(event.e);\r\n  drawTemporaryShape(pointer);\r\n}\r\n\r\nfunction lockMovementIfAssertedByState(polygon) {\r\n  if (!Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getMovableObjectsState\"])()) {\r\n    const immovableObjectProps = {\r\n      lockMovementX: true,\r\n      lockMovementY: true,\r\n      hoverCursor: 'default',\r\n    };\r\n    polygon.set(immovableObjectProps);\r\n  }\r\n}\r\n\r\nfunction generatePolygon() {\r\n  const points = [];\r\n  pointArray.forEach((point) => {\r\n    points.push({\r\n      x: point.left,\r\n      y: point.top,\r\n    });\r\n    canvas.remove(point);\r\n  });\r\n  canvas.remove(invisiblePoint);\r\n  invisiblePoint = null;\r\n\r\n  removeActiveShape();\r\n  const polygon = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Polygon(points, _properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newPolygon());\r\n  // find out why on add new polygon points, the cursor changes immediately after adding them\r\n\r\n  lockMovementIfAssertedByState(polygon);\r\n  canvas.add(polygon);\r\n\r\n  activeShape = null;\r\n  polygonMode = false;\r\n  drawingFinished = true;\r\n  Object(_tools_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_4__[\"prepareLabelShape\"])(polygon, canvas);\r\n  Object(_tools_labellerModal_style__WEBPACK_IMPORTED_MODULE_3__[\"showLabellerModal\"])();\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setPolygonDrawingInProgressState\"])(false);\r\n}\r\n\r\n/* initial point should begin with one color and switch when there are 3\r\n points to indicate that a new polygon can be created\r\nlet points = [pointer.x, pointer.y, pointer.x, pointer.y];\r\nif (pointArray.length === 0) {\r\n  const polygon = new fabric.Polygon(points, polygonProperties.newTempPolygon);\r\n  canvas.add(polygon);\r\n}\r\nif (pointArray.length === 2) {\r\n  pointArray[0].set(polygonProperties.firstPoint);\r\n}\r\n*/\r\n\r\nfunction addPoint(pointer) {\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setPolygonDrawingInProgressState\"])(true);\r\n  const isNewPoint = true;\r\n  const point = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Circle(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newPoint(pointId, pointer, isNewPoint));\r\n  pointId += 1;\r\n  let points = [pointer.x, pointer.y, pointer.x, pointer.y];\r\n  if (activeShape) {\r\n    points = activeShape.get('points');\r\n    points.push({\r\n      x: pointer.x,\r\n      y: pointer.y,\r\n    });\r\n    const polygon = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Polygon(points, _properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newTempPolygon());\r\n    canvas.remove(activeShape);\r\n    canvas.add(polygon);\r\n    activeShape = polygon;\r\n    currentlyHoveredPoint = point;\r\n    canvas.renderAll();\r\n  } else {\r\n    const polyPoint = [{\r\n      x: pointer.x,\r\n      y: pointer.y,\r\n    }];\r\n    const polygon = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Polygon(polyPoint, _properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newTempPolygon());\r\n    activeShape = polygon;\r\n    canvas.add(polygon);\r\n  }\r\n  canvas.add(point);\r\n  if (pointArray.length === 0) {\r\n    invisiblePoint = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Circle(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].invisiblePoint(pointer));\r\n    canvas.add(invisiblePoint);\r\n    point.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].firstPoint());\r\n    Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setAddPointsButtonToDefault\"])();\r\n    Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setRemovePointsButtonToDefault\"])();\r\n    Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setRemoveShapeButtonToDefault\"])();\r\n  }\r\n  Object(_sharedUtils_moveBlockers__WEBPACK_IMPORTED_MODULE_6__[\"preventOutOfBoundsPointsOnMove\"])(point, canvas);\r\n  pointArray.push(point);\r\n  drawTemporaryShape(pointer);\r\n  activeShape.sendToBack();\r\n  canvas.selection = false;\r\n  const { x, y } = pointer;\r\n  lastNewPointPosition = { x, y };\r\n}\r\n\r\nfunction getTempPolygon() {\r\n  if (activeShape) {\r\n    const points = activeShape.get('points');\r\n    points.length -= 1;\r\n    return activeShape;\r\n  }\r\n  return null;\r\n}\r\n\r\n\r\nfunction getCurrentlyHoveredDrawPoint() {\r\n  return currentlyHoveredPoint;\r\n}\r\n\r\nfunction isPolygonDrawingFinished() {\r\n  return drawingFinished;\r\n}\r\n\r\nfunction clearPolygonData() {\r\n  if (pointArray[0]) {\r\n    pointArray.forEach((point) => {\r\n      canvas.remove(point);\r\n    });\r\n    canvas.remove(invisiblePoint);\r\n    invisiblePoint = null;\r\n    removeActiveShape();\r\n    pointArray = [];\r\n    activeShape = null;\r\n    pointId = 0;\r\n    mouseMoved = false;\r\n    drawingFinished = false;\r\n    ignoredFirstMouseMovement = false;\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setPolygonDrawingInProgressState\"])(false);\r\n    lastMouseEvent = null;\r\n    createdInvisiblePoint = false;\r\n    lastNewPointPosition = { x: -1, y: -1 };\r\n  }\r\n}\r\n\r\nfunction resetNewPolygonData() {\r\n  if (canvas) Object(_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_2__[\"resetObjectCursors\"])(canvas);\r\n  clearPolygonData();\r\n}\r\n\r\nfunction changeInitialPointColour(colour) {\r\n  if (pointArray.length > 2) {\r\n    pointArray[0].stroke = colour;\r\n  }\r\n}\r\n\r\nfunction polygonMouseOverEvents(event) {\r\n  if (event.target && event.target.selectable && event.target.shapeName === 'invisiblePoint') {\r\n    changeInitialPointColour('red');\r\n  }\r\n}\r\n\r\nfunction polygonMouseOutEvents(event) {\r\n  if (event.target) {\r\n    const { target } = event;\r\n    if (target.shapeName === 'invisiblePoint') {\r\n      changeInitialPointColour('#333333');\r\n    } else if (target.shapeName === 'tempPoint' && target.hoverCursor === 'default') {\r\n      target.hoverCursor = 'move';\r\n    }\r\n    if (!mouseMoved) {\r\n      lastHoveredPoint = event.target;\r\n    }\r\n    currentlyHoveredPoint = null;\r\n  }\r\n}\r\n\r\nfunction generatePolygonViaKeyboard() {\r\n  if (pointArray.length > 2) {\r\n    generatePolygon();\r\n  }\r\n}\r\n\r\nfunction addPointViaKeyboard() {\r\n  if (!mouseMoved) {\r\n    if (lastHoveredPoint && lastHoveredPoint.shapeName === 'tempPoint') {\r\n      return;\r\n    }\r\n    mouseMoved = true;\r\n  }\r\n  if (lastMouseEvent) {\r\n    let pointer = canvas.getPointer(lastMouseEvent.e || lastMouseEvent);\r\n    if (lastMouseEvent.target && lastMouseEvent.target.shapeName === 'invisiblePoint') {\r\n      if (pointArray.length > 2) {\r\n        generatePolygon();\r\n      }\r\n    } else if (\r\n      (pointer.x === lastNewPointPosition.x && pointer.y === lastNewPointPosition.y)\r\n      || (lastMouseEvent.target && lastMouseEvent.target.shapeName === 'tempPoint')\r\n      || (createdInvisiblePoint && Number.isNaN(pointer.x))) {\r\n      // placeholder\r\n    } else {\r\n      if (!pointer.x || !pointer.y) {\r\n        const lastMouseMoveEvent = Object(_keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_9__[\"getLastMouseMoveEvent\"])();\r\n        const lastCanvasPointer = canvas.getPointer(lastMouseMoveEvent);\r\n        if (!lastCanvasPointer.x || !lastCanvasPointer.y) return;\r\n        pointer = canvas.getPointer(lastMouseMoveEvent);\r\n      }\r\n      Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setReadyToDrawShapeState\"])(false);\r\n      addPoint(pointer);\r\n      createdInvisiblePoint = true;\r\n    }\r\n  }\r\n}\r\n\r\nfunction instantiatePolygon(event) {\r\n  const pointer = canvas.getPointer(event.e);\r\n  if (!isRightMouseButtonClicked(pointer)) {\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setReadyToDrawShapeState\"])(false);\r\n    if (event.target && event.target.shapeName) {\r\n      if (event.target.shapeName === 'invisiblePoint') {\r\n        if (pointArray.length > 2) {\r\n          generatePolygon();\r\n        }\r\n      } else if (event.target.shapeName === 'tempPoint') {\r\n        mouseIsDownOnTempPoint = true;\r\n      } else if (polygonMode) {\r\n        addPoint(pointer);\r\n      }\r\n    } else if (polygonMode) {\r\n      addPoint(pointer);\r\n    }\r\n    // fix for double click to draw first point bug\r\n    lastMouseEvent = event;\r\n  }\r\n}\r\n\r\nfunction placeHolderFunc() {}\r\n\r\nfunction assignMouseUpClickFunc() {\r\n  mouseUpClick = placeHolderFunc;\r\n}\r\n\r\nfunction placeholderToAddMouseDownEvents() {\r\n  mouseIsDownOnTempPoint = false;\r\n  mouseUpClick();\r\n}\r\n\r\nfunction skipMouseUpEvent() {\r\n  canvas.__eventListeners['mouse:down'] = [];\r\n  canvas.on('mouse:down', (e) => {\r\n    if (!e.target || (e.target && e.target.shapeName !== 'tempPoint')) {\r\n      instantiatePolygon(e);\r\n    }\r\n  });\r\n  assignMouseUpClickFunc();\r\n}\r\n\r\nfunction prepareCanvasForNewPolygon(canvasObj) {\r\n  canvas = canvasObj;\r\n  polygonMode = true;\r\n  drawingFinished = false;\r\n  canvas.discardActiveObject();\r\n  Object(_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_2__[\"setDrawCursorMode\"])(canvas);\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setReadyToDrawShapeState\"])(true);\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getAddingPolygonPointsState\"])()) {\r\n    Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setAddPointsButtonToDefault\"])();\r\n    Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setAddingPolygonPointsState\"])(false);\r\n    mouseUpClick = skipMouseUpEvent;\r\n  } else {\r\n    mouseUpClick = placeHolderFunc;\r\n  }\r\n}\r\n\r\nfunction prepareCanvasForNewPolygonsFromExternalSources(canvasObj) {\r\n  canvas = canvasObj;\r\n  Object(_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_2__[\"setDrawCursorMode\"])(canvas);\r\n}\r\n\r\nfunction resetDrawPolygonMode() {\r\n  polygonMode = true;\r\n  Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setCreatePolygonButtonToActive\"])();\r\n  Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"setReadyToDrawShapeState\"])(true);\r\n  drawingFinished = false;\r\n  clearPolygonData();\r\n  Object(_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_2__[\"setDrawCursorMode\"])(canvas);\r\n}\r\n\r\nfunction cleanPolygonFromEmptyPoints() {\r\n  const polygonPoints = activeShape.get('points');\r\n  const points = [];\r\n  polygonPoints.forEach((point) => {\r\n    if (Object.keys(point).length > 0) {\r\n      points.push({\r\n        x: point.x,\r\n        y: point.y,\r\n      });\r\n    }\r\n  });\r\n  activeShape.set({\r\n    points,\r\n  });\r\n  canvas.renderAll();\r\n\r\n  let currentPointId = 0;\r\n  const tempPointArray = [];\r\n  canvas.forEachObject((iteratedObj) => {\r\n    if (iteratedObj.shapeName === 'point') {\r\n      iteratedObj.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].changeRemovablePointToTemp(currentPointId));\r\n      if (currentPointId === 0) {\r\n        iteratedObj.set(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].firstPoint());\r\n      }\r\n      currentPointId += 1;\r\n      tempPointArray.push(iteratedObj);\r\n    }\r\n  });\r\n  pointArray = tempPointArray;\r\n  pointId = currentPointId;\r\n  canvas.renderAll();\r\n  points[pointArray.length] = {\r\n    x: points[0].x,\r\n    y: points[0].y,\r\n  };\r\n  activeShape.set({\r\n    points,\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction resumeDrawingAfterRemovePoints() {\r\n  mouseMoved = false;\r\n  ignoredFirstMouseMovement = false;\r\n  activeShape.numberOfNullPolygonPoints = 0;\r\n  cleanPolygonFromEmptyPoints();\r\n  Object(_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_2__[\"setDrawCursorMode\"])(canvas);\r\n  if (pointArray.length !== 0) {\r\n    const position = { x: pointArray[0].left, y: pointArray[0].top };\r\n    invisiblePoint = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Circle(_properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].invisiblePoint(position));\r\n    canvas.add(invisiblePoint);\r\n  }\r\n  setTimeout(() => {\r\n    const lastMouseMoveEvent = Object(_keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_9__[\"getLastMouseMoveEvent\"])();\r\n    if (currentlyHoveredPoint && currentlyHoveredPoint.state === 'removed') lastNewPointPosition = { x: -1, y: -1 };\r\n    currentlyHoveredPoint = null;\r\n    lastMouseEvent = lastMouseMoveEvent;\r\n    const pointer = canvas.getPointer(lastMouseMoveEvent);\r\n    drawTemporaryShape(pointer);\r\n  });\r\n}\r\n\r\nfunction removeInvisiblePoint() {\r\n  canvas.remove(invisiblePoint);\r\n  invisiblePoint = null;\r\n}\r\n\r\nfunction getScrollWidth() {\r\n  // create a div with the scroll\r\n  const div = document.createElement('div');\r\n  div.style.overflowY = 'scroll';\r\n  div.style.width = '50px';\r\n  div.style.height = '50px';\r\n\r\n  // must put it in the document, otherwise sizes will be 0\r\n  document.body.append(div);\r\n  const scrollWidth = div.offsetWidth - div.clientWidth;\r\n  div.remove();\r\n  return scrollWidth * 2;\r\n}\r\n\r\nfunction topOverflowScroll(event, zoomOverflowElement) {\r\n  const currentScrollTopOffset = zoomOverflowElement.scrollTop / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n  const newPositionTop = canvas.getPointer(event.e).y - currentScrollTopOffset;\r\n  if (mouseIsDownOnTempPoint) {\r\n    if (event.target.shapeName === 'tempPoint') {\r\n      event.target.top = newPositionTop;\r\n      activeShape.points[event.target.pointId].y = event.target.top;\r\n    }\r\n  }\r\n  const points = activeShape.get('points');\r\n  points[pointArray.length].y = newPositionTop;\r\n  activeShape.set({\r\n    points,\r\n  });\r\n}\r\n\r\nfunction bottomOverflowScroll(event, zoomOverflowElement, stubHeight, scrollWidth) {\r\n  const canvasHeight = stubHeight + scrollWidth;\r\n  const canvasBottom = zoomOverflowElement.scrollTop + zoomOverflowElement.offsetHeight;\r\n  const result = canvasHeight - canvasBottom;\r\n  const newPositionTop = canvas.getPointer(event.e).y + (result / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])());\r\n  if (mouseIsDownOnTempPoint) {\r\n    if (event.target.shapeName === 'tempPoint') {\r\n      event.target.top = newPositionTop;\r\n      activeShape.points[event.target.pointId].y = newPositionTop;\r\n    }\r\n  }\r\n  const points = activeShape.get('points');\r\n  points[pointArray.length] = {\r\n    x: canvas.getPointer(event.e).x,\r\n    y: newPositionTop,\r\n  };\r\n  activeShape.set({\r\n    points,\r\n  });\r\n}\r\n\r\nfunction defaultScroll(event) {\r\n  const currentVerticalScrollDelta = event.e.deltaY / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n  const newPositionTop = canvas.getPointer(event.e).y + currentVerticalScrollDelta;\r\n  const currentHorizontalScrollDelta = event.e.deltaX / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n  if (mouseIsDownOnTempPoint) {\r\n    if (event.target.shapeName === 'tempPoint') {\r\n      event.target.left = canvas.getPointer(event.e).x + currentHorizontalScrollDelta;\r\n      event.target.top = newPositionTop;\r\n      activeShape.points[event.target.pointId] = {\r\n        x: event.target.left, y: event.target.top,\r\n      };\r\n    }\r\n  }\r\n  const points = activeShape.get('points');\r\n  points[pointArray.length] = {\r\n    x: canvas.getPointer(event.e).x + currentHorizontalScrollDelta,\r\n    y: newPositionTop,\r\n  };\r\n  activeShape.set({\r\n    points,\r\n  });\r\n}\r\n\r\nfunction shapeScrollEvents(event) {\r\n  const currentZoom = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentZoomState\"])();\r\n  if (currentZoom > 1.00001) {\r\n    if (activeShape || (mouseIsDownOnTempPoint && event.target.shapeName === 'tempPoint')) {\r\n      const stubElement = document.getElementById('stub');\r\n      const stubMarginTop = stubElement.style.marginTop;\r\n      const stubHeightSubstring = stubMarginTop.substring(0, stubMarginTop.length - 2);\r\n      const stubHeight = parseInt(stubHeightSubstring, 10);\r\n      const zoomOverflowElement = document.getElementById('zoom-overflow');\r\n      const currentBotLocation = zoomOverflowElement.scrollTop + zoomOverflowElement.offsetHeight;\r\n      const futureBotLocation = currentBotLocation + event.e.deltaY;\r\n      const scrollWidth = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getDoubleScrollCanvasState\"])() ? getScrollWidth() : getScrollWidth() / 2;\r\n      if (zoomOverflowElement.scrollTop + event.e.deltaY < 0) {\r\n        topOverflowScroll(event, zoomOverflowElement);\r\n      } else if (futureBotLocation > stubHeight + scrollWidth) {\r\n        bottomOverflowScroll(event, zoomOverflowElement, stubHeight, scrollWidth);\r\n      } else {\r\n        defaultScroll(event);\r\n      }\r\n      const polygon = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Polygon(activeShape.get('points'), _properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newTempPolygon());\r\n      removeActiveShape();\r\n      activeShape = polygon;\r\n      canvas.add(polygon);\r\n      polygon.sendToBack();\r\n    }\r\n  }\r\n}\r\n\r\nfunction moveDrawCrosshair() {\r\n  if (activeShape) {\r\n    movedOverflowScroll = true;\r\n  }\r\n}\r\n\r\nfunction createNewPolygonFromCoordinates(points, imageScalingDimensions, imageLengthDimensions) {\r\n  const polygon = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Polygon(points, _properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].newPolygon());\r\n  Object(_sharedUtils_newObjectBlockers__WEBPACK_IMPORTED_MODULE_7__[\"preventOutOfBoundsOnNewObject\"])(polygon, imageScalingDimensions, imageLengthDimensions);\r\n  lockMovementIfAssertedByState(polygon);\r\n  return polygon;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/polygon.js?");

/***/ }),

/***/ "./src/js/canvas/objects/polygon/properties.js":
/*!*****************************************************!*\
  !*** ./src/js/canvas/objects/polygon/properties.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return polygonProperties; });\nconst polygonProperties = {};\r\n\r\nlet pointStrokedWidth = 0.5;\r\nlet augmentPolygonPointRadius = 4;\r\nlet defaultPointRadius = 3.5;\r\nlet invisiblePointRadius = 3.9;\r\nlet disabledNewPointRadius = 3.7;\r\nlet disabledAddPointRadius = 3;\r\nlet disabledRemovePointRadius = 3.7;\r\nlet newPolygonStrokeWidth = 1.75;\r\nlet tempPolygonStrokeWidth = 0.8;\r\nlet newLineStrokeWidth = 1.1;\r\nlet polygonPadding = 0;\r\n\r\nfunction setZoomInProperties(pointRatio, polygonRatio) {\r\n  defaultPointRadius -= defaultPointRadius * pointRatio;\r\n  pointStrokedWidth -= pointStrokedWidth * pointRatio;\r\n  augmentPolygonPointRadius -= augmentPolygonPointRadius * pointRatio;\r\n  invisiblePointRadius -= invisiblePointRadius * pointRatio;\r\n  disabledNewPointRadius -= disabledNewPointRadius * pointRatio;\r\n  disabledAddPointRadius -= disabledAddPointRadius * pointRatio;\r\n  disabledRemovePointRadius -= disabledRemovePointRadius * pointRatio;\r\n  newPolygonStrokeWidth -= newPolygonStrokeWidth * polygonRatio;\r\n  tempPolygonStrokeWidth -= tempPolygonStrokeWidth * polygonRatio;\r\n  newLineStrokeWidth -= newLineStrokeWidth * polygonRatio;\r\n  polygonPadding += 0.05;\r\n}\r\n\r\nfunction setZoomOutProperties(pointRatio, polygonRatio) {\r\n  pointStrokedWidth *= pointRatio;\r\n  augmentPolygonPointRadius *= polygonRatio;\r\n  defaultPointRadius *= pointRatio;\r\n  invisiblePointRadius *= pointRatio;\r\n  disabledNewPointRadius *= pointRatio;\r\n  disabledAddPointRadius *= pointRatio;\r\n  disabledRemovePointRadius *= pointRatio;\r\n  newPolygonStrokeWidth *= polygonRatio;\r\n  tempPolygonStrokeWidth *= polygonRatio;\r\n  newLineStrokeWidth *= polygonRatio;\r\n  polygonPadding -= 0.05;\r\n}\r\n\r\nfunction generateNewPoint(pointId, pointer, isNewPoint) {\r\n  return {\r\n    radius: defaultPointRadius,\r\n    fill: '#ffffff',\r\n    stroke: '#333333',\r\n    strokeWidth: pointStrokedWidth,\r\n    left: pointer.x,\r\n    top: pointer.y,\r\n    selectable: true,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    originX: 'center',\r\n    originY: 'center',\r\n    shapeName: 'tempPoint',\r\n    pointId,\r\n    objectCaching: false,\r\n    hoverCursor: isNewPoint ? 'default' : 'move',\r\n  };\r\n}\r\n\r\nfunction generateInvisiblePoint(pointer) {\r\n  return {\r\n    radius: invisiblePointRadius,\r\n    fill: 'green',\r\n    stroke: '#333333',\r\n    left: pointer.x,\r\n    top: pointer.y,\r\n    selectable: true,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    originX: 'center',\r\n    originY: 'center',\r\n    shapeName: 'invisiblePoint',\r\n    objectCaching: false,\r\n    opacity: 0,\r\n    hoverCursor: 'default',\r\n  };\r\n}\r\n\r\nfunction changeRemovablePointToTemp(pointId) {\r\n  return {\r\n    radius: defaultPointRadius,\r\n    fill: '#ffffff',\r\n    stroke: '#333333',\r\n    strokeWidth: pointStrokedWidth,\r\n    selectable: true,\r\n    shapeName: 'tempPoint',\r\n    pointId,\r\n    lockMovementX: false,\r\n    lockMovementY: false,\r\n    hoverCursor: 'move',\r\n  };\r\n}\r\n\r\nfunction generateExistingPolygonPoint(pointId, pointCoordinates) {\r\n  return {\r\n    radius: defaultPointRadius,\r\n    fill: 'blue',\r\n    stroke: '#333333',\r\n    strokeWidth: pointStrokedWidth,\r\n    left: pointCoordinates.x,\r\n    top: pointCoordinates.y,\r\n    selectable: true,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    originX: 'center',\r\n    originY: 'center',\r\n    shapeName: 'point',\r\n    objectCaching: false,\r\n    pointId,\r\n    perPixelTargetFind: true,\r\n    hoverCursor: 'move',\r\n  };\r\n}\r\n\r\nfunction generateRemovablePolygonPoint(pointId, pointCoordinates, totalPointNumber) {\r\n  const returnObj = {\r\n    radius: augmentPolygonPointRadius,\r\n    fill: 'red',\r\n    stroke: '#333333',\r\n    strokeWidth: pointStrokedWidth,\r\n    selectable: true,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    originX: 'center',\r\n    originY: 'center',\r\n    shapeName: 'point',\r\n    objectCaching: false,\r\n    pointId,\r\n    perPixelTargetFind: true,\r\n    lockMovementX: true,\r\n    lockMovementY: true,\r\n    hoverCursor: 'default',\r\n  };\r\n  if (pointCoordinates) {\r\n    returnObj.left = pointCoordinates.x;\r\n    returnObj.top = pointCoordinates.y;\r\n    if (totalPointNumber < 4) {\r\n      returnObj.fill = 'black';\r\n      returnObj.radius = disabledNewPointRadius;\r\n    }\r\n  }\r\n  return returnObj;\r\n}\r\n\r\nfunction generatestartingAddPolygonPoint(pointId, pointCoordinates) {\r\n  const returnObj = {\r\n    radius: augmentPolygonPointRadius,\r\n    fill: 'green',\r\n    stroke: '#333333',\r\n    strokeWidth: pointStrokedWidth,\r\n    selectable: true,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    originX: 'center',\r\n    originY: 'center',\r\n    shapeName: 'point',\r\n    objectCaching: false,\r\n    pointId,\r\n    perPixelTargetFind: true,\r\n    lockMovementX: true,\r\n    lockMovementY: true,\r\n  };\r\n  if (pointCoordinates) {\r\n    returnObj.left = pointCoordinates.x;\r\n    returnObj.top = pointCoordinates.y;\r\n  }\r\n  return returnObj;\r\n}\r\n\r\nfunction generateNewPolygon() {\r\n  return {\r\n    stroke: 'hsla(186, 8%, 50%, 1)',\r\n    strokeWidth: newPolygonStrokeWidth,\r\n    fill: 'rgba(237, 237, 237, 0.01)',\r\n    perPixelTargetFind: true,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    shapeName: 'polygon',\r\n    selectable: false,\r\n    evented: true,\r\n    objectCaching: false,\r\n    numberOfNullPolygonPoints: 0,\r\n  };\r\n}\r\n\r\nfunction generateNewTempPolygon() {\r\n  return {\r\n    stroke: '#333333',\r\n    strokeWidth: tempPolygonStrokeWidth,\r\n    fill: '#cccccc',\r\n    opacity: 0.3,\r\n    selectable: false,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    evented: false,\r\n    objectCaching: false,\r\n    numberOfNullPolygonPoints: 0,\r\n    shapeName: 'tempPolygon',\r\n  };\r\n}\r\n\r\nfunction generateNewLine() {\r\n  return {\r\n    strokeWidth: newLineStrokeWidth,\r\n    fill: '#999999',\r\n    stroke: '#999999',\r\n    class: 'line',\r\n    originX: 'center',\r\n    originY: 'center',\r\n    selectable: false,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    evented: false,\r\n    objectCaching: false,\r\n    shapeName: 'addPointsLine',\r\n  };\r\n}\r\n\r\nfunction generateNewFirstPoint() {\r\n  return {\r\n    fill: 'red',\r\n    shapeName: 'firstPoint',\r\n    lockMovementX: true,\r\n    lockMovementY: true,\r\n  };\r\n}\r\n\r\nfunction generateRemovablePoint() {\r\n  return {\r\n    radius: augmentPolygonPointRadius,\r\n    fill: 'red',\r\n    selectable: true,\r\n  };\r\n}\r\n\r\nfunction generateDefaultPoint() {\r\n  return {\r\n    fill: 'blue',\r\n    radius: defaultPointRadius,\r\n    hoverCursor: 'move',\r\n  };\r\n}\r\n\r\nfunction generateAdditionalPoint() {\r\n  return {\r\n    fill: 'green',\r\n    radius: augmentPolygonPointRadius,\r\n    hoverCursor: 'default',\r\n  };\r\n}\r\n\r\nfunction generateDisabledAddPoint() {\r\n  return {\r\n    fill: 'white',\r\n    radius: disabledAddPointRadius,\r\n  };\r\n}\r\n\r\nfunction generateDisabledRemovePoint() {\r\n  return {\r\n    fill: 'black',\r\n    radius: disabledRemovePointRadius,\r\n  };\r\n}\r\n\r\nfunction generateSelectedStartingAddPoint() {\r\n  return {\r\n    shapeName: 'initialAddPoint',\r\n    radius: defaultPointRadius,\r\n  };\r\n}\r\n\r\nfunction getPolygonAlignmentAfterPointMove() {\r\n  return polygonPadding;\r\n}\r\n\r\n(function setProperties() {\r\n  polygonProperties.newPolygon = generateNewPolygon;\r\n  polygonProperties.newTempPolygon = generateNewTempPolygon;\r\n  polygonProperties.newLine = generateNewLine;\r\n  polygonProperties.firstPoint = generateNewFirstPoint;\r\n  polygonProperties.removablePoint = generateRemovablePoint;\r\n  polygonProperties.defaultPoint = generateDefaultPoint;\r\n  polygonProperties.additionalPoint = generateAdditionalPoint;\r\n  polygonProperties.disabledAddPoint = generateDisabledAddPoint;\r\n  polygonProperties.disabledRemovePoint = generateDisabledRemovePoint;\r\n  polygonProperties.selectedStartingAddPoint = generateSelectedStartingAddPoint;\r\n  polygonProperties.newPoint = generateNewPoint;\r\n  polygonProperties.invisiblePoint = generateInvisiblePoint;\r\n  polygonProperties.changeRemovablePointToTemp = changeRemovablePointToTemp;\r\n  polygonProperties.existingPolygonPoint = generateExistingPolygonPoint;\r\n  polygonProperties.removablePolygonPoint = generateRemovablePolygonPoint;\r\n  polygonProperties.startingAddPolygonPoint = generatestartingAddPolygonPoint;\r\n  polygonProperties.setZoomInProperties = setZoomInProperties;\r\n  polygonProperties.setZoomOutProperties = setZoomOutProperties;\r\n  polygonProperties.getPolygonAlignmentAfterPointMove = getPolygonAlignmentAfterPointMove;\r\n}());\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/polygon/properties.js?");

/***/ }),

/***/ "./src/js/canvas/objects/sharedUtils/moveBlockers.js":
/*!***********************************************************!*\
  !*** ./src/js/canvas/objects/sharedUtils/moveBlockers.js ***!
  \***********************************************************/
/*! exports provided: setRightBoundingBoxMovingDelta, preventOutOfBoundsPointsOnMove, validateAndFixOutOfBoundsPolygonShapePointsAfterMove, preventOutOfBoundsShapesOnMove */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRightBoundingBoxMovingDelta\", function() { return setRightBoundingBoxMovingDelta; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preventOutOfBoundsPointsOnMove\", function() { return preventOutOfBoundsPointsOnMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateAndFixOutOfBoundsPolygonShapePointsAfterMove\", function() { return validateAndFixOutOfBoundsPolygonShapePointsAfterMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preventOutOfBoundsShapesOnMove\", function() { return preventOutOfBoundsShapesOnMove; });\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../tools/imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n\r\n\r\n\r\nlet rightBoundingBoxDelta = 0;\r\n\r\nfunction validateAndFixOutOfBoundsPolygonShapePointsAfterMove(polygon) {\r\n  polygon.points.forEach((point) => {\r\n    if (point.x < 0) { point.x = 0; }\r\n    if (point.y < 0) { point.y = 0; }\r\n  });\r\n}\r\n\r\nfunction preventRightOutOfBoundsBoundingBoxOnMove(shape, canvas) {\r\n  if (shape.left + shape.width > canvas.width - rightBoundingBoxDelta) {\r\n    shape.left = Math.floor(canvas.width - shape.width - rightBoundingBoxDelta);\r\n  }\r\n}\r\n\r\nfunction preventRightOutOfBoundsPolygonOnMove(shape, canvas) {\r\n  if (shape.left + shape.width > canvas.width - 1.8) {\r\n    shape.left = Math.floor(canvas.width - shape.width - 1.8);\r\n  }\r\n}\r\n\r\nfunction preventOutOfBoundsShapesOnMove(shape, canvas) {\r\n  shape.setCoords();\r\n  // multiple if statements because of corners\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])() > 1.00001) {\r\n    const { height, width } = Object(_tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__[\"getImageProperties\"])();\r\n    const imageHeight = height * Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])();\r\n    const imageWidth = width * Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])();\r\n    // right\r\n    if (shape.left + shape.width > imageWidth / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])()\r\n    - (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])())) {\r\n      shape.left = imageWidth / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])() - shape.width - 2;\r\n    }\r\n    // bottom\r\n    if (shape.top + shape.height > imageHeight / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])()\r\n    - Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])()) {\r\n      shape.top = imageHeight / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])() - shape.height - 2;\r\n    }\r\n  } else {\r\n    // right\r\n    if (shape.shapeName === 'bndBox') {\r\n      preventRightOutOfBoundsBoundingBoxOnMove(shape, canvas);\r\n    } else if (shape.shapeName === 'polygon') {\r\n      preventRightOutOfBoundsPolygonOnMove(shape, canvas);\r\n    }\r\n    // bottom\r\n    if (shape.top + shape.height > canvas.height - 2) {\r\n      shape.top = canvas.height - shape.height - 2;\r\n    }\r\n  }\r\n  // top\r\n  if (shape.top < 0) {\r\n    shape.top = 0;\r\n  }\r\n  // left\r\n  if (shape.left < 0) {\r\n    shape.left = 0;\r\n  }\r\n}\r\n\r\nfunction preventOutOfBoundsPointsOnMove(shape, canvas) {\r\n  shape.setCoords();\r\n  // multiple if statements because of corners\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])() > 1.00001) {\r\n    const { height, width } = Object(_tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__[\"getImageProperties\"])();\r\n    const imageHeight = height * Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])();\r\n    const imageWidth = width * Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])();\r\n    // right\r\n    if (shape.left + shape.width / 2\r\n      > imageWidth / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])() + 0.75) {\r\n      shape.left = imageWidth / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])() - shape.width / 2;\r\n    }\r\n    // bottom\r\n    if (shape.top + shape.height / 2\r\n      > imageHeight / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])() + 1) {\r\n      shape.top = imageHeight / Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentZoomState\"])() - shape.height / 2 + 1;\r\n    }\r\n  } else {\r\n    // right\r\n    if (shape.left + shape.width / 2 > canvas.width + 1.5) {\r\n      shape.left = canvas.width - shape.width / 2 + 1.5;\r\n    }\r\n    // bottom\r\n    if (shape.top + shape.height / 2 > canvas.height + 1.5) {\r\n      shape.top = canvas.height - shape.height / 2 + 1.5;\r\n    }\r\n  }\r\n  // top\r\n  if (shape.top + shape.height / 2 < 0) {\r\n    shape.top = 0;\r\n  }\r\n  // left\r\n  if (shape.left + shape.width / 2 < 0) {\r\n    shape.left = 0;\r\n  }\r\n}\r\n\r\nfunction setRightBoundingBoxMovingDelta(delta) {\r\n  rightBoundingBoxDelta = delta;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/sharedUtils/moveBlockers.js?");

/***/ }),

/***/ "./src/js/canvas/objects/sharedUtils/newObjectBlockers.js":
/*!****************************************************************!*\
  !*** ./src/js/canvas/objects/sharedUtils/newObjectBlockers.js ***!
  \****************************************************************/
/*! exports provided: setRightBoundingBoxNewObjectDelta, preventOutOfBoundsOnNewObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRightBoundingBoxNewObjectDelta\", function() { return setRightBoundingBoxNewObjectDelta; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preventOutOfBoundsOnNewObject\", function() { return preventOutOfBoundsOnNewObject; });\nlet rightBoundingBoxDelta = 0;\r\n\r\nfunction preventTopOutOfBoundsBoundingBoxOnNewObject(shape) {\r\n  if (shape.top < 0) {\r\n    shape.top = 0;\r\n  }\r\n}\r\n\r\nfunction preventTopOutOfBoundsPolygonOnNewObject(shape) {\r\n  if (shape.top < 0) {\r\n    shape.points.forEach((point) => {\r\n      if (point.y < 0) {\r\n        point.y = 0;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction preventLeftOutOfBoundsBoundingBoxOnNewObject(shape) {\r\n  if (shape.left < 0) {\r\n    shape.left = 0;\r\n  }\r\n}\r\n\r\nfunction preventLeftOutOfBoundsPolygonOnNewObject(shape) {\r\n  if (shape.left < 0) {\r\n    shape.points.forEach((point) => {\r\n      if (point.x < 0) {\r\n        point.x = 0;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction preventRightOutOfBoundsBoundingBoxOnNewObject(shape, imageWidth) {\r\n  if (shape.left + shape.width > imageWidth - rightBoundingBoxDelta) {\r\n    shape.width = imageWidth - shape.left - 2.4;\r\n  }\r\n}\r\n\r\nfunction preventRightOutOfBoundsPolygonOnNewObject(shape, imageWidth) {\r\n  if (shape.left + shape.width > imageWidth - 1.8) {\r\n    shape.points.forEach((point) => {\r\n      if (point.x + 1 > imageWidth - 1.8) {\r\n        point.x -= 1.8;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction preventBottomOutOfBoundsBoundingBoxOnNewObject(shape, imageHeight) {\r\n  if (shape.top + shape.height > imageHeight - 2) {\r\n    shape.height = imageHeight - shape.top - 2;\r\n  }\r\n}\r\n\r\nfunction preventBottomOutOfBoundsPolygonOnNewObject(shape, imageHeight) {\r\n  if (shape.top + shape.height > imageHeight - 2) {\r\n    shape.points.forEach((point) => {\r\n      if (point.y + 1 > imageHeight - 2) {\r\n        point.y -= 1.8;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction preventOutOfBoundsOnNewObject(shape, imageScalingDimensions, imageLengthDimensions) {\r\n  const imageHeight = imageLengthDimensions.height * imageScalingDimensions.scaleY;\r\n  const imageWidth = imageLengthDimensions.width * imageScalingDimensions.scaleX;\r\n  shape.setCoords();\r\n  if (shape.shapeName === 'bndBox') {\r\n    preventRightOutOfBoundsBoundingBoxOnNewObject(shape, imageWidth);\r\n    preventBottomOutOfBoundsBoundingBoxOnNewObject(shape, imageHeight);\r\n    preventTopOutOfBoundsBoundingBoxOnNewObject(shape);\r\n    preventLeftOutOfBoundsBoundingBoxOnNewObject(shape);\r\n  } else if (shape.shapeName === 'polygon') {\r\n    preventRightOutOfBoundsPolygonOnNewObject(shape, imageWidth);\r\n    preventBottomOutOfBoundsPolygonOnNewObject(shape, imageHeight);\r\n    preventTopOutOfBoundsPolygonOnNewObject(shape);\r\n    preventLeftOutOfBoundsPolygonOnNewObject(shape);\r\n  }\r\n}\r\n\r\nfunction setRightBoundingBoxNewObjectDelta(delta) {\r\n  rightBoundingBoxDelta = delta;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/objects/sharedUtils/newObjectBlockers.js?");

/***/ }),

/***/ "./src/js/canvas/utils/canvasUtils.js":
/*!********************************************!*\
  !*** ./src/js/canvas/utils/canvasUtils.js ***!
  \********************************************/
/*! exports provided: assignCanvasForUtils, enableActiveObjectsAppearInFront, getCurrentCanvasContainerElement, preventActiveObjectsAppearInFront, switchCanvasContainerElements, assignNewCanvasForUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForUtils\", function() { return assignCanvasForUtils; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enableActiveObjectsAppearInFront\", function() { return enableActiveObjectsAppearInFront; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentCanvasContainerElement\", function() { return getCurrentCanvasContainerElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preventActiveObjectsAppearInFront\", function() { return preventActiveObjectsAppearInFront; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"switchCanvasContainerElements\", function() { return switchCanvasContainerElements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignNewCanvasForUtils\", function() { return assignNewCanvasForUtils; });\n/* harmony import */ var _tools_utils_browserType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n\r\n\r\nlet canvasElement1Displaying = true;\r\nlet oldCanvas = null;\r\nlet canvas = null;\r\nlet canvasContainerElement1 = null;\r\nlet canvasContainerElement2 = null;\r\nlet currentCanvasContainerElement = null;\r\nlet timeoutMilliseconds = 0;\r\n\r\nfunction getCurrentCanvasContainerElement() {\r\n  return currentCanvasContainerElement;\r\n}\r\n\r\nfunction switchCurrentCanvasContainerElement() {\r\n  currentCanvasContainerElement = canvasElement1Displaying\r\n    ? canvasContainerElement2 : canvasContainerElement1;\r\n}\r\n\r\nfunction switchCanvasContainerElementsStyle() {\r\n  setTimeout(() => {\r\n    if (canvasElement1Displaying) {\r\n      canvasContainerElement1.style.display = 'none';\r\n      canvasContainerElement2.style.display = '';\r\n      canvasContainerElement1.style.left = '50%';\r\n      canvasContainerElement1.style.top = '50%';\r\n      canvasElement1Displaying = false;\r\n    } else {\r\n      canvasContainerElement1.style.display = '';\r\n      canvasContainerElement2.style.display = 'none';\r\n      canvasContainerElement2.style.left = '50%';\r\n      canvasContainerElement2.style.top = '50%';\r\n      canvasElement1Displaying = true;\r\n    }\r\n    oldCanvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n    oldCanvas.clear();\r\n  }, timeoutMilliseconds);\r\n}\r\n\r\n// if for some reason the performance of switching/uploading images slows down, can\r\n// always switch back to the original implementation of setting canvas elements\r\n// Apr 23, 2020 - c33d736b928b9590c28ebd48f882cb2a6fac51aa\r\nfunction switchCanvasContainerElements() {\r\n  switchCanvasContainerElementsStyle();\r\n  switchCurrentCanvasContainerElement();\r\n}\r\n\r\nfunction enableActiveObjectsAppearInFront() {\r\n  canvas.preserveObjectStacking = false;\r\n}\r\n\r\nfunction preventActiveObjectsAppearInFront() {\r\n  if (canvas) { canvas.preserveObjectStacking = true; }\r\n}\r\n\r\nfunction assignNewCanvasForUtils(newCanvasObj) {\r\n  oldCanvas = canvas;\r\n  canvas = newCanvasObj;\r\n}\r\n\r\nfunction assignTimeoutMillisecondsDependingOnBrowser() {\r\n  timeoutMilliseconds = _tools_utils_browserType__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ? 12 : 0;\r\n}\r\n\r\nfunction assignCanvasForUtils(canvasObj) {\r\n  canvas = canvasObj;\r\n  canvas.randomProperty = 'test';\r\n  canvasContainerElement1 = document.getElementById('canvas-absolute-container-1');\r\n  canvasContainerElement2 = document.getElementById('canvas-absolute-container-2');\r\n  currentCanvasContainerElement = canvasContainerElement1;\r\n  assignTimeoutMillisecondsDependingOnBrowser();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/utils/canvasUtils.js?");

/***/ }),

/***/ "./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js":
/*!**********************************************************************************!*\
  !*** ./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js ***!
  \**********************************************************************************/
/*! exports provided: drawTempShapesToShowCaseMLResults, updateImageThumbnails, removeTempShapes, resetCursor, assignCanvasForDrawingShapesViaCoordinates, drawShapesViaCoordinates, removeImageThumbnails */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawTempShapesToShowCaseMLResults\", function() { return drawTempShapesToShowCaseMLResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateImageThumbnails\", function() { return updateImageThumbnails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeTempShapes\", function() { return removeTempShapes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetCursor\", function() { return resetCursor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForDrawingShapesViaCoordinates\", function() { return assignCanvasForDrawingShapesViaCoordinates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawShapesViaCoordinates\", function() { return drawShapesViaCoordinates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeImageThumbnails\", function() { return removeImageThumbnails; });\n/* harmony import */ var _tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../tools/imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/boundingBox/boundingBox */ \"./src/js/canvas/objects/boundingBox/boundingBox.js\");\n/* harmony import */ var _objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n/* harmony import */ var _objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../objects/allShapes/labelAndShapeBuilder */ \"./src/js/canvas/objects/allShapes/labelAndShapeBuilder.js\");\n/* harmony import */ var _tools_toolkit_buttonClickEvents_facadeWorkers_resetCanvasEventsToDefaultWorker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../tools/toolkit/buttonClickEvents/facadeWorkers/resetCanvasEventsToDefaultWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/resetCanvasEventsToDefaultWorker.js\");\n/* harmony import */ var _mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../mouseInteractions/cursorModes/defaultMode */ \"./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js\");\n/* harmony import */ var _tools_labellerModal_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../tools/labellerModal/style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _tools_toolkit_buttonClickEvents_facadeWorkers_removeActiveShapeWorker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../tools/toolkit/buttonClickEvents/facadeWorkers/removeActiveShapeWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removeActiveShapeWorker.js\");\n/* harmony import */ var _objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _tools_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../tools/globalStatistics/globalStatistics */ \"./src/js/tools/globalStatistics/globalStatistics.js\");\n/* harmony import */ var _fabricUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../fabricUtils */ \"./src/js/canvas/utils/fabricUtils.js\");\n/* harmony import */ var _mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js\");\n/* harmony import */ var _tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../tools/labelList/labelList */ \"./src/js/tools/labelList/labelList.js\");\n/* harmony import */ var _mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../tools/imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\nconst tempShapes = [];\r\n\r\nfunction newLabelShapeGroup(shape, shapeCoordinates, isCurrentlySelectedImage,\r\n  isUsingMachineLearning, image) {\r\n  if (isCurrentlySelectedImage) {\r\n    Object(_objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_3__[\"generateLabelShapeGroup\"])(shape, shapeCoordinates.class,\r\n      null, isUsingMachineLearning);\r\n    canvas.add(shape);\r\n  } else {\r\n    Object(_objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_3__[\"generateLabelShapeGroup\"])(shape, shapeCoordinates.class,\r\n      image, isUsingMachineLearning);\r\n  }\r\n}\r\n\r\nfunction generateNewBoundingBox(shapeCoordinates, imageScalingDimensions,\r\n  imageLengthDimensions) {\r\n  const boundingBoxShape = Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_1__[\"createNewBoundingBoxFromCoordinates\"])(\r\n    shapeCoordinates.bbox[0],\r\n    shapeCoordinates.bbox[1],\r\n    shapeCoordinates.bbox[2],\r\n    shapeCoordinates.bbox[3],\r\n    imageScalingDimensions,\r\n    imageLengthDimensions,\r\n  );\r\n  return boundingBoxShape;\r\n}\r\n\r\nfunction generateNewPolygon(shapeCoordinates, imageScalingDimensions, imageLengthDimensions) {\r\n  const points = [];\r\n  for (let i = 0; i < shapeCoordinates.points.length; i += 2) {\r\n    points.push({\r\n      x: shapeCoordinates.points[i] * imageScalingDimensions.scaleX,\r\n      y: shapeCoordinates.points[i + 1] * imageScalingDimensions.scaleY,\r\n    });\r\n  }\r\n  return Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_2__[\"createNewPolygonFromCoordinates\"])(points, imageScalingDimensions, imageLengthDimensions);\r\n}\r\n\r\nfunction generateImageShapesForML(image, isCurrentlySelectedImage, predictedShapeCoordinates,\r\n  imageScalingDimensions, imageLengthDimensions, isUsingMachineLearning) {\r\n  predictedShapeCoordinates.forEach((shapeCoordinates) => {\r\n    const boundingBox = generateNewBoundingBox(shapeCoordinates, imageScalingDimensions,\r\n      imageLengthDimensions);\r\n    newLabelShapeGroup(boundingBox, shapeCoordinates, isCurrentlySelectedImage,\r\n      isUsingMachineLearning, image);\r\n  });\r\n  image.numberOfMLGeneratedShapes = predictedShapeCoordinates.length;\r\n}\r\n\r\nfunction getImageScalingDimensions(image) {\r\n  if (image && image.imageDimensions && Object.keys(image.imageDimensions).length > 0) {\r\n    return image.imageDimensions;\r\n  }\r\n  return { scaleX: 1, scaleY: 1 };\r\n}\r\n\r\nfunction getImageLengthDimensions(image) {\r\n  if (image && image.data) {\r\n    return { height: image.data.height, width: image.data.width };\r\n  }\r\n  return { height: 1, width: 1 };\r\n}\r\n\r\nfunction removeMLShapesOnImage(imageData, currentImage) {\r\n  const shapes = currentImage ? Object(_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_9__[\"getAllExistingShapes\"])() : imageData.shapes;\r\n  Object.keys(shapes).forEach((key) => {\r\n    const shape = shapes[key].shapeRef;\r\n    if (shape.isGeneratedViaML) {\r\n      if (currentImage) {\r\n        Object(_tools_toolkit_buttonClickEvents_facadeWorkers_removeActiveShapeWorker__WEBPACK_IMPORTED_MODULE_8__[\"removeBoundingBox\"])(canvas, shape);\r\n      } else {\r\n        delete shapes[key];\r\n      }\r\n    }\r\n  });\r\n  canvas.renderAll();\r\n  imageData.numberOfMLGeneratedShapes = 0;\r\n}\r\n\r\nfunction generateNewShapesForML(predictedShapeCoordinatesForImages, allImageData,\r\n  currentlySelectedImageId, isUsingMachineLearning) {\r\n  removeMLShapesOnImage(allImageData[currentlySelectedImageId], true);\r\n  Object.keys(predictedShapeCoordinatesForImages).forEach((key) => {\r\n    removeMLShapesOnImage(allImageData[key]);\r\n    const image = allImageData[key];\r\n    const imageScalingDimensions = getImageScalingDimensions(image);\r\n    const isCurrentlySelectedImage = currentlySelectedImageId === parseInt(key, 10);\r\n    const imageLengthDimensions = getImageLengthDimensions(allImageData[key]);\r\n    const predictedShapeCoordinates = predictedShapeCoordinatesForImages[key];\r\n    if (predictedShapeCoordinates.length > 0) {\r\n      generateImageShapesForML(image, isCurrentlySelectedImage, predictedShapeCoordinates,\r\n        imageScalingDimensions, imageLengthDimensions, isUsingMachineLearning);\r\n    }\r\n  });\r\n}\r\n\r\nfunction captureCurrentImageData(allImageData, currentlySelectedImageId) {\r\n  const currentlySelectedImageProperties = Object(_tools_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getImageProperties\"])();\r\n  const imageDimensions = {};\r\n  imageDimensions.scaleX = currentlySelectedImageProperties.scaleX;\r\n  imageDimensions.scaleY = currentlySelectedImageProperties.scaleY;\r\n  allImageData[currentlySelectedImageId].imageDimensions = imageDimensions;\r\n}\r\n\r\nfunction getImageData() {\r\n  const allImageData = Object(_tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__[\"getAllImageData\"])();\r\n  const currentlySelectedImageId = Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"getCurrentImageId\"])();\r\n  return { allImageData, currentlySelectedImageId };\r\n}\r\n\r\nfunction updateImageThumbnailStyle(isCurrentlySelectedImage, image) {\r\n  if (!isCurrentlySelectedImage) {\r\n    Object(_tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__[\"setDefaultImageThumbnailHighlightToML\"])(image.thumbnailElementRef);\r\n  } else {\r\n    Object(_tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__[\"setDefaultImageThumbnailHighlightToMLSelected\"])(image.thumbnailElementRef);\r\n  }\r\n}\r\n\r\nfunction updateImageThumbnails(predictedShapeCoordinatesForImages) {\r\n  const { allImageData, currentlySelectedImageId } = getImageData();\r\n  Object.keys(predictedShapeCoordinatesForImages).forEach((key) => {\r\n    const predictedShapeCoordinates = predictedShapeCoordinatesForImages[key];\r\n    if (predictedShapeCoordinates.length > 0) {\r\n      const isCurrentlySelectedImage = currentlySelectedImageId === parseInt(key, 10);\r\n      const image = allImageData[key];\r\n      updateImageThumbnailStyle(isCurrentlySelectedImage, image);\r\n    }\r\n  });\r\n}\r\n\r\nfunction removeImageThumbnails() {\r\n  const { allImageData, currentlySelectedImageId } = getImageData();\r\n  allImageData.forEach((image, index) => {\r\n    if (currentlySelectedImageId === index) {\r\n      Object(_tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__[\"removeSelectedMLThumbnailHighlight\"])(image.thumbnailElementRef);\r\n    } else {\r\n      Object(_tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__[\"removeMLThumbnailHighlight\"])(image.thumbnailElementRef);\r\n    }\r\n    if (Object.keys(image.shapes).length === 0) Object(_tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__[\"removeTickSVGOverImageThumbnail\"])(index);\r\n  });\r\n}\r\n\r\nfunction generateTempShapes(predictedShapeCoordinates, imageScalingDimensions,\r\n  imageLengthDimensions) {\r\n  predictedShapeCoordinates.forEach((shapeCoordinates) => {\r\n    const boundingBox = generateNewBoundingBox(shapeCoordinates, imageScalingDimensions,\r\n      imageLengthDimensions);\r\n    tempShapes.push(boundingBox);\r\n    canvas.add(boundingBox);\r\n  });\r\n}\r\n\r\nfunction removeTempShapes() {\r\n  tempShapes.forEach((shape) => {\r\n    canvas.remove(shape);\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction drawTempShapesToShowCaseMLResults(predictedShapeCoordinatesForImages) {\r\n  const { allImageData, currentlySelectedImageId } = getImageData();\r\n  captureCurrentImageData(allImageData, currentlySelectedImageId);\r\n  Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_1__[\"prepareCanvasForNewBoundingBoxesFromExternalSources\"])(canvas);\r\n  const currentlySelectedImageShapes = predictedShapeCoordinatesForImages[currentlySelectedImageId];\r\n  const imageScalingDimensions = getImageScalingDimensions(allImageData[currentlySelectedImageId]);\r\n  const imageLengthDimensions = getImageLengthDimensions(allImageData[currentlySelectedImageId]);\r\n  generateTempShapes(currentlySelectedImageShapes, imageScalingDimensions, imageLengthDimensions);\r\n}\r\n\r\nfunction generateShapeForFileUpload(shapeData, imageData, isCurrentlySelectedImage) {\r\n  const imageScalingDimensions = getImageScalingDimensions(imageData);\r\n  const imageLengthDimensions = getImageLengthDimensions(imageData);\r\n  if (shapeData.type === 'boundingBox') {\r\n    const shape = generateNewBoundingBox(shapeData.coordinates, imageScalingDimensions,\r\n      imageLengthDimensions);\r\n    newLabelShapeGroup(shape, shapeData.coordinates, isCurrentlySelectedImage,\r\n      false, imageData);\r\n  } else if (shapeData.type === 'polygon') {\r\n    const shape = generateNewPolygon(shapeData.coordinates, imageScalingDimensions,\r\n      imageLengthDimensions);\r\n    newLabelShapeGroup(shape, shapeData.coordinates, isCurrentlySelectedImage,\r\n      false, imageData);\r\n  }\r\n}\r\n\r\nfunction generateNewShapesForFileUpload(shapes, allImageData, currentlySelectedImageId,\r\n  reuseAlreadyUploadedImages) {\r\n  for (let i = 0; i < shapes.length; i += 1) {\r\n    for (let y = allImageData.length - 1; y >= 0; y -= 1) {\r\n      if (shapes[i].imageName === allImageData[y].name) {\r\n        const isCurrentlySelectedImage = currentlySelectedImageId === y;\r\n        generateShapeForFileUpload(shapes[i], allImageData[y], isCurrentlySelectedImage);\r\n        Object(_tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__[\"displayTickSVGOverImageThumbnail\"])(Object(_tools_imageList_imageList__WEBPACK_IMPORTED_MODULE_15__[\"getLastImageIdByName\"])(allImageData[y].name));\r\n        if (!reuseAlreadyUploadedImages) { break; }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawShapesForFileUpload(shapesData, allImageData, currentlySelectedImageId,\r\n  reuseAlreadyUploadedImages) {\r\n  if (shapesData.boundingBoxes.length > 0) {\r\n    Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_1__[\"prepareCanvasForNewBoundingBoxesFromExternalSources\"])(canvas);\r\n    generateNewShapesForFileUpload(shapesData.boundingBoxes, allImageData,\r\n      currentlySelectedImageId, reuseAlreadyUploadedImages);\r\n  }\r\n  if (shapesData.polygons.length > 0) {\r\n    Object(_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_2__[\"prepareCanvasForNewPolygonsFromExternalSources\"])(canvas);\r\n    generateNewShapesForFileUpload(shapesData.polygons, allImageData,\r\n      currentlySelectedImageId, reuseAlreadyUploadedImages);\r\n  }\r\n}\r\n\r\nfunction drawShapesForML(shapesData, allImageData, currentlySelectedImageId,\r\n  isUsingMachineLearning) {\r\n  // check bugs with label list options order after ML\r\n  // check how fast the labelling is, what if the user cancels half way through,\r\n  // do you undo the labels that\r\n  Object(_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_1__[\"prepareCanvasForNewBoundingBoxesFromExternalSources\"])(canvas);\r\n  generateNewShapesForML(shapesData, allImageData,\r\n    currentlySelectedImageId, isUsingMachineLearning);\r\n  removeTempShapes();\r\n}\r\n\r\n\r\nfunction assignCanvasEvents() {\r\n  if (Object(_tools_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_10__[\"getNumberOfShapeTypes\"])().boundingBoxes === 0) {\r\n    const { canvas1 } = Object(_fabricUtils__WEBPACK_IMPORTED_MODULE_11__[\"getCanvasReferences\"])();\r\n    // fix for bug where upon generating ML shapes, clicking finish would have two event listeners\r\n    Object(_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(canvas1);\r\n    // fix for a bug where the newly generated shapes would not adhere to\r\n    // the boundaries when scaling\r\n    Object(_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(canvas1, null, false);\r\n  }\r\n}\r\n\r\nfunction resetCursor() {\r\n  Object(_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_5__[\"setDefaultCursorMode\"])(canvas);\r\n}\r\n\r\nfunction drawShapesViaCoordinates(shapesData, isUsingMachineLearning, reuseAlreadyUploadedImages) {\r\n  const { allImageData, currentlySelectedImageId } = getImageData();\r\n  assignCanvasEvents();\r\n  captureCurrentImageData(allImageData, currentlySelectedImageId);\r\n  if (!isUsingMachineLearning) {\r\n    drawShapesForFileUpload(shapesData, allImageData, currentlySelectedImageId,\r\n      reuseAlreadyUploadedImages);\r\n  } else {\r\n    drawShapesForML(shapesData, allImageData, currentlySelectedImageId, isUsingMachineLearning);\r\n  }\r\n  Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_13__[\"repopulateDropdown\"])();\r\n  Object(_tools_labellerModal_style__WEBPACK_IMPORTED_MODULE_6__[\"resetLabellerModalOptions\"])();\r\n  resetCursor();\r\n  Object(_tools_toolkit_buttonClickEvents_facadeWorkers_resetCanvasEventsToDefaultWorker__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(canvas);\r\n}\r\n\r\nfunction assignCanvasForDrawingShapesViaCoordinates(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js?");

/***/ }),

/***/ "./src/js/canvas/utils/fabricUtils.js":
/*!********************************************!*\
  !*** ./src/js/canvas/utils/fabricUtils.js ***!
  \********************************************/
/*! exports provided: setBoundingBoxEditToolsToBeTransparent, createNewCanvas, reasignCanvas, getCanvasReferences */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setBoundingBoxEditToolsToBeTransparent\", function() { return setBoundingBoxEditToolsToBeTransparent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNewCanvas\", function() { return createNewCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reasignCanvas\", function() { return reasignCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCanvasReferences\", function() { return getCanvasReferences; });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\nlet canvas1 = null;\r\nlet canvas2 = null;\r\nlet activeCanvasRef = null;\r\n\r\nfunction setBoundingBoxEditToolsToBeTransparent() {\r\n  fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Object.prototype.transparentCorners = false;\r\n}\r\n\r\nfunction createNewCanvas() {\r\n  canvas1 = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Canvas('c', { selection: false, width: 1, height: 1 });\r\n  canvas2 = new fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Canvas('d', { selection: false, width: 1, height: 1 });\r\n  activeCanvasRef = 'canvas1';\r\n  return canvas1;\r\n}\r\n\r\nfunction reasignCanvas() {\r\n  if (activeCanvasRef === 'canvas1') {\r\n    activeCanvasRef = 'canvas2';\r\n    return canvas2;\r\n  }\r\n  activeCanvasRef = 'canvas1';\r\n  return canvas1;\r\n}\r\n\r\nfunction getCanvasReferences() {\r\n  return { canvas1, canvas2 };\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/utils/fabricUtils.js?");

/***/ }),

/***/ "./src/js/canvas/utils/watermark.js":
/*!******************************************!*\
  !*** ./src/js/canvas/utils/watermark.js ***!
  \******************************************/
/*! exports provided: drawWatermarkOnCanvasAreaBackground, removeWatermarkFromCanvasAreaBackground */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawWatermarkOnCanvasAreaBackground\", function() { return drawWatermarkOnCanvasAreaBackground; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeWatermarkFromCanvasAreaBackground\", function() { return removeWatermarkFromCanvasAreaBackground; });\nlet watermarkDisplayed = false;\r\n\r\nfunction drawWatermarkOnCanvasAreaBackground() {\r\n  if (watermarkDisplayed) return;\r\n  const canvasWrapperParentElement = document.getElementById('canvas-wrapper-parent');\r\n  canvasWrapperParentElement.style.backgroundImage = 'url(\\'presenting 32.svg\\')';\r\n  /*\r\n    background: url(presenting\\ 9.svg);\r\n    background: url(presenting\\ 30.svg);\r\n    background: url(presenting\\ 31.svg);\r\n    background: url(presenting\\ 32.svg);\r\n  */\r\n  canvasWrapperParentElement.style.backgroundAttachment = 'fixed';\r\n  canvasWrapperParentElement.style.backgroundPosition = 'center';\r\n  canvasWrapperParentElement.style.backgroundPositionX = 'calc((100% - 210px - (59px / var(--screen-size-delta))) / 2 + 70px)';\r\n  canvasWrapperParentElement.style.backgroundSize = '500px 220px';\r\n  canvasWrapperParentElement.style.backgroundRepeat = 'no-repeat';\r\n  watermarkDisplayed = true;\r\n}\r\n\r\nfunction removeWatermarkFromCanvasAreaBackground() {\r\n  if (!watermarkDisplayed) return;\r\n  const canvasWrapperParentElement = document.getElementById('canvas-wrapper-parent');\r\n  canvasWrapperParentElement.style.backgroundImage = '';\r\n  canvasWrapperParentElement.style.backgroundAttachment = '';\r\n  canvasWrapperParentElement.style.backgroundPosition = '';\r\n  canvasWrapperParentElement.style.backgroundPositionX = '';\r\n  canvasWrapperParentElement.style.backgroundSize = '';\r\n  canvasWrapperParentElement.style.backgroundRepeat = '';\r\n  watermarkDisplayed = false;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/canvas/utils/watermark.js?");

/***/ }),

/***/ "./src/js/index.js":
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _keyEvents_keyboard_hotKeys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keyEvents/keyboard/hotKeys */ \"./src/js/keyEvents/keyboard/hotKeys.js\");\n/* harmony import */ var _keyEvents_mouse_registerEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./keyEvents/mouse/registerEvents */ \"./src/js/keyEvents/mouse/registerEvents.js\");\n/* harmony import */ var _tools_OS_OSManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tools/OS/OSManager */ \"./src/js/tools/OS/OSManager.js\");\n/* harmony import */ var _canvas_canvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./canvas/canvas */ \"./src/js/canvas/canvas.js\");\n/* harmony import */ var _tools_toolkit_init__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tools/toolkit/init */ \"./src/js/tools/toolkit/init.js\");\n/* harmony import */ var _tools_welcomeModal_init__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tools/welcomeModal/init */ \"./src/js/tools/welcomeModal/init.js\");\n/* harmony import */ var _tools_labellerModal_buttons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tools/labellerModal/buttons */ \"./src/js/tools/labellerModal/buttons.js\");\n/* harmony import */ var _tools_uploadDatasetsModal_views_viewManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tools/uploadDatasetsModal/views/viewManager */ \"./src/js/tools/uploadDatasetsModal/views/viewManager.js\");\n/* harmony import */ var _tools_machineLearningModal_views_viewManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tools/machineLearningModal/views/viewManager */ \"./src/js/tools/machineLearningModal/views/viewManager.js\");\n/* harmony import */ var _tools_exportDatasetsPopup_init__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tools/exportDatasetsPopup/init */ \"./src/js/tools/exportDatasetsPopup/init.js\");\n/* harmony import */ var _tools_settingsPopup_init__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./tools/settingsPopup/init */ \"./src/js/tools/settingsPopup/init.js\");\n/* harmony import */ var _tools_passiveEventListeners_passiveEventListeners__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./tools/passiveEventListeners/passiveEventListeners */ \"./src/js/tools/passiveEventListeners/passiveEventListeners.js\");\n/* harmony import */ var _canvas_objects_deltaValueSetters_initialiseShapeManipulationDeltas__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./canvas/objects/deltaValueSetters/initialiseShapeManipulationDeltas */ \"./src/js/canvas/objects/deltaValueSetters/initialiseShapeManipulationDeltas.js\");\n/* harmony import */ var _tools_imageList_init__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./tools/imageList/init */ \"./src/js/tools/imageList/init.js\");\n/* harmony import */ var _tools_imageList_removeImages_modal_init__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./tools/imageList/removeImages/modal/init */ \"./src/js/tools/imageList/removeImages/modal/init.js\");\n/* harmony import */ var _tools_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./tools/globalStyling/buttons/popovers */ \"./src/js/tools/globalStyling/buttons/popovers.js\");\n/* harmony import */ var _tools_globalStyling_style__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./tools/globalStyling/style */ \"./src/js/tools/globalStyling/style.js\");\n/* harmony import */ var _tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./tools/labelList/labelList */ \"./src/js/tools/labelList/labelList.js\");\n/* harmony import */ var _tools_imageSwitchPanel_style__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./tools/imageSwitchPanel/style */ \"./src/js/tools/imageSwitchPanel/style.js\");\n/* harmony import */ var _tools_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./tools/dimWindow/dimWindowService */ \"./src/js/tools/dimWindow/dimWindowService.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nObject(_tools_OS_OSManager__WEBPACK_IMPORTED_MODULE_2__[\"findUserOS\"])();\r\nObject(_tools_globalStyling_style__WEBPACK_IMPORTED_MODULE_16__[\"applyStyling\"])();\r\nObject(_canvas_canvas__WEBPACK_IMPORTED_MODULE_3__[\"constructCanvas\"])();\r\nObject(_keyEvents_keyboard_hotKeys__WEBPACK_IMPORTED_MODULE_0__[\"registerHotKeys\"])();\r\nObject(_tools_toolkit_init__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\r\nObject(_tools_labellerModal_buttons__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\r\nObject(_tools_settingsPopup_init__WEBPACK_IMPORTED_MODULE_10__[\"default\"])();\r\nObject(_keyEvents_mouse_registerEvents__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\nObject(_tools_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_19__[\"initialiseWindowDimService\"])();\r\nObject(_tools_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_15__[\"initialiseCoreButtonPopovers\"])();\r\nObject(_tools_exportDatasetsPopup_init__WEBPACK_IMPORTED_MODULE_9__[\"default\"])();\r\nObject(_tools_uploadDatasetsModal_views_viewManager__WEBPACK_IMPORTED_MODULE_7__[\"initialiseUploadDatasetsModal\"])();\r\nObject(_tools_machineLearningModal_views_viewManager__WEBPACK_IMPORTED_MODULE_8__[\"initialiseMachineLearningModal\"])();\r\nObject(_tools_passiveEventListeners_passiveEventListeners__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\r\nObject(_tools_imageList_removeImages_modal_init__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\nObject(_tools_imageList_init__WEBPACK_IMPORTED_MODULE_13__[\"default\"])();\r\nObject(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_17__[\"initialiseLabelListFunctionality\"])();\r\nObject(_tools_imageSwitchPanel_style__WEBPACK_IMPORTED_MODULE_18__[\"initialiseImageSwitchPanelFunctionality\"])();\r\nObject(_canvas_objects_deltaValueSetters_initialiseShapeManipulationDeltas__WEBPACK_IMPORTED_MODULE_12__[\"default\"])();\r\nObject(_tools_welcomeModal_init__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\r\n\n\n//# sourceURL=webpack:///./src/js/index.js?");

/***/ }),

/***/ "./src/js/keyEvents/keyboard/hotKeys.js":
/*!**********************************************!*\
  !*** ./src/js/keyEvents/keyboard/hotKeys.js ***!
  \**********************************************/
/*! exports provided: registerHotKeys, assignCanvasForHotKeys */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerHotKeys\", function() { return registerHotKeys; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForHotKeys\", function() { return assignCanvasForHotKeys; });\n/* harmony import */ var _tools_labellerModal_buttonEventHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/labellerModal/buttonEventHandlers */ \"./src/js/tools/labellerModal/buttonEventHandlers.js\");\n/* harmony import */ var _tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/labelList/labelList */ \"./src/js/tools/labelList/labelList.js\");\n/* harmony import */ var _tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/labelList/labelListHighlightUtils */ \"./src/js/tools/labelList/labelListHighlightUtils.js\");\n/* harmony import */ var _tools_uploadDatasetsModal_views_viewManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/uploadDatasetsModal/views/viewManager */ \"./src/js/tools/uploadDatasetsModal/views/viewManager.js\");\n/* harmony import */ var _tools_machineLearningModal_views_viewManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/machineLearningModal/views/viewManager */ \"./src/js/tools/machineLearningModal/views/viewManager.js\");\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../canvas/objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n/* harmony import */ var _canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../canvas/objects/boundingBox/boundingBox */ \"./src/js/canvas/objects/boundingBox/boundingBox.js\");\n/* harmony import */ var _tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../tools/toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _tools_imageList_removeImages_modal_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../tools/imageList/removeImages/modal/style */ \"./src/js/tools/imageList/removeImages/modal/style.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsOnNewPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsOnNewPolygonEventsWorker.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsEventsWorker.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker.js\");\n/* harmony import */ var _tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../tools/utils/popups/closeAllPopups */ \"./src/js/tools/utils/popups/closeAllPopups.js\");\n/* harmony import */ var _tools_OS_OSManager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../tools/OS/OSManager */ \"./src/js/tools/OS/OSManager.js\");\n/* harmony import */ var _tools_welcomeModal_style__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../tools/welcomeModal/style */ \"./src/js/tools/welcomeModal/style.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\nlet isRKeyUp = true;\r\nlet wKeyHandler = null;\r\nlet wKeyUpHandler = null;\r\n\r\nfunction rKeyUpHandler() {\r\n  isRKeyUp = true;\r\n}\r\n\r\nfunction isModalOpen() {\r\n  return Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getLabellerModalDisplayedState\"])()\r\n  || Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getUploadDatasetsModalDisplayedState\"])()\r\n  || Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getMachineLearningModalDisplayedState\"])()\r\n  || Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemoveImageModalDisplayedState\"])()\r\n  || Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getWelcomeModalDisplayedState\"])();\r\n}\r\n\r\nfunction qKeyHandler() {\r\n  if (!isModalOpen() && !Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])() && Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_9__[\"getCreatePolygonButtonState\"])() !== 'disabled') {\r\n    window.onmousedown();\r\n    if (((Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getPolygonDrawingInProgressState\"])() && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemovingPolygonPointsState\"])())\r\n    || (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getReadyToDrawShapeState\"])() && Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getLastDrawingModeState\"])() === 'polygon'))) {\r\n      Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_7__[\"addPointViaKeyboard\"])();\r\n    } else {\r\n      window.createNewPolygon();\r\n      Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"removeFillForAllShapes\"])();\r\n      canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n    }\r\n  }\r\n}\r\n\r\nfunction eKeyHandler() {\r\n  if (!isModalOpen() && !Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])() && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getDefaultState\"])() && Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_9__[\"getEditShapesButtonState\"])() !== 'disabled') {\r\n    Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\n    window.editShapes();\r\n    canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n  }\r\n}\r\n\r\n// click w to starting drawing bounding box and clicking again to finish drawing it\r\nfunction wKeyHandlerLinux() {\r\n  if (!isModalOpen() && !Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])()\r\n    && Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_9__[\"getCreateBoundingBoxButtonState\"])() !== 'disabled') {\r\n    Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getBoundingBoxDrawingInProgressState\"])()) {\r\n      Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_8__[\"finishDrawingBoundingBox\"])();\r\n    } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getReadyToDrawShapeState\"])() && Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getLastDrawingModeState\"])() === 'boundingBox') {\r\n      Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_8__[\"instantiateNewBoundingBox\"])();\r\n    } else {\r\n      window.createNewBndBox();\r\n      Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"removeFillForAllShapes\"])();\r\n      canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n    }\r\n  }\r\n}\r\n\r\n// click w and hold to draw bounding box and release to finish drawing it\r\nfunction wKeyHandlerDefault() {\r\n  if (!isModalOpen() && !Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])()\r\n        && Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_9__[\"getCreateBoundingBoxButtonState\"])() !== 'disabled') {\r\n    Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getBoundingBoxDrawingInProgressState\"])()) return;\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getReadyToDrawShapeState\"])() && Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getLastDrawingModeState\"])() === 'boundingBox') {\r\n      Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_8__[\"instantiateNewBoundingBox\"])();\r\n    } else {\r\n      window.createNewBndBox();\r\n      Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"removeFillForAllShapes\"])();\r\n      canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n    }\r\n  }\r\n}\r\n\r\nfunction wKeyUpHandlerDefault() {\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getBoundingBoxDrawingInProgressState\"])()) {\r\n    Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_8__[\"finishDrawingBoundingBox\"])();\r\n  }\r\n}\r\n\r\n\r\nfunction rKeyHandler() {\r\n  if (!isModalOpen() && !Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])() && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getShapeMovingState\"])() && Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_9__[\"getRemovePointsButtonState\"])() !== 'disabled') {\r\n    Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\n    if ((Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getPolygonDrawingInProgressState\"])() && Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemovingPolygonPointsState\"])())) {\r\n      if (isRKeyUp) {\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsOnNewPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_11__[\"removeTempPointViaKeyboard\"])();\r\n        isRKeyUp = false;\r\n      }\r\n    } else if (!Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getPolygonDrawingInProgressState\"])() && Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemovingPolygonPointsState\"])()) {\r\n      if (isRKeyUp) {\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_12__[\"removePointViaKeyboard\"])();\r\n        isRKeyUp = false;\r\n      }\r\n    } else {\r\n      window.removePoint(document.getElementById('remove-points-button'));\r\n      Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"removeFillForAllShapes\"])();\r\n      canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n    }\r\n  }\r\n}\r\n\r\nfunction aKeyHandler() {\r\n  // aware of when shape completed, not moving mouse, change to remove, but cannot remove\r\n  // also if hovering point on edit, switched to remove, then add without move, can't add\r\n  if (!isModalOpen() && !Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])() && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getShapeMovingState\"])() && Object(_tools_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_9__[\"getAddPointsButtonState\"])() !== 'disabled') {\r\n    Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\n    if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getAddingPolygonPointsState\"])()) {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_13__[\"addPointViaKeyboard\"])();\r\n    } else {\r\n      window.addPoints(document.getElementById('add-points-button'));\r\n      Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_6__[\"removeFillForAllShapes\"])();\r\n      canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n    }\r\n  }\r\n}\r\n\r\nfunction arrowUpKeyHandler() {\r\n  const arrowUp = 'ArrowUp';\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getLabellerModalDisplayedState\"])()) {\r\n    Object(_tools_labellerModal_buttonEventHandlers__WEBPACK_IMPORTED_MODULE_0__[\"arrowKeyEvents\"])(arrowUp);\r\n  } else if (Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])()) {\r\n    Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"arrowKeyEventsForLabelOtionsList\"])(arrowUp);\r\n  } else if (Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_2__[\"getCurrentlyHighlightedElement\"])()) {\r\n    Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"arrowKeyEventsForLabelList\"])(arrowUp);\r\n  }\r\n}\r\n\r\nfunction arrowDownKeyHandler() {\r\n  const arrowDown = 'ArrowDown';\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getLabellerModalDisplayedState\"])()) {\r\n    Object(_tools_labellerModal_buttonEventHandlers__WEBPACK_IMPORTED_MODULE_0__[\"arrowKeyEvents\"])(arrowDown);\r\n  } else if (Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])()) {\r\n    Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"arrowKeyEventsForLabelOtionsList\"])(arrowDown);\r\n  } else if (Object(_tools_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_2__[\"getCurrentlyHighlightedElement\"])()) {\r\n    Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"arrowKeyEventsForLabelList\"])(arrowDown);\r\n  }\r\n}\r\n\r\nfunction arrowLeftKeyHandler() {\r\n  if (!isModalOpen() && !Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])() && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getShapeMovingState\"])()) {\r\n    Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\n    window.switchImage('previous');\r\n  }\r\n}\r\n\r\nfunction arrowRightKeyHandler() {\r\n  if (!isModalOpen() && !Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])() && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getShapeMovingState\"])()) {\r\n    Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\n    window.switchImage('next');\r\n  }\r\n}\r\n\r\nfunction removeKeyHandler() {\r\n  if (isModalOpen() || Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])()) return;\r\n  Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\r\n  window.removeShape();\r\n  canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n}\r\n\r\nfunction deleteKeyHandler() {\r\n  removeKeyHandler();\r\n}\r\n\r\nfunction backspaceKeyHandler() {\r\n  removeKeyHandler();\r\n}\r\n\r\nfunction enterKeyHandler() {\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getLabellerModalDisplayedState\"])()) {\r\n    Object(_tools_labellerModal_buttonEventHandlers__WEBPACK_IMPORTED_MODULE_0__[\"labelShape\"])();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemoveImageModalDisplayedState\"])()) {\r\n    window.approveRemoveImage();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getWelcomeModalDisplayedState\"])()) {\r\n    Object(_tools_welcomeModal_style__WEBPACK_IMPORTED_MODULE_16__[\"closeWelcomeModal\"])();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getPolygonDrawingInProgressState\"])() && !Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemovingPolygonPointsState\"])()) {\r\n    Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_7__[\"generatePolygonViaKeyboard\"])();\r\n  }\r\n}\r\n\r\nfunction escapeKeyHandler() {\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getExportDatasetsPopupOpenState\"])()) {\r\n    window.exportDatasets();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getSettingsPopupOpenState\"])()) {\r\n    window.displaySettingsPopup();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getLabellerModalDisplayedState\"])()) {\r\n    window.cancelLabellingProcess();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getUploadDatasetsModalDisplayedState\"])()) {\r\n    Object(_tools_uploadDatasetsModal_views_viewManager__WEBPACK_IMPORTED_MODULE_3__[\"closeModalViaKeyboard\"])();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getMachineLearningModalDisplayedState\"])()) {\r\n    Object(_tools_machineLearningModal_views_viewManager__WEBPACK_IMPORTED_MODULE_4__[\"closeModalViaKeyboard\"])();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemoveImageModalDisplayedState\"])()) {\r\n    Object(_tools_imageList_removeImages_modal_style__WEBPACK_IMPORTED_MODULE_10__[\"closeRemoveImagesModal\"])();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getWelcomeModalDisplayedState\"])()) {\r\n    Object(_tools_welcomeModal_style__WEBPACK_IMPORTED_MODULE_16__[\"closeWelcomeModal\"])();\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getPolygonDrawingInProgressState\"])()) {\r\n    window.createNewPolygon();\r\n    canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getBoundingBoxDrawingInProgressState\"])()) {\r\n    window.createNewBndBox();\r\n    canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getAddingPolygonPointsState\"])()) {\r\n    window.addPoints(document.getElementById('add-points-button'));\r\n    canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n  } else if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getRemovingPolygonPointsState\"])()) {\r\n    window.removePoint(document.getElementById('remove-points-button'));\r\n    canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n  } else if (Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"isEditingLabelInLabelList\"])()) {\r\n    Object(_tools_labelList_labelList__WEBPACK_IMPORTED_MODULE_1__[\"cancelEditingViaKeyboard\"])();\r\n  }\r\n}\r\n\r\nfunction keyDownEventHandler(event) {\r\n  switch (event.key.toLowerCase()) {\r\n    case 'escape':\r\n      escapeKeyHandler();\r\n      break;\r\n    case 'enter':\r\n      enterKeyHandler();\r\n      break;\r\n    case 'delete':\r\n      deleteKeyHandler();\r\n      break;\r\n    case 'backspace':\r\n      backspaceKeyHandler();\r\n      break;\r\n    case 'arrowup':\r\n      arrowUpKeyHandler();\r\n      break;\r\n    case 'arrowdown':\r\n      arrowDownKeyHandler();\r\n      break;\r\n    case 'arrowleft':\r\n      arrowLeftKeyHandler();\r\n      break;\r\n    case 'arrowright':\r\n      arrowRightKeyHandler();\r\n      break;\r\n    case 'q':\r\n      qKeyHandler();\r\n      break;\r\n    case 'e':\r\n      eKeyHandler();\r\n      break;\r\n    case 'w':\r\n      wKeyHandler();\r\n      break;\r\n    case 'r':\r\n      rKeyHandler();\r\n      break;\r\n    case 'a':\r\n      aKeyHandler();\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction keyUpEventHandler(event) {\r\n  switch (event.key.toLowerCase()) {\r\n    case 'w':\r\n      wKeyUpHandler();\r\n      break;\r\n    case 'r':\r\n      rKeyUpHandler();\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction assignCanvasForHotKeys(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\nfunction assignOSSpecificFunctionality() {\r\n  if (Object(_tools_OS_OSManager__WEBPACK_IMPORTED_MODULE_15__[\"getUserOS\"])() === 'Linux') {\r\n    wKeyHandler = wKeyHandlerLinux;\r\n    wKeyUpHandler = () => {};\r\n  } else {\r\n    wKeyHandler = wKeyHandlerDefault;\r\n    wKeyUpHandler = wKeyUpHandlerDefault;\r\n  }\r\n}\r\n\r\nfunction registerHotKeys() {\r\n  document.addEventListener('keydown', keyDownEventHandler);\r\n  document.addEventListener('keyup', keyUpEventHandler);\r\n  assignOSSpecificFunctionality();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/keyEvents/keyboard/hotKeys.js?");

/***/ }),

/***/ "./src/js/keyEvents/mouse/mouseDown.js":
/*!*********************************************!*\
  !*** ./src/js/keyEvents/mouse/mouseDown.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerMouseDownEvents; });\n/* harmony import */ var _tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _tools_machineLearningModal_views_generatedLabels_changeLabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/machineLearningModal/views/generatedLabels/changeLabels */ \"./src/js/tools/machineLearningModal/views/generatedLabels/changeLabels.js\");\n/* harmony import */ var _tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils/popups/closeAllPopups */ \"./src/js/tools/utils/popups/closeAllPopups.js\");\n\r\n\r\n\r\n\r\nfunction onMouseDown(event) {\r\n  Object(_tools_utils_popups_closeAllPopups__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(event);\r\n  if (Object(_tools_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getChangingMLGeneratedLabelNamesState\"])()) {\r\n    Object(_tools_machineLearningModal_views_generatedLabels_changeLabels__WEBPACK_IMPORTED_MODULE_1__[\"stopEditingMLGeneratedLabelNameBtnClick\"])(event.target);\r\n  }\r\n}\r\n\r\nfunction registerMouseDownEvents() {\r\n  window.onmousedown = onMouseDown;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/keyEvents/mouse/mouseDown.js?");

/***/ }),

/***/ "./src/js/keyEvents/mouse/mouseMove.js":
/*!*********************************************!*\
  !*** ./src/js/keyEvents/mouse/mouseMove.js ***!
  \*********************************************/
/*! exports provided: registerMouseMoveEvents, getLastMouseMoveEvent, onMouseMoveEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerMouseMoveEvents\", function() { return registerMouseMoveEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLastMouseMoveEvent\", function() { return getLastMouseMoveEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onMouseMoveEvent\", function() { return onMouseMoveEvent; });\nlet lastMouseMoveEvent = null;\r\n\r\nfunction onMouseMoveEvent(event) {\r\n  lastMouseMoveEvent = event;\r\n}\r\n\r\nfunction getLastMouseMoveEvent() {\r\n  return lastMouseMoveEvent;\r\n}\r\n\r\nfunction registerMouseMoveEvents() {\r\n  window.trackMouseMoveEvents = onMouseMoveEvent;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/keyEvents/mouse/mouseMove.js?");

/***/ }),

/***/ "./src/js/keyEvents/mouse/registerEvents.js":
/*!**************************************************!*\
  !*** ./src/js/keyEvents/mouse/registerEvents.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerWindowMouseEvents; });\n/* harmony import */ var _mouseDown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mouseDown */ \"./src/js/keyEvents/mouse/mouseDown.js\");\n/* harmony import */ var _mouseMove__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mouseMove */ \"./src/js/keyEvents/mouse/mouseMove.js\");\n\r\n\r\n\r\nfunction registerWindowMouseEvents() {\r\n  Object(_mouseDown__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\r\n  Object(_mouseMove__WEBPACK_IMPORTED_MODULE_1__[\"registerMouseMoveEvents\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/keyEvents/mouse/registerEvents.js?");

/***/ }),

/***/ "./src/js/tools/OS/OSManager.js":
/*!**************************************!*\
  !*** ./src/js/tools/OS/OSManager.js ***!
  \**************************************/
/*! exports provided: findUserOS, getUserOS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findUserOS\", function() { return findUserOS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserOS\", function() { return getUserOS; });\nlet userOS = null;\r\nconst availableOSs = ['Win', 'Linux', 'Mac'];\r\nconst DEFAULT_OS = 'Win';\r\n\r\nfunction findUserOS() {\r\n  userOS = availableOSs.find(os => navigator.appVersion.indexOf(os) !== -1) || DEFAULT_OS;\r\n}\r\n\r\nfunction getUserOS() {\r\n  return userOS;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/OS/OSManager.js?");

/***/ }),

/***/ "./src/js/tools/dimWindow/consts.js":
/*!******************************************!*\
  !*** ./src/js/tools/dimWindow/consts.js ***!
  \******************************************/
/*! exports provided: QUICK_LIGHTUP_MILLISECONDS, SLOW_LIGHTUP_MILLISECONDS, QUICK_DIM_SECONDS, SLOW_DIM_SECONDS, THICK_DIM, THIN_DIM */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QUICK_LIGHTUP_MILLISECONDS\", function() { return QUICK_LIGHTUP_MILLISECONDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SLOW_LIGHTUP_MILLISECONDS\", function() { return SLOW_LIGHTUP_MILLISECONDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QUICK_DIM_SECONDS\", function() { return QUICK_DIM_SECONDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SLOW_DIM_SECONDS\", function() { return SLOW_DIM_SECONDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"THICK_DIM\", function() { return THICK_DIM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"THIN_DIM\", function() { return THIN_DIM; });\nconst QUICK_LIGHTUP_MILLISECONDS = 200;\r\nconst SLOW_LIGHTUP_MILLISECONDS = 500;\r\nconst QUICK_DIM_SECONDS = 0.25;\r\nconst SLOW_DIM_SECONDS = 0.5;\r\nconst THICK_DIM = 'rgba(0,0,0,0.25)';\r\nconst THIN_DIM = 'rgba(0,0,0,0.09)';\r\n\n\n//# sourceURL=webpack:///./src/js/tools/dimWindow/consts.js?");

/***/ }),

/***/ "./src/js/tools/dimWindow/dimWindowService.js":
/*!****************************************************!*\
  !*** ./src/js/tools/dimWindow/dimWindowService.js ***!
  \****************************************************/
/*! exports provided: initialiseWindowDimService, assignCanvasToDimWindowService, dimWindow, lightUpWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseWindowDimService\", function() { return initialiseWindowDimService; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasToDimWindowService\", function() { return assignCanvasToDimWindowService; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dimWindow\", function() { return dimWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lightUpWindow\", function() { return lightUpWindow; });\n/* harmony import */ var _keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../keyEvents/mouse/mouseMove */ \"./src/js/keyEvents/mouse/mouseMove.js\");\n\r\n\r\nlet windowDimElement = null;\r\nlet canvas = null;\r\n\r\nfunction lightUpWindow(transitionDurationMillisonds) {\r\n  windowDimElement.style.backgroundColor = 'rgba(0,0,0,0)';\r\n  window.setTimeout(() => {\r\n    windowDimElement.style.position = 'unset';\r\n    // if the mouse is not refreshing correctly, consider setting a timeout for dispatchevent\r\n    canvas.upperCanvasEl.dispatchEvent(new Event('mousemove'));\r\n  }, transitionDurationMillisonds);\r\n}\r\n\r\nfunction dimWindow(transitionDurationSeconds, backgroundColor) {\r\n  windowDimElement.style.transitionDuration = `${transitionDurationSeconds}s`;\r\n  windowDimElement.style.MozTransitionDuration = `${transitionDurationSeconds}s`;\r\n  windowDimElement.style.position = 'absolute';\r\n  windowDimElement.style.backgroundColor = backgroundColor;\r\n}\r\n\r\nfunction assignCanvasToDimWindowService(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\nfunction addMouseMoveEventListener() {\r\n  windowDimElement.addEventListener('mousemove', _keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_0__[\"onMouseMoveEvent\"]);\r\n}\r\n\r\nfunction assignLocalVariables() {\r\n  windowDimElement = document.getElementById('window-dim');\r\n}\r\n\r\nfunction initialiseWindowDimService() {\r\n  assignLocalVariables();\r\n  addMouseMoveEventListener();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/dimWindow/dimWindowService.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/buttonClickEvents.js":
/*!***************************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/buttonClickEvents.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignExportDatasetsPopupButtonEventHandlers; });\n/* harmony import */ var _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buttonEventHandlers */ \"./src/js/tools/exportDatasetsPopup/buttonEventHandlers.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style */ \"./src/js/tools/exportDatasetsPopup/style.js\");\n\r\n\r\n\r\nfunction assignExportDatasetsPopupButtonEventHandlers() {\r\n  window.selectExportDatasetsFormat = _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_0__[\"selectDatasetExportFormat\"];\r\n  window.exportDataset = _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_0__[\"exportDatasets\"];\r\n  window.cancelexportDatasets = _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_0__[\"closeexportDatasetsPopup\"];\r\n  window.displayExportPopupInformationPopover = _style__WEBPACK_IMPORTED_MODULE_1__[\"displayExportPopupInformationPopover\"];\r\n  window.removeExportPopupInformationPopover = _style__WEBPACK_IMPORTED_MODULE_1__[\"removeExportPopupInformationPopover\"];\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/buttonClickEvents.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/buttonEventHandlers.js":
/*!*****************************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/buttonEventHandlers.js ***!
  \*****************************************************************/
/*! exports provided: selectDatasetExportFormat, exportDatasets, closeexportDatasetsPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectDatasetExportFormat\", function() { return selectDatasetExportFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exportDatasets\", function() { return exportDatasets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeexportDatasetsPopup\", function() { return closeexportDatasetsPopup; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/exportDatasetsPopup/style.js\");\n/* harmony import */ var _fileTypes_COCOJSON__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fileTypes/COCOJSON */ \"./src/js/tools/exportDatasetsPopup/fileTypes/COCOJSON.js\");\n/* harmony import */ var _fileTypes_VGGJSON__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fileTypes/VGGJSON */ \"./src/js/tools/exportDatasetsPopup/fileTypes/VGGJSON.js\");\n/* harmony import */ var _fileTypes_CSV__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fileTypes/CSV */ \"./src/js/tools/exportDatasetsPopup/fileTypes/CSV.js\");\n/* harmony import */ var _fileTypes_XML__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fileTypes/XML */ \"./src/js/tools/exportDatasetsPopup/fileTypes/XML.js\");\n/* harmony import */ var _fileTypes_YOLOTXT__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fileTypes/YOLOTXT */ \"./src/js/tools/exportDatasetsPopup/fileTypes/YOLOTXT.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet currentlySelectedFormat = null;\r\n\r\nfunction selectDatasetExportFormat(format, target) {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"selectFormat\"])(target);\r\n  currentlySelectedFormat = currentlySelectedFormat === format ? '' : format;\r\n}\r\n\r\nfunction exportDatasets() {\r\n  let exported = true;\r\n  switch (currentlySelectedFormat) {\r\n    case 'COCO JSON':\r\n      Object(_fileTypes_COCOJSON__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\n      break;\r\n    case 'VGG JSON':\r\n      Object(_fileTypes_VGGJSON__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\r\n      break;\r\n    case 'CSV':\r\n      Object(_fileTypes_CSV__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\r\n      break;\r\n    case 'VOC XML':\r\n      Object(_fileTypes_XML__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\r\n      break;\r\n    case 'YOLO TXT':\r\n      Object(_fileTypes_YOLOTXT__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\r\n      break;\r\n    default:\r\n      exported = false;\r\n      break;\r\n  }\r\n  if (exported) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideExportDatasetsPopup\"])();\r\n  }\r\n}\r\n\r\nfunction closeexportDatasetsPopup() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideExportDatasetsPopup\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/buttonEventHandlers.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/fileTypes/COCOJSON.js":
/*!****************************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/fileTypes/COCOJSON.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return downloadCOCOJSON; });\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _labelList_labelOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../labelList/labelOptions */ \"./src/js/tools/labelList/labelOptions.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../sharedUtils/adjustShapeCoordinates */ \"./src/js/tools/exportDatasetsPopup/sharedUtils/adjustShapeCoordinates.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst decimalPlaces = 2;\r\n\r\nfunction getJSONFileName() {\r\n  const currentDate = new Date();\r\n  return `visionai-${currentDate.getDay()}-${currentDate.getMonth()}-${currentDate.getFullYear()}.json`;\r\n}\r\n\r\nfunction generateTempDownloadableJSONElement(json) {\r\n  const pom = document.createElement('a');\r\n  const bb = new Blob([JSON.stringify(json)], { type: 'application/json' });\r\n  pom.setAttribute('href', window.URL.createObjectURL(bb));\r\n  pom.setAttribute('download', getJSONFileName());\r\n  pom.dataset.downloadurl = ['application/json', pom.download, pom.href].join(':');\r\n  pom.draggable = true;\r\n  pom.classList.add('dragout');\r\n  return pom;\r\n}\r\n\r\nfunction calculatePolygonArea(coordinatesArg) {\r\n  const coordinates = [...coordinatesArg];\r\n  if (coordinatesArg[0] !== coordinatesArg[coordinatesArg.length - 2]\r\n    || coordinatesArg[1] !== coordinatesArg[coordinatesArg.length - 1]) {\r\n    coordinates.push(coordinates[0]);\r\n    coordinates.push(coordinates[1]);\r\n  }\r\n  let area = 0;\r\n  for (let i = 0; i < coordinates.length - 2; i += 2) {\r\n    area += coordinates[i] * coordinates[i + 3] - coordinates[i + 2] * coordinates[i + 1];\r\n  }\r\n  return area / 2;\r\n}\r\n\r\n\r\nfunction parsePolygonProperties(polygon, imageDimensions) {\r\n  const properties = { segmentation: [], bbox: [], area: 0 };\r\n  let minX = 999999999999;\r\n  let minY = 999999999999;\r\n  let maxX = 0;\r\n  let maxY = 0;\r\n  const pointsArray = [];\r\n  polygon.points.forEach((point) => {\r\n    const {\r\n      pointX, pointY,\r\n    } = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"adjustIncorrectPolygonPointCoordinates\"])(point, imageDimensions, decimalPlaces);\r\n    pointsArray.push(pointX);\r\n    pointsArray.push(pointY);\r\n    if (pointX < minX) { minX = pointX; }\r\n    if (pointY < minY) { minY = pointY; }\r\n    if (pointX > maxX) { maxX = pointX; }\r\n    if (pointY > maxY) { maxY = pointY; }\r\n  });\r\n  properties.segmentation = [pointsArray];\r\n  const bboxWidth = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"roundNumberToDecimalPlaces\"])(maxX - minX, decimalPlaces);\r\n  const bboxHeight = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"roundNumberToDecimalPlaces\"])(maxY - minY, decimalPlaces);\r\n  properties.bbox.push(minX);\r\n  properties.bbox.push(minY);\r\n  properties.bbox.push(bboxWidth);\r\n  properties.bbox.push(bboxHeight);\r\n  properties.area = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"roundNumberToDecimalPlaces\"])(calculatePolygonArea(pointsArray), decimalPlaces);\r\n  return properties;\r\n}\r\n\r\nfunction parseBoundingBoxProperties(boundingBox, imageDimensions) {\r\n  const properties = { segmentation: [], bbox: [], area: 0 };\r\n  const {\r\n    left, top, width, height,\r\n  } = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"adjustIncorrectBoundingBoxCoordinates\"])(boundingBox, imageDimensions, decimalPlaces);\r\n  const rightCoordinate = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"roundNumberToDecimalPlaces\"])(left + width, decimalPlaces);\r\n  const bottomCoordinate = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"roundNumberToDecimalPlaces\"])(top + height, decimalPlaces);\r\n  properties.segmentation.push(left);\r\n  properties.segmentation.push(top);\r\n  properties.segmentation.push(rightCoordinate);\r\n  properties.segmentation.push(top);\r\n  properties.segmentation.push(rightCoordinate);\r\n  properties.segmentation.push(bottomCoordinate);\r\n  properties.segmentation.push(left);\r\n  properties.segmentation.push(bottomCoordinate);\r\n  properties.bbox.push(left);\r\n  properties.bbox.push(top);\r\n  properties.bbox.push(width);\r\n  properties.bbox.push(height);\r\n  properties.area = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"roundNumberToDecimalPlaces\"])(width * height, decimalPlaces);\r\n  return properties;\r\n}\r\n\r\nfunction getCategoryIdByLabelText(categories, text) {\r\n  return categories[text];\r\n}\r\n\r\nfunction parseShapeProperties(shape, imageDimensions) {\r\n  if (shape.shapeName === 'polygon') {\r\n    return parsePolygonProperties(shape, imageDimensions);\r\n  }\r\n  if (shape.shapeName === 'bndBox') {\r\n    return parseBoundingBoxProperties(shape, imageDimensions);\r\n  }\r\n  return { segmentation: [], bbox: [], area: 0 };\r\n}\r\n\r\nfunction parseImageShapeData(shape, imageId, shapeId, imageDimensions, categories) {\r\n  const parsedImageShapeData = {};\r\n  parsedImageShapeData.id = shapeId;\r\n  parsedImageShapeData.image_id = imageId;\r\n  parsedImageShapeData.category_id = getCategoryIdByLabelText(categories, shape.shapeLabelText);\r\n  const shapeProperties = parseShapeProperties(shape, imageDimensions);\r\n  parsedImageShapeData.segmentation = shapeProperties.segmentation;\r\n  parsedImageShapeData.area = shapeProperties.area;\r\n  parsedImageShapeData.bbox = shapeProperties.bbox;\r\n  parsedImageShapeData.isCrowd = 0;\r\n  return parsedImageShapeData;\r\n}\r\n\r\n// All formats:\r\n\r\n// column_name = ['filename', 'width', 'height',\r\n// 'class', 'xmin', 'ymin', 'xmax', 'ymax']\r\n// what happens when there are no shapes in an image\r\n\r\nfunction parseImageData(image, imageId) {\r\n  const parsedImageData = {};\r\n  parsedImageData.id = imageId;\r\n  parsedImageData.width = image.imageDimensions.originalWidth;\r\n  parsedImageData.height = image.imageDimensions.originalHeight;\r\n  parsedImageData.file_name = image.name;\r\n  parsedImageData.license = 1;\r\n  parsedImageData.date_captured = '';\r\n  return parsedImageData;\r\n}\r\n\r\nfunction parseLabelData(label, labelId) {\r\n  const parsedLabelData = {};\r\n  parsedLabelData.id = labelId;\r\n  parsedLabelData.name = label.text;\r\n  parsedLabelData.supercategory = 'none';\r\n  return parsedLabelData;\r\n}\r\n\r\nfunction getImageAndAnnotationData(allImageProperties, categoriesObject) {\r\n  const imageAndAnnotationData = { images: [], annotations: [] };\r\n  let imageId = 0;\r\n  let shapeId = 0;\r\n  allImageProperties.forEach((image) => {\r\n    if (image.imageDimensions) {\r\n      imageAndAnnotationData.images.push(parseImageData(image, imageId));\r\n      Object.keys(image.shapes).forEach((key) => {\r\n        const shape = image.shapes[key].shapeRef;\r\n        imageAndAnnotationData.annotations.push(parseImageShapeData(shape, imageId,\r\n          shapeId, image.imageDimensions, categoriesObject));\r\n        shapeId += 1;\r\n      });\r\n      imageId += 1;\r\n    }\r\n  });\r\n  return imageAndAnnotationData;\r\n}\r\n\r\nfunction getCategoriesData() {\r\n  const categoriesData = { categoriesArray: [], categoriesObject: {} };\r\n  const labels = Object(_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_3__[\"getLabelOptions\"])();\r\n  let labelId = 0;\r\n  for (let i = labels.length - 1; i >= 0; i -= 1) {\r\n    const label = labels[i];\r\n    categoriesData.categoriesArray.push(parseLabelData(label, labelId));\r\n    categoriesData.categoriesObject[label.text] = labelId;\r\n    labelId += 1;\r\n  }\r\n  return categoriesData;\r\n}\r\n\r\nfunction saveCurrentImageDetails(allImageProperties) {\r\n  const currentlySelectedImageId = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentImageId\"])();\r\n  const currentlySelectedImageProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getImageProperties\"])();\r\n  const imageDimensions = {};\r\n  imageDimensions.scaleX = currentlySelectedImageProperties.scaleX;\r\n  imageDimensions.scaleY = currentlySelectedImageProperties.scaleY;\r\n  imageDimensions.originalWidth = currentlySelectedImageProperties.originalWidth;\r\n  imageDimensions.originalHeight = currentlySelectedImageProperties.originalHeight;\r\n  allImageProperties[currentlySelectedImageId].imageDimensions = imageDimensions;\r\n  allImageProperties[currentlySelectedImageId].shapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__[\"getAllExistingShapes\"])();\r\n}\r\n\r\nfunction downloadCOCOJSON() {\r\n  const marshalledObject = {};\r\n  const allImageProperties = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_1__[\"getAllImageData\"])();\r\n  saveCurrentImageDetails(allImageProperties);\r\n  const categoriesData = getCategoriesData();\r\n  const imageAndAnnotationData = getImageAndAnnotationData(allImageProperties,\r\n    categoriesData.categoriesObject);\r\n  marshalledObject.images = imageAndAnnotationData.images;\r\n  marshalledObject.annotations = imageAndAnnotationData.annotations;\r\n  marshalledObject.licenses = [{ id: 1, name: 'Unknown', url: '' }];\r\n  marshalledObject.categories = categoriesData.categoriesArray;\r\n  const downloadableElement = generateTempDownloadableJSONElement(marshalledObject);\r\n  downloadableElement.click();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/fileTypes/COCOJSON.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/fileTypes/CSV.js":
/*!***********************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/fileTypes/CSV.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return downloadCSV; });\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sharedUtils/adjustShapeCoordinates */ \"./src/js/tools/exportDatasetsPopup/sharedUtils/adjustShapeCoordinates.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst columnHeaders = {\r\n  filename: 'filename',\r\n  width: 'width',\r\n  height: 'height',\r\n  class: 'class',\r\n  xmin: 'xmin',\r\n  ymin: 'ymin',\r\n  xmax: 'xmax',\r\n  ymax: 'ymax',\r\n};\r\n\r\nfunction getJSONFileName() {\r\n  const currentDate = new Date();\r\n  return `visionai-${currentDate.getDay()}-${currentDate.getMonth()}-${currentDate.getFullYear()}.csv`;\r\n}\r\n\r\nfunction generateTempDownloadableJSONElement(json) {\r\n  const pom = document.createElement('a');\r\n  const bb = new Blob([json], { type: 'text/csv;charset=utf-8;' });\r\n  pom.setAttribute('href', window.URL.createObjectURL(bb));\r\n  pom.setAttribute('download', getJSONFileName());\r\n  pom.dataset.downloadurl = ['text/csv;charset=utf-8;', pom.download, pom.href].join(':');\r\n  pom.draggable = true;\r\n  pom.classList.add('dragout');\r\n  return pom;\r\n}\r\n\r\n// All formats:\r\n// what happens when there are no shapes in an image\r\n\r\nfunction constructCsvString(csvArray) {\r\n  let csvString = '';\r\n  for (let i = 0; i < csvArray.length; i += 1) {\r\n    let line = '';\r\n    Object.keys(csvArray[i]).forEach((key) => {\r\n      if (line !== '') line += ',';\r\n      line += csvArray[i][key];\r\n    });\r\n    csvString += `${line}\\r\\n`;\r\n  }\r\n  return csvString;\r\n}\r\n\r\nfunction buildCSVRowObj(imageData, boundingBoxData) {\r\n  return { ...imageData, ...boundingBoxData };\r\n}\r\n\r\nfunction parseBoundingBoxData(boundingBox, imageDimensions) {\r\n  const boundingBoxData = {};\r\n  boundingBoxData.class = boundingBox.shapeLabelText.replace(',', '');\r\n  const {\r\n    left, top, width, height,\r\n  } = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_4__[\"adjustIncorrectBoundingBoxCoordinates\"])(boundingBox, imageDimensions);\r\n  boundingBoxData.xmin = Math.round(left);\r\n  boundingBoxData.ymin = Math.round(top);\r\n  boundingBoxData.xmax = Math.round(left + width);\r\n  boundingBoxData.ymax = Math.round(top + height);\r\n  return boundingBoxData;\r\n}\r\n\r\nfunction getImageData(image) {\r\n  const imageData = {};\r\n  imageData.filename = image.name.replace(',', '');\r\n  imageData.width = image.imageDimensions.originalWidth;\r\n  imageData.height = image.imageDimensions.originalHeight;\r\n  return imageData;\r\n}\r\n\r\nfunction getImageAndAnnotationData(allImageProperties) {\r\n  const imageAndAnnotationData = [];\r\n  allImageProperties.forEach((image) => {\r\n    if (image.imageDimensions) {\r\n      const imageData = getImageData(image);\r\n      Object.keys(image.shapes).forEach((key) => {\r\n        const shape = image.shapes[key].shapeRef;\r\n        if (shape.shapeName === 'bndBox') {\r\n          const boundingBoxData = parseBoundingBoxData(shape, image.imageDimensions);\r\n          const csvRow = buildCSVRowObj(imageData, boundingBoxData);\r\n          imageAndAnnotationData.push(csvRow);\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return imageAndAnnotationData;\r\n}\r\n\r\nfunction saveCurrentImageDetails(allImageProperties) {\r\n  const currentlySelectedImageId = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getCurrentImageId\"])();\r\n  const currentlySelectedImageProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getImageProperties\"])();\r\n  const imageDimensions = {};\r\n  imageDimensions.scaleX = currentlySelectedImageProperties.scaleX;\r\n  imageDimensions.scaleY = currentlySelectedImageProperties.scaleY;\r\n  imageDimensions.originalWidth = currentlySelectedImageProperties.originalWidth;\r\n  imageDimensions.originalHeight = currentlySelectedImageProperties.originalHeight;\r\n  allImageProperties[currentlySelectedImageId].imageDimensions = imageDimensions;\r\n  allImageProperties[currentlySelectedImageId].shapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__[\"getAllExistingShapes\"])();\r\n}\r\n\r\nfunction downloadCSV() {\r\n  const allImageProperties = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_1__[\"getAllImageData\"])();\r\n  saveCurrentImageDetails(allImageProperties);\r\n  const csvArray = [];\r\n  const imageAndAnnotationData = getImageAndAnnotationData(allImageProperties);\r\n  csvArray.push(columnHeaders);\r\n  csvArray.push(...imageAndAnnotationData);\r\n  const csvString = constructCsvString(csvArray);\r\n  const downloadableElement = generateTempDownloadableJSONElement(csvString);\r\n  downloadableElement.click();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/fileTypes/CSV.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/fileTypes/VGGJSON.js":
/*!***************************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/fileTypes/VGGJSON.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return downloadVGGJSON; });\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sharedUtils/adjustShapeCoordinates */ \"./src/js/tools/exportDatasetsPopup/sharedUtils/adjustShapeCoordinates.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction getJSONPolygonPointsCoordinates(polygon, imageDimensions) {\r\n  const coordinatesObj = {\r\n    all_points_x: [],\r\n    all_points_y: [],\r\n  };\r\n  polygon.points.forEach((point) => {\r\n    const {\r\n      pointX, pointY,\r\n    } = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_4__[\"adjustIncorrectPolygonPointCoordinates\"])(point, imageDimensions);\r\n    coordinatesObj.all_points_x.push(pointX);\r\n    coordinatesObj.all_points_y.push(pointY);\r\n  });\r\n  return coordinatesObj;\r\n}\r\n\r\nfunction getJSONFileName() {\r\n  const currentDate = new Date();\r\n  return `visionai-${currentDate.getDay()}-${currentDate.getMonth()}-${currentDate.getFullYear()}.json`;\r\n}\r\n\r\nfunction generateTempDownloadableJSONElement(json) {\r\n  const pom = document.createElement('a');\r\n  const bb = new Blob([JSON.stringify(json)], { type: 'application/json' });\r\n  pom.setAttribute('href', window.URL.createObjectURL(bb));\r\n  pom.setAttribute('download', getJSONFileName());\r\n  pom.dataset.downloadurl = ['application/json', pom.download, pom.href].join(':');\r\n  pom.draggable = true;\r\n  pom.classList.add('dragout');\r\n  return pom;\r\n}\r\n\r\nfunction parsePolygonData(polygon, imageDimensions) {\r\n  const coordinatesObj = getJSONPolygonPointsCoordinates(polygon, imageDimensions);\r\n  return {\r\n    shape_attributes: {\r\n      name: 'polygon',\r\n      all_points_x: coordinatesObj.all_points_x,\r\n      all_points_y: coordinatesObj.all_points_y,\r\n    },\r\n    region_attributes: {\r\n      name: polygon.shapeLabelText,\r\n    },\r\n  };\r\n}\r\n\r\nfunction parseBoundingBoxData(boundingBox, imageDimensions) {\r\n  const {\r\n    left, top, width, height,\r\n  } = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_4__[\"adjustIncorrectBoundingBoxCoordinates\"])(boundingBox, imageDimensions);\r\n  return {\r\n    shape_attributes: {\r\n      name: 'rect',\r\n      x: left,\r\n      y: top,\r\n      width,\r\n      height,\r\n    },\r\n    region_attributes: {\r\n      name: boundingBox.shapeLabelText,\r\n    },\r\n  };\r\n}\r\n\r\nfunction parseShapesData(shapes, imageDimensions) {\r\n  const shapesCoordinates = [];\r\n  Object.keys(shapes).forEach((key) => {\r\n    const shape = shapes[key].shapeRef;\r\n    if (shape.shapeName === 'polygon') {\r\n      shapesCoordinates.push(parsePolygonData(shape, imageDimensions));\r\n    } else if (shape.shapeName === 'bndBox') {\r\n      shapesCoordinates.push(parseBoundingBoxData(shape, imageDimensions));\r\n    }\r\n  });\r\n  return shapesCoordinates;\r\n}\r\n\r\nfunction parseImageData(image) {\r\n  const parsedImageData = {};\r\n  parsedImageData.filename = image.name;\r\n  parsedImageData.size = image.size;\r\n  parsedImageData.regions = parseShapesData(image.shapes, image.imageDimensions);\r\n  return parsedImageData;\r\n}\r\n\r\n// All formats:\r\n// what happens when there are no shapes in an image\r\n\r\nfunction saveCurrentImageDetails(allImageProperties) {\r\n  const currentlySelectedImageId = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getCurrentImageId\"])();\r\n  const currentlySelectedImageProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getImageProperties\"])();\r\n  const imageDimensions = {};\r\n  imageDimensions.scaleX = currentlySelectedImageProperties.scaleX;\r\n  imageDimensions.scaleY = currentlySelectedImageProperties.scaleY;\r\n  allImageProperties[currentlySelectedImageId].imageDimensions = imageDimensions;\r\n  allImageProperties[currentlySelectedImageId].shapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__[\"getAllExistingShapes\"])();\r\n}\r\n\r\nfunction downloadVGGJSON() {\r\n  const allImageProperties = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_1__[\"getAllImageData\"])();\r\n  const marshalledObject = {};\r\n  saveCurrentImageDetails(allImageProperties);\r\n  allImageProperties.forEach((image) => {\r\n    const parsedImageData = parseImageData(image);\r\n    const objectName = `${parsedImageData.filename}${parsedImageData.size}`;\r\n    marshalledObject[objectName] = parsedImageData;\r\n  });\r\n  const downloadableElement = generateTempDownloadableJSONElement(marshalledObject);\r\n  downloadableElement.click();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/fileTypes/VGGJSON.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/fileTypes/XML.js":
/*!***********************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/fileTypes/XML.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return downloadXML; });\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jszip */ \"./node_modules/jszip/dist/jszip.min.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../sharedUtils/adjustShapeCoordinates */ \"./src/js/tools/exportDatasetsPopup/sharedUtils/adjustShapeCoordinates.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\nIf there is an error on generating zips - try to use a file receiver\r\nimport FileSaver from 'file-saver';\r\nimport { getImageProperties } from '../../uploadImages/drawImageOnCanvas';\r\nimport { getAllImageData, getCurrentlySelectedImageId } from '../../../../../imageList/imageList';\r\nimport { getAllExistingShapes } from '../../../../../../canvas/objects/allShapes/allShapes';\r\n\r\nfunction getFileName() {\r\n  const currentDate = new Date();\r\n  return `visionai-${currentDate.getDay()}-\r\n    ${currentDate.getMonth()}-${currentDate.getFullYear()}.zip`;\r\n}\r\n\r\nfunction downloadZip(xml) {\r\n  xml.generateAsync({ type: 'blob' }).then((blob) => {\r\n    FileSaver.saveAs(blob, getFileName());\r\n  });\r\n}\r\n\r\n*/\r\n\r\nconst decimalPlaces = 0;\r\n\r\nfunction getFileName() {\r\n  const currentDate = new Date();\r\n  return `visionai-${currentDate.getDay()}-${currentDate.getMonth()}-${currentDate.getFullYear()}.zip`;\r\n}\r\n\r\nfunction downloadZip(xml) {\r\n  const pom = document.createElement('a');\r\n  xml.generateAsync({ type: 'blob' }).then((blob) => {\r\n    pom.setAttribute('href', window.URL.createObjectURL(blob));\r\n    pom.setAttribute('download', getFileName());\r\n    pom.dataset.downloadurl = ['text/plain', pom.download, pom.href].join(':');\r\n    pom.draggable = true;\r\n    pom.classList.add('dragout');\r\n    pom.click();\r\n  });\r\n}\r\n\r\nfunction isShapeOnBottomRightBordersOfImage(xMax, yMax, imageDimensions) {\r\n  return xMax >= imageDimensions.originalWidth || yMax >= imageDimensions.originalHeight;\r\n}\r\n\r\nfunction isShapeOnTopLeftBordersOfImage(xMin, yMin) {\r\n  return xMin <= 1 || yMin <= 1;\r\n}\r\n\r\nfunction isShapeTruncated(xMin, yMin, xMax, yMax, imageDimensions) {\r\n  return isShapeOnTopLeftBordersOfImage(xMin, yMin)\r\n  || isShapeOnBottomRightBordersOfImage(xMax, yMax, imageDimensions);\r\n}\r\n\r\nfunction parseBoundingBoxData(boundingBox, imageDimensions) {\r\n  const parsedShapeData = {};\r\n  const {\r\n    left, top, width, height,\r\n  } = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"adjustIncorrectBoundingBoxCoordinates\"])(boundingBox, imageDimensions, decimalPlaces);\r\n  const xMax = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"roundNumberToDecimalPlaces\"])(left + width, decimalPlaces);\r\n  const yMax = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_5__[\"roundNumberToDecimalPlaces\"])(top + height, decimalPlaces);\r\n  const truncated = isShapeTruncated(left, top, xMax, yMax, imageDimensions) ? 1 : 0;\r\n  parsedShapeData.name = boundingBox.shapeLabelText;\r\n  parsedShapeData.pose = 'Unspecified';\r\n  parsedShapeData.truncated = truncated;\r\n  parsedShapeData.difficult = 0;\r\n  parsedShapeData.bndbox = {};\r\n  parsedShapeData.bndbox.xmin = left;\r\n  parsedShapeData.bndbox.ymin = top;\r\n  parsedShapeData.bndbox.xmax = xMax;\r\n  parsedShapeData.bndbox.ymax = yMax;\r\n  return parsedShapeData;\r\n}\r\n\r\nfunction parseImageData(image) {\r\n  const parsedImageData = {};\r\n  parsedImageData.folder = 'Unknown';\r\n  parsedImageData.filename = image.name;\r\n  parsedImageData.path = 'Unknown';\r\n  parsedImageData.source = { database: 'Unknown' };\r\n  parsedImageData.size = {};\r\n  parsedImageData.size.width = image.imageDimensions.originalWidth;\r\n  parsedImageData.size.height = image.imageDimensions.originalHeight;\r\n  parsedImageData.size.depth = 3;\r\n  parsedImageData.segmented = 0;\r\n  return parsedImageData;\r\n}\r\n\r\nfunction saveCurrentImageDetails(allImageProperties) {\r\n  const currentlySelectedImageId = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentImageId\"])();\r\n  const currentlySelectedImageProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__[\"getImageProperties\"])();\r\n  const imageDimensions = {};\r\n  imageDimensions.scaleX = currentlySelectedImageProperties.scaleX;\r\n  imageDimensions.scaleY = currentlySelectedImageProperties.scaleY;\r\n  imageDimensions.originalWidth = currentlySelectedImageProperties.originalWidth;\r\n  imageDimensions.originalHeight = currentlySelectedImageProperties.originalHeight;\r\n  allImageProperties[currentlySelectedImageId].imageDimensions = imageDimensions;\r\n  allImageProperties[currentlySelectedImageId].shapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_3__[\"getAllExistingShapes\"])();\r\n}\r\n\r\nfunction JSONtoXML(JSONObject, tabsString) {\r\n  let tagString = '';\r\n  tabsString = tabsString !== undefined ? tabsString += '\\t' : '';\r\n  Object.keys(JSONObject).forEach((key) => {\r\n    if (typeof (JSONObject[key]) === 'object') {\r\n      if (key === 'objects') {\r\n        JSONObject[key].forEach((object) => {\r\n          tagString += `${tabsString}<object>\\n${JSONtoXML(object, tabsString)}${tabsString}</object>\\n`;\r\n        });\r\n      } else {\r\n        tagString += `${tabsString}<${key}>\\n${JSONtoXML(JSONObject[key], tabsString)}${tabsString}</${key}>\\n`;\r\n      }\r\n    } else {\r\n      tagString += `${tabsString}<${key}>${JSONObject[key]}</${key}>\\n`;\r\n    }\r\n  });\r\n  return tagString;\r\n}\r\n\r\n// All formats:\r\n// what happens when there are no shapes in an image\r\n\r\nfunction buildDownloadableZip(annotatedImages) {\r\n  const zip = new jszip__WEBPACK_IMPORTED_MODULE_0___default.a();\r\n  const imagesFolder = zip.folder('images');\r\n  const regexToFindFirstWordBeforeFullStop = new RegExp('^([^.]+)');\r\n  annotatedImages.forEach((annotatedImage) => {\r\n    const imageName = `${regexToFindFirstWordBeforeFullStop.exec(annotatedImage.annotation.filename)[0]}.xml`;\r\n    const annotatedImageXML = JSONtoXML(annotatedImage);\r\n    imagesFolder.file(imageName, annotatedImageXML);\r\n  });\r\n  return imagesFolder;\r\n}\r\n\r\nfunction getObjectsArray(image) {\r\n  const objectsArray = [];\r\n  Object.keys(image.shapes).forEach((key) => {\r\n    const shape = image.shapes[key].shapeRef;\r\n    if (shape.shapeName === 'bndBox') {\r\n      objectsArray.push(parseBoundingBoxData(shape, image.imageDimensions));\r\n    }\r\n  });\r\n  return objectsArray;\r\n}\r\n\r\nfunction getImageAndAnnotationData(allImageProperties) {\r\n  const imageAndAnnotationData = [];\r\n  allImageProperties.forEach((image) => {\r\n    if (image.imageDimensions) {\r\n      let annotationsObject = {};\r\n      annotationsObject = { ...parseImageData(image) };\r\n      annotationsObject.objects = getObjectsArray(image);\r\n      if (annotationsObject.objects && annotationsObject.objects.length > 0) {\r\n        imageAndAnnotationData.push({ annotation: annotationsObject });\r\n      }\r\n    }\r\n  });\r\n  return imageAndAnnotationData;\r\n}\r\n\r\nfunction downloadXML() {\r\n  const allImageProperties = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_2__[\"getAllImageData\"])();\r\n  saveCurrentImageDetails(allImageProperties);\r\n  const imageAndAnnotationData = getImageAndAnnotationData(allImageProperties);\r\n  const downloadableZip = buildDownloadableZip(imageAndAnnotationData);\r\n  downloadZip(downloadableZip);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/fileTypes/XML.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/fileTypes/YOLOTXT.js":
/*!***************************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/fileTypes/YOLOTXT.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return downloadYOLOTXT; });\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jszip */ \"./node_modules/jszip/dist/jszip.min.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _labelList_labelOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../labelList/labelOptions */ \"./src/js/tools/labelList/labelOptions.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../sharedUtils/adjustShapeCoordinates */ \"./src/js/tools/exportDatasetsPopup/sharedUtils/adjustShapeCoordinates.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\nIf there is an error on generating zips - try to use a file receiver\r\nimport FileSaver from 'file-saver';\r\nimport { getImageProperties } from '../../uploadImages/drawImageOnCanvas';\r\nimport { getAllImageData, getCurrentlySelectedImageId } from '../../../../../imageList/imageList';\r\nimport { getAllExistingShapes } from '../../../../../../canvas/objects/allShapes/allShapes';\r\n\r\nfunction getFileName() {\r\n  const currentDate = new Date();\r\n  return `visionai-${currentDate.getDay()}-\r\n    ${currentDate.getMonth()}-${currentDate.getFullYear()}.zip`;\r\n}\r\n\r\nfunction downloadZip(xml) {\r\n  xml.generateAsync({ type: 'blob' }).then((blob) => {\r\n    FileSaver.saveAs(blob, getFileName());\r\n  });\r\n}\r\n\r\n*/\r\nfunction getFileName() {\r\n  const currentDate = new Date();\r\n  return `visionai-${currentDate.getDay()}-${currentDate.getMonth()}-${currentDate.getFullYear()}.zip`;\r\n}\r\n\r\nfunction downloadZip(xml) {\r\n  const pom = document.createElement('a');\r\n  xml.generateAsync({ type: 'blob' }).then((blob) => {\r\n    pom.setAttribute('href', window.URL.createObjectURL(blob));\r\n    pom.setAttribute('download', getFileName());\r\n    pom.dataset.downloadurl = ['text/plain', pom.download, pom.href].join(':');\r\n    pom.draggable = true;\r\n    pom.classList.add('dragout');\r\n    pom.click();\r\n  });\r\n}\r\n\r\nfunction buildDownloadableZip(annotationFilesData, classesFileData) {\r\n  const zip = new jszip__WEBPACK_IMPORTED_MODULE_0___default.a();\r\n  const imagesFolder = zip.folder('images');\r\n  annotationFilesData.forEach((annotationFile) => {\r\n    imagesFolder.file(annotationFile.imageName, annotationFile.data);\r\n  });\r\n  imagesFolder.file('classes.txt', classesFileData);\r\n  return imagesFolder;\r\n}\r\n\r\nfunction generateClassesFileData(classesData) {\r\n  let classesString = '';\r\n  Object.keys(classesData).forEach((key) => {\r\n    classesString += key.replace(',', '');\r\n    classesString += '\\n';\r\n  });\r\n  return classesString;\r\n}\r\n\r\nfunction getClassIdByLabelText(classes, text) {\r\n  return classes[text];\r\n}\r\n\r\nfunction parseBoundingBoxData(boundingBox, imageDimensions, classes) {\r\n  const boundingBoxData = {};\r\n  boundingBoxData.class = getClassIdByLabelText(classes, boundingBox.shapeLabelText);\r\n  const {\r\n    left, top, width, height,\r\n  } = Object(_sharedUtils_adjustShapeCoordinates__WEBPACK_IMPORTED_MODULE_6__[\"adjustIncorrectBoundingBoxCoordinates\"])(boundingBox, imageDimensions);\r\n  const shapeWidthToImageWidth = width / imageDimensions.originalWidth;\r\n  const shapeHeightToImageHeight = height / imageDimensions.originalHeight;\r\n  const xmiddleToImageWidth = (left + (width / 2)) / imageDimensions.originalWidth;\r\n  const ymiddleToImageHeight = (top + (height / 2)) / imageDimensions.originalHeight;\r\n  boundingBoxData.xmiddle = xmiddleToImageWidth.toFixed(6);\r\n  boundingBoxData.ymiddle = ymiddleToImageHeight.toFixed(6);\r\n  boundingBoxData.width = shapeWidthToImageWidth.toFixed(6);\r\n  boundingBoxData.height = shapeHeightToImageHeight.toFixed(6);\r\n  return boundingBoxData;\r\n}\r\n\r\nfunction getAnnotatedString(boundingBox, imageDimensions, classesData) {\r\n  let str = '';\r\n  const boundingBoxData = parseBoundingBoxData(boundingBox, imageDimensions,\r\n    classesData);\r\n  Object.keys(boundingBoxData).forEach((boundingBoxKey) => {\r\n    str += `${boundingBoxData[boundingBoxKey]} `;\r\n  });\r\n  return str;\r\n}\r\n\r\nfunction getImageAndAnnotationData(allImageProperties, classesData) {\r\n  const imageAndAnnotationData = [];\r\n  allImageProperties.forEach((image) => {\r\n    if (image.imageDimensions) {\r\n      let imageString = '';\r\n      Object.keys(image.shapes).forEach((key) => {\r\n        const shape = image.shapes[key].shapeRef;\r\n        if (shape.shapeName === 'bndBox') {\r\n          imageString += getAnnotatedString(shape, image.imageDimensions, classesData);\r\n          imageString = `${imageString.trim()}\\n`;\r\n        }\r\n      });\r\n      if (imageString.length > 0) {\r\n        imageAndAnnotationData.push({ imageName: image.name.replace(',', ''), data: imageString });\r\n      }\r\n    }\r\n  });\r\n  return imageAndAnnotationData;\r\n}\r\n\r\nfunction generateAnnotationFilesData(allImageProperties, classesData) {\r\n  const imageAndAnnotationData = getImageAndAnnotationData(allImageProperties, classesData);\r\n  const annotationsFiles = [];\r\n  const regexToFindFirstWordBeforeFullStop = new RegExp('^([^.]+)');\r\n  imageAndAnnotationData.forEach((annotatedImage) => {\r\n    const imageName = `${regexToFindFirstWordBeforeFullStop.exec(annotatedImage.imageName)[0]}.txt`;\r\n    annotationsFiles.push({ imageName, data: annotatedImage.data });\r\n  });\r\n  return annotationsFiles;\r\n}\r\n\r\nfunction getClassesData() {\r\n  const classesData = {};\r\n  const labels = Object(_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_4__[\"getLabelOptions\"])();\r\n  const maxUsedLabelIndex = Object(_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_4__[\"getMaxUsedLabelIndex\"])();\r\n  let labelId = 0;\r\n  // the for loop is reversed because the new labels are pushed to the front\r\n  for (let i = maxUsedLabelIndex; i >= 0; i -= 1) {\r\n    classesData[labels[i].text] = labelId;\r\n    labelId += 1;\r\n  }\r\n  return classesData;\r\n}\r\n\r\nfunction saveCurrentImageDetails(allImageProperties) {\r\n  const currentlySelectedImageId = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_5__[\"getCurrentImageId\"])();\r\n  const currentlySelectedImageProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__[\"getImageProperties\"])();\r\n  const imageDimensions = {};\r\n  imageDimensions.scaleX = currentlySelectedImageProperties.scaleX;\r\n  imageDimensions.scaleY = currentlySelectedImageProperties.scaleY;\r\n  imageDimensions.originalWidth = currentlySelectedImageProperties.originalWidth;\r\n  imageDimensions.originalHeight = currentlySelectedImageProperties.originalHeight;\r\n  allImageProperties[currentlySelectedImageId].imageDimensions = imageDimensions;\r\n  allImageProperties[currentlySelectedImageId].shapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_3__[\"getAllExistingShapes\"])();\r\n}\r\n\r\nfunction downloadYOLOTXT() {\r\n  const allImageProperties = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_2__[\"getAllImageData\"])();\r\n  saveCurrentImageDetails(allImageProperties);\r\n  const classesData = getClassesData();\r\n  const annotationFilesData = generateAnnotationFilesData(allImageProperties, classesData);\r\n  const classesFileData = generateClassesFileData(classesData);\r\n  const downloadableZip = buildDownloadableZip(annotationFilesData, classesFileData);\r\n  downloadZip(downloadableZip);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/fileTypes/YOLOTXT.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/init.js":
/*!**************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/init.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseExportDatasetsPopup; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/exportDatasetsPopup/style.js\");\n/* harmony import */ var _buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buttonClickEvents */ \"./src/js/tools/exportDatasetsPopup/buttonClickEvents.js\");\n\r\n\r\n\r\nfunction initialiseExportDatasetsPopup() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"initialiseExportDatasetsPopupStyling\"])();\r\n  Object(_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/init.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/sharedUtils/adjustShapeCoordinates.js":
/*!********************************************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/sharedUtils/adjustShapeCoordinates.js ***!
  \********************************************************************************/
/*! exports provided: roundNumberToDecimalPlaces, adjustIncorrectBoundingBoxCoordinates, adjustIncorrectPolygonPointCoordinates */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"roundNumberToDecimalPlaces\", function() { return roundNumberToDecimalPlaces; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"adjustIncorrectBoundingBoxCoordinates\", function() { return adjustIncorrectBoundingBoxCoordinates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"adjustIncorrectPolygonPointCoordinates\", function() { return adjustIncorrectPolygonPointCoordinates; });\n/* harmony import */ var _canvas_objects_boundingBox_properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../canvas/objects/boundingBox/properties */ \"./src/js/canvas/objects/boundingBox/properties.js\");\n\r\n\r\nconst widthDelta = 3.5;\r\nconst heightDelta = 2;\r\n\r\nfunction adjustBoundingBoxCoordinates(left, top, width, height, imageDimensions) {\r\n  const {\r\n    scaleX, scaleY, originalWidth, originalHeight,\r\n  } = imageDimensions;\r\n  if (left + width > originalWidth - widthDelta / scaleX) {\r\n    width = originalWidth - left;\r\n  } else {\r\n    width += _canvas_objects_boundingBox_properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getStandaloneBoundingBoxProperties(imageDimensions).strokeWidth;\r\n  }\r\n  if (top + height > originalHeight - heightDelta / scaleY) {\r\n    height = originalHeight - top;\r\n  } else {\r\n    height += _canvas_objects_boundingBox_properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getStandaloneBoundingBoxProperties(imageDimensions).strokeWidth;\r\n  }\r\n  return {\r\n    finalLeft: left,\r\n    finalTop: top,\r\n    finalWidth: width,\r\n    finalHeight: height,\r\n  };\r\n}\r\n\r\nfunction calculateBoundingBoxCoordinates(boundingBox, imageDimensions) {\r\n  const left = boundingBox.left / imageDimensions.scaleX;\r\n  const top = boundingBox.top / imageDimensions.scaleY;\r\n  const width = boundingBox.width / imageDimensions.scaleX;\r\n  const height = boundingBox.height / imageDimensions.scaleY;\r\n  return {\r\n    left, top, width, height,\r\n  };\r\n}\r\n\r\nfunction floorNumber(number, roundingValue) {\r\n  if (roundingValue === null) { return number; }\r\n  return Math.floor(number * roundingValue) / roundingValue;\r\n}\r\n\r\nfunction getRoundingValue(decimalPlaces) {\r\n  if (decimalPlaces === 0) { return 1; }\r\n  if (decimalPlaces === null || decimalPlaces === undefined) { return null; }\r\n  let roundingValue = 1;\r\n  while (decimalPlaces > 0) {\r\n    roundingValue *= 10;\r\n    decimalPlaces -= 1;\r\n  }\r\n  return roundingValue;\r\n}\r\n\r\nfunction roundNumberToDecimalPlaces(number, decimalPlaces) {\r\n  const roundingValue = getRoundingValue(decimalPlaces);\r\n  return floorNumber(number, roundingValue);\r\n}\r\n\r\nfunction ceilNumber(number, roundingValue) {\r\n  if (roundingValue === null) { return number; }\r\n  return Math.ceil(number * roundingValue) / roundingValue;\r\n}\r\n\r\nfunction adjustIncorrectBoundingBoxCoordinates(boundingBox, imageDimensions, decimalPlaces) {\r\n  const roundingValue = getRoundingValue(decimalPlaces);\r\n  const {\r\n    left, top, width, height,\r\n  } = { ...calculateBoundingBoxCoordinates(boundingBox, imageDimensions, roundingValue) };\r\n  const finalCoordinates = adjustBoundingBoxCoordinates(\r\n    left, top, width, height, imageDimensions, roundingValue,\r\n  );\r\n  return {\r\n    left: floorNumber(finalCoordinates.finalLeft, roundingValue),\r\n    top: floorNumber(finalCoordinates.finalTop, roundingValue),\r\n    width: ceilNumber(finalCoordinates.finalWidth, roundingValue),\r\n    height: ceilNumber(finalCoordinates.finalHeight, roundingValue),\r\n  };\r\n}\r\n\r\nfunction adjustIncorrectPolygonPointCoordinates(polygonPoint, imageDimensions, decimalPlaces) {\r\n  const roundingValue = getRoundingValue(decimalPlaces);\r\n  let pointX = polygonPoint.x / imageDimensions.scaleX;\r\n  let pointY = polygonPoint.y / imageDimensions.scaleY;\r\n  const {\r\n    scaleX, scaleY, originalWidth, originalHeight,\r\n  } = imageDimensions;\r\n  if (pointX > originalWidth - widthDelta / scaleX) {\r\n    pointX = originalWidth;\r\n  }\r\n  if (pointY > originalHeight - heightDelta / scaleY) {\r\n    pointY = originalHeight;\r\n  }\r\n  return {\r\n    pointX: floorNumber(pointX, roundingValue),\r\n    pointY: floorNumber(pointY, roundingValue),\r\n  };\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/sharedUtils/adjustShapeCoordinates.js?");

/***/ }),

/***/ "./src/js/tools/exportDatasetsPopup/style.js":
/*!***************************************************!*\
  !*** ./src/js/tools/exportDatasetsPopup/style.js ***!
  \***************************************************/
/*! exports provided: removeExportPopupInformationPopover, displayExportDatasetsPopup, initialiseExportDatasetsPopupStyling, displayExportPopupInformationPopover, setStickyExportDatasetsPopupProperties, selectFormat, hideExportDatasetsPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeExportPopupInformationPopover\", function() { return removeExportPopupInformationPopover; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayExportDatasetsPopup\", function() { return displayExportDatasetsPopup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseExportDatasetsPopupStyling\", function() { return initialiseExportDatasetsPopupStyling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayExportPopupInformationPopover\", function() { return displayExportPopupInformationPopover; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setStickyExportDatasetsPopupProperties\", function() { return setStickyExportDatasetsPopupProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectFormat\", function() { return selectFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideExportDatasetsPopup\", function() { return hideExportDatasetsPopup; });\n/* harmony import */ var _globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globalStatistics/globalStatistics */ \"./src/js/tools/globalStatistics/globalStatistics.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _utils_popups_stickyPopup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/popups/stickyPopup */ \"./src/js/tools/utils/popups/stickyPopup.js\");\n\r\n\r\n\r\n\r\nlet isCheckboxSelected = false;\r\nlet isExportButtonActive = false;\r\nlet currentlyHoveredPopoverId = null;\r\nlet exportButtonElement = null;\r\nlet exportToolkitButtonElement = null;\r\nlet exportDatasetsPopupParentElement = null;\r\nlet currentlySelectedCheckboxElement = null;\r\nlet genericFormatOptionsTextElements = null;\r\nlet genericFormatOptionsCheckboxElements = null;\r\nlet boundingBoxFormatOptionsTextElements = null;\r\nlet boundingBoxFormatOptionsCheckboxElements = null;\r\nconst POPOVER_DISPLAY_LAG_MILLISECONDS = 0;\r\nconst stickyProperties = { isPopupSticky: false, stickCoordinates: 0 };\r\n\r\nfunction setStickyExportDatasetsPopupProperties() {\r\n  Object(_utils_popups_stickyPopup__WEBPACK_IMPORTED_MODULE_2__[\"setStickyPopupProperties\"])(exportDatasetsPopupParentElement,\r\n    exportToolkitButtonElement, stickyProperties);\r\n}\r\n\r\nfunction removeExportPopupInformationPopover(id) {\r\n  currentlyHoveredPopoverId = null;\r\n  const popover = document.getElementById(`format-option-checkbox-popover-${id}`);\r\n  const arrow = document.getElementById(`format-option-checkbox-arrow-${id}`);\r\n  popover.style.display = 'none';\r\n  arrow.style.display = 'none';\r\n}\r\n\r\nfunction displayPopover(id) {\r\n  currentlyHoveredPopoverId = id;\r\n  setTimeout(() => {\r\n    if (currentlyHoveredPopoverId === id) {\r\n      const popover = document.getElementById(`format-option-checkbox-popover-${id}`);\r\n      const arrow = document.getElementById(`format-option-checkbox-arrow-${id}`);\r\n      popover.style.display = 'block';\r\n      arrow.style.display = 'block';\r\n    }\r\n  }, POPOVER_DISPLAY_LAG_MILLISECONDS);\r\n}\r\n\r\nfunction displayExportPopupInformationPopover(id) {\r\n  if (Object(_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_0__[\"getNumberOfShapeTypes\"])().polygons > 0) {\r\n    displayPopover(id);\r\n  }\r\n}\r\n\r\nfunction uncheckCurrentlySelectedCheckbox() {\r\n  currentlySelectedCheckboxElement.checked = false;\r\n}\r\n\r\nfunction enableExportButton() {\r\n  if (!isExportButtonActive) {\r\n    exportButtonElement.classList.add('popup-proceed-button');\r\n    exportButtonElement.classList.replace('popup-label-button-disabled', 'popup-label-button');\r\n    isExportButtonActive = true;\r\n  }\r\n}\r\n\r\nfunction disableExportButton() {\r\n  exportButtonElement.classList.remove('popup-proceed-button');\r\n  exportButtonElement.classList.replace('popup-label-button', 'popup-label-button-disabled');\r\n  isExportButtonActive = false;\r\n}\r\n\r\nfunction enableBoundingBoxFormatOptions() {\r\n  for (let i = 0; i < boundingBoxFormatOptionsCheckboxElements.length; i += 1) {\r\n    boundingBoxFormatOptionsTextElements[i].style.color = 'black';\r\n    boundingBoxFormatOptionsCheckboxElements[i].disabled = false;\r\n    boundingBoxFormatOptionsCheckboxElements[i].style.cursor = 'pointer';\r\n  }\r\n}\r\n\r\nfunction enableGenericShapeFormatOptions() {\r\n  for (let i = 0; i < genericFormatOptionsCheckboxElements.length; i += 1) {\r\n    genericFormatOptionsTextElements[i].style.color = 'black';\r\n    genericFormatOptionsCheckboxElements[i].disabled = false;\r\n    genericFormatOptionsCheckboxElements[i].style.cursor = 'pointer';\r\n  }\r\n}\r\n\r\nfunction disableBoundingBoxFormatOptions() {\r\n  for (let i = 0; i < boundingBoxFormatOptionsTextElements.length; i += 1) {\r\n    boundingBoxFormatOptionsTextElements[i].style.color = '#bfbfbf';\r\n    boundingBoxFormatOptionsCheckboxElements[i].disabled = true;\r\n    boundingBoxFormatOptionsCheckboxElements[i].style.cursor = '';\r\n    if (boundingBoxFormatOptionsCheckboxElements[i].checked === true) {\r\n      boundingBoxFormatOptionsCheckboxElements[i].checked = false;\r\n      isCheckboxSelected = false;\r\n      disableExportButton();\r\n    }\r\n  }\r\n}\r\n\r\nfunction disablePolygonFormatOptions() {\r\n  for (let i = 0; i < genericFormatOptionsTextElements.length; i += 1) {\r\n    genericFormatOptionsTextElements[i].style.color = '#bfbfbf';\r\n    genericFormatOptionsCheckboxElements[i].disabled = true;\r\n    genericFormatOptionsCheckboxElements[i].style.cursor = '';\r\n    if (genericFormatOptionsCheckboxElements[i].checked === true) {\r\n      genericFormatOptionsCheckboxElements[i].checked = false;\r\n      isCheckboxSelected = false;\r\n      disableExportButton();\r\n    }\r\n  }\r\n}\r\n\r\nfunction disableFormatOptionsTextIfNoBoundingBoxes() {\r\n  const { boundingBoxes, polygons } = Object(_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_0__[\"getNumberOfShapeTypes\"])();\r\n  if (boundingBoxes === 0) {\r\n    disableBoundingBoxFormatOptions();\r\n    if (polygons === 0) {\r\n      disablePolygonFormatOptions();\r\n      disableExportButton();\r\n    } else {\r\n      enableGenericShapeFormatOptions();\r\n    }\r\n  } else {\r\n    enableBoundingBoxFormatOptions();\r\n    enableGenericShapeFormatOptions();\r\n  }\r\n}\r\n\r\nfunction selectFormat(target) {\r\n  if (!isCheckboxSelected) {\r\n    currentlySelectedCheckboxElement = target;\r\n    enableExportButton();\r\n    isCheckboxSelected = true;\r\n  } else if (target === currentlySelectedCheckboxElement) {\r\n    isCheckboxSelected = false;\r\n    disableExportButton();\r\n  } else {\r\n    uncheckCurrentlySelectedCheckbox();\r\n    currentlySelectedCheckboxElement = target;\r\n  }\r\n}\r\n\r\nfunction displayExportDatasetsPopup() {\r\n  disableFormatOptionsTextIfNoBoundingBoxes();\r\n  Object(_utils_popups_stickyPopup__WEBPACK_IMPORTED_MODULE_2__[\"setPopupPosition\"])(exportDatasetsPopupParentElement, exportToolkitButtonElement);\r\n  exportDatasetsPopupParentElement.style.display = 'block';\r\n  setStickyExportDatasetsPopupProperties();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setExportDatasetsPopupOpenState\"])(true);\r\n}\r\n\r\nfunction hideExportDatasetsPopup() {\r\n  exportDatasetsPopupParentElement.style.display = 'none';\r\n  exportDatasetsPopupParentElement.style.bottom = '';\r\n  stickyProperties.isPopupSticky = false;\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setExportDatasetsPopupOpenState\"])(false);\r\n}\r\n\r\nfunction setInitialCheckBoxInputValues() {\r\n  document.getElementById('export-datasets-popup-coco-json-format-checkbox').checked = false;\r\n  document.getElementById('export-datasets-popup-vgg-json-format-checkbox').checked = false;\r\n  document.getElementById('export-datasets-popup-csv-format-checkbox').checked = false;\r\n  document.getElementById('export-datasets-popup-voc-xml-format-checkbox').checked = false;\r\n  document.getElementById('export-datasets-popup-yolo-txt-format-checkbox').checked = false;\r\n}\r\n\r\nfunction assignExportDatasetsPopupElementLocalVariables() {\r\n  exportToolkitButtonElement = document.getElementById('export-datasets-button');\r\n  exportButtonElement = document.getElementById('export-datasets-popup-export-button');\r\n  exportDatasetsPopupParentElement = document.getElementById('export-datasets-popup-parent');\r\n  boundingBoxFormatOptionsTextElements = document.getElementsByClassName('bounding-box-format-option-text');\r\n  boundingBoxFormatOptionsCheckboxElements = document.getElementsByClassName('bounding-box-format-option-checkbox');\r\n  genericFormatOptionsTextElements = document.getElementsByClassName('generic-format-option-text');\r\n  genericFormatOptionsCheckboxElements = document.getElementsByClassName('generic-format-option-checkbox');\r\n}\r\n\r\nfunction initialiseExportDatasetsPopupStyling() {\r\n  assignExportDatasetsPopupElementLocalVariables();\r\n  setInitialCheckBoxInputValues();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/exportDatasetsPopup/style.js?");

/***/ }),

/***/ "./src/js/tools/globalStatistics/globalStatistics.js":
/*!***********************************************************!*\
  !*** ./src/js/tools/globalStatistics/globalStatistics.js ***!
  \***********************************************************/
/*! exports provided: incrementShapeType, decrementShapeType, getNumberOfShapeTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"incrementShapeType\", function() { return incrementShapeType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decrementShapeType\", function() { return decrementShapeType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getNumberOfShapeTypes\", function() { return getNumberOfShapeTypes; });\nconst numberOfShapeTypes = { polygons: 0, boundingBoxes: 0 };\r\n\r\nfunction incrementShapeType(shapeObj) {\r\n  if (shapeObj.shapeName === 'polygon') {\r\n    numberOfShapeTypes.polygons += 1;\r\n  } else if (shapeObj.shapeName === 'bndBox') {\r\n    numberOfShapeTypes.boundingBoxes += 1;\r\n  }\r\n}\r\n\r\nfunction decrementShapeType(shapeObj) {\r\n  if (shapeObj.shapeName === 'polygon') {\r\n    numberOfShapeTypes.polygons -= 1;\r\n  } else if (shapeObj.shapeName === 'bndBox') {\r\n    numberOfShapeTypes.boundingBoxes -= 1;\r\n  }\r\n}\r\n\r\nfunction getNumberOfShapeTypes() {\r\n  return numberOfShapeTypes;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStatistics/globalStatistics.js?");

/***/ }),

/***/ "./src/js/tools/globalStyling/buttons/popovers.js":
/*!********************************************************!*\
  !*** ./src/js/tools/globalStyling/buttons/popovers.js ***!
  \********************************************************/
/*! exports provided: initialiseCoreButtonPopovers, removeActiveButtonPopover */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseCoreButtonPopovers\", function() { return initialiseCoreButtonPopovers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeActiveButtonPopover\", function() { return removeActiveButtonPopover; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\nconst buttonPopovers = {};\r\nconst HOVER_TIMEOUT = 500;\r\nconst SWITCH_BUTTON_DISPLAY_PERSISTANCE_TIMEOUT = 200;\r\n\r\nconst pendingbuttonPopovers = [];\r\nlet activePopover = null;\r\nlet persistButtonPopoverDisplay = false;\r\nlet doNotDisplayButtonAfterTimeoutState = false;\r\n\r\nfunction assignLeftSideBarMouseEnterEvent() {\r\n  document.getElementById('left-side-bar').addEventListener('mouseenter', () => {\r\n    doNotDisplayButtonAfterTimeoutState = false;\r\n  });\r\n}\r\n\r\nfunction checkIfSettingsButtonNotUp(event) {\r\n  if (event.target.id === 'settings-button') {\r\n    if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getSettingsPopupOpenState\"])()) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction checkIfExportDatasetsButtonNotUp(event) {\r\n  if (event.target.id === 'export-datasets-button') {\r\n    if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getExportDatasetsPopupOpenState\"])()) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction displayPopover(middlewareChecks, id) {\r\n  for (let i = 0; i < middlewareChecks.length; i += 1) {\r\n    if (!middlewareChecks[i]()) return;\r\n  }\r\n  pendingbuttonPopovers[0].style.display = 'block';\r\n  activePopover = buttonPopovers[id];\r\n}\r\n\r\nfunction removeActiveButtonPopover() {\r\n  doNotDisplayButtonAfterTimeoutState = true;\r\n  if (activePopover) {\r\n    activePopover.style.display = 'none';\r\n    activePopover = null;\r\n  }\r\n}\r\n\r\nfunction checkIfSettingsButtonNotUpMiddleware(event) {\r\n  return checkIfSettingsButtonNotUp(event);\r\n}\r\n\r\nfunction checkIfExportDatasetsButtonNotUpMiddleware(event) {\r\n  return checkIfExportDatasetsButtonNotUp(event);\r\n}\r\n\r\nfunction mouseEnterCoreButton(event, id) {\r\n  const { tagName } = event.target;\r\n  if (tagName === 'BUTTON' || tagName === 'A') {\r\n    pendingbuttonPopovers.unshift(buttonPopovers[id]);\r\n    if (persistButtonPopoverDisplay) {\r\n      displayPopover([checkIfSettingsButtonNotUpMiddleware.bind(this, event),\r\n        checkIfExportDatasetsButtonNotUpMiddleware.bind(this, event)], id);\r\n    } else {\r\n      setTimeout(() => {\r\n        if (pendingbuttonPopovers.length === 1 && buttonPopovers[id] === pendingbuttonPopovers[0]\r\n            && !doNotDisplayButtonAfterTimeoutState) {\r\n          displayPopover([checkIfSettingsButtonNotUp.bind(this, event),\r\n            checkIfExportDatasetsButtonNotUp.bind(this, event)], id);\r\n        }\r\n        doNotDisplayButtonAfterTimeoutState = false;\r\n      }, HOVER_TIMEOUT);\r\n    }\r\n  }\r\n}\r\n\r\nfunction mouseLeaveCoreButton(event) {\r\n  const { tagName } = event.target;\r\n  if (tagName === 'BUTTON' || tagName === 'A') {\r\n    if (activePopover !== null) {\r\n      activePopover.style.display = 'none';\r\n      activePopover = null;\r\n      persistButtonPopoverDisplay = true;\r\n      setTimeout(() => {\r\n        persistButtonPopoverDisplay = false;\r\n      }, SWITCH_BUTTON_DISPLAY_PERSISTANCE_TIMEOUT);\r\n    }\r\n    pendingbuttonPopovers.pop();\r\n  }\r\n  doNotDisplayButtonAfterTimeoutState = false;\r\n}\r\n\r\nfunction addPopoverFunctionalityToButton(buttonElementId, popoverElementId) {\r\n  const buttonElement = document.getElementById(buttonElementId);\r\n  const popoverElement = document.getElementById(popoverElementId);\r\n  buttonElement.addEventListener('mouseenter', (event) => {\r\n    mouseEnterCoreButton(event, popoverElement.id);\r\n  });\r\n  buttonElement.addEventListener('mouseleave', (event) => {\r\n    mouseLeaveCoreButton(event);\r\n  });\r\n  buttonPopovers[popoverElement.id] = popoverElement;\r\n}\r\n\r\nfunction addPopoverFunctionalityToButtons() {\r\n  addPopoverFunctionalityToButton('edit-shapes-button', 'default-button-popover');\r\n  addPopoverFunctionalityToButton('create-bounding-box-button', 'bounding-box-button-popover');\r\n  addPopoverFunctionalityToButton('create-polygon-button', 'polygon-button-popover');\r\n  addPopoverFunctionalityToButton('add-points-button', 'add-points-button-popover');\r\n  addPopoverFunctionalityToButton('remove-points-button', 'remove-points-button-popover');\r\n  addPopoverFunctionalityToButton('remove-shape-button', 'remove-shape-button-popover');\r\n  addPopoverFunctionalityToButton('upload-datasets-button', 'upload-datasets-button-popover');\r\n  addPopoverFunctionalityToButton('export-datasets-button', 'export-datasets-button-popover');\r\n  addPopoverFunctionalityToButton('machine-learning-button', 'machine-learning-button-popover');\r\n  addPopoverFunctionalityToButton('zoom-in-button', 'zoom-in-button-popover');\r\n  addPopoverFunctionalityToButton('zoom-out-button', 'zoom-out-button-popover');\r\n  addPopoverFunctionalityToButton('settings-button', 'settings-button-popover');\r\n  addPopoverFunctionalityToButton('upload-images-button', 'upload-images-button-popover');\r\n  addPopoverFunctionalityToButton('remove-images-button', 'remove-images-button-popover');\r\n  addPopoverFunctionalityToButton('previous-image-button', 'previous-image-button-popover');\r\n  addPopoverFunctionalityToButton('next-image-button-popover', 'next-image-button-popover');\r\n  addPopoverFunctionalityToButton('title-github-mark-container', 'github-mark-button-popover');\r\n}\r\n\r\nfunction initialiseCoreButtonPopovers() {\r\n  addPopoverFunctionalityToButtons();\r\n  assignLeftSideBarMouseEnterEvent();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStyling/buttons/popovers.js?");

/***/ }),

/***/ "./src/js/tools/globalStyling/buttons/style.js":
/*!*****************************************************!*\
  !*** ./src/js/tools/globalStyling/buttons/style.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setButtonsStyle; });\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n\r\n\r\nfunction applyStylingToElementsArray(elementsArray, property, value) {\r\n  for (let i = 0; i < elementsArray.length; i += 1) {\r\n    elementsArray[i].style[property] = value;\r\n  }\r\n}\r\n\r\nfunction applyLargeScreenButtonsStyle(buttonElements) {\r\n  buttonElements.labellerModalSubmitButtonElement.style.paddingBottom = '4px';\r\n  buttonElements.labellerModalCancelButtonElement.style.paddingBottom = '4px';\r\n  applyStylingToElementsArray(buttonElements.buttonClassElements, 'lineHeight', 1.35);\r\n  applyStylingToElementsArray(buttonElements.popupLabelButtonClassElements, 'paddingTop', '6px');\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n    buttonElements.exportDatasetsPopupExportButton.style.paddingTop = '5px';\r\n    buttonElements.exportDatasetsPopupExportButton.style.paddingBottom = '7px';\r\n  } else {\r\n    buttonElements.exportDatasetsPopupExportButton.style.paddingTop = '6px';\r\n  }\r\n}\r\n\r\nfunction applySmallScreenButtonsStyle(buttonElements, screenSizeDelta) {\r\n  buttonElements.labellerModalSubmitButtonElement.style.paddingBottom = `${5 / screenSizeDelta}px`;\r\n  buttonElements.labellerModalCancelButtonElement.style.paddingBottom = `${5 / screenSizeDelta}px`;\r\n  applyStylingToElementsArray(buttonElements.buttonClassElements, 'lineHeight', 'initial');\r\n  applyStylingToElementsArray(buttonElements.popupLabelButtonClassElements, 'paddingTop', `${7 / screenSizeDelta}px`);\r\n  applyStylingToElementsArray(buttonElements.popupLabelDisabledButtonClassElements, 'paddingTop', `${7 / screenSizeDelta}px`);\r\n  buttonElements.exportDatasetsPopupExportButton.style.paddingTop = `${6 / screenSizeDelta}px`;\r\n}\r\n\r\nfunction getButtonElements() {\r\n  const buttons = {};\r\n  buttons.labellerModalSubmitButtonElement = document.getElementById('labeller-modal-submit-button');\r\n  buttons.labellerModalCancelButtonElement = document.getElementById('labeller-modal-cancel-button');\r\n  buttons.buttonClassElements = document.getElementsByClassName('buttons');\r\n  buttons.popupLabelButtonClassElements = document.getElementsByClassName('popup-label-button');\r\n  buttons.popupLabelDisabledButtonClassElements = document.getElementsByClassName('popup-label-button-disabled');\r\n  buttons.exportDatasetsPopupExportButton = document.getElementById('export-datasets-popup-export-button');\r\n  return buttons;\r\n}\r\n\r\nfunction setButtonsStyle(screenSizeDelta) {\r\n  const buttonElements = getButtonElements();\r\n  if (screenSizeDelta > 1.000001) {\r\n    applySmallScreenButtonsStyle(buttonElements, screenSizeDelta);\r\n  } else {\r\n    applyLargeScreenButtonsStyle(buttonElements, screenSizeDelta);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStyling/buttons/style.js?");

/***/ }),

/***/ "./src/js/tools/globalStyling/fonts.js":
/*!*********************************************!*\
  !*** ./src/js/tools/globalStyling/fonts.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return downloadFonts; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n\r\n\r\n\r\nfunction refreshExportDatasetsPopover() {\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getExportDatasetsPopupOpenState\"])()) {\r\n    const exportDatasetsPopupParentElement = document.getElementById('export-datasets-popup-parent');\r\n    exportDatasetsPopupParentElement.style.visibility = 'hidden';\r\n    exportDatasetsPopupParentElement.style.display = 'block';\r\n    setTimeout(() => {\r\n      if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getExportDatasetsPopupOpenState\"])()) {\r\n        exportDatasetsPopupParentElement.style.display = 'none';\r\n      }\r\n      exportDatasetsPopupParentElement.style.visibility = '';\r\n    }, 0);\r\n  }\r\n}\r\n\r\nfunction loadSuccess() {\r\n  refreshExportDatasetsPopover();\r\n}\r\n\r\nfunction loadFailed() {\r\n  console.log('Failed to load custom fonts');\r\n}\r\n\r\n// fix for a bug where the loading of the script would stop all elements from being\r\n// dynamic and the browser would not render them when screen dimensions are changed\r\nfunction firefoxBugFix(document, url, relationship) {\r\n  const div = document.createElement('div');\r\n  div.innerHTML = `<link rel=\"${relationship}\" href=\"${url}\">`;\r\n  document.head.appendChild(div);\r\n}\r\n\r\nfunction downloadFonts() {\r\n  // potential alternative\r\n  // <link href=\"https://fonts.googleapis.com/css?family=Alef|Archivo|Average|Barlow+Semi+Condensed|Basic|Cantarell|Chivo|Hind+Madurai|IBM+Plex+Serif|K2D|M+PLUS+1p|Mada|Palanquin|Pavanam|Source+Sans+Pro|Yantramanav&display=swap\" rel=\"stylesheet\">\r\n  const url = 'https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap';\r\n  const relationship = 'stylesheet';\r\n  const link = document.createElement('link');\r\n  link.onload = loadSuccess;\r\n  link.onerror = loadFailed;\r\n  link.rel = relationship;\r\n  link.href = url;\r\n  document.head.appendChild(link);\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) firefoxBugFix(document, url, relationship);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStyling/fonts.js?");

/***/ }),

/***/ "./src/js/tools/globalStyling/inadequateResourcesOverlay.js":
/*!******************************************************************!*\
  !*** ./src/js/tools/globalStyling/inadequateResourcesOverlay.js ***!
  \******************************************************************/
/*! exports provided: validateClientBrowserDimensions, validateCanvasSupport */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateClientBrowserDimensions\", function() { return validateClientBrowserDimensions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateCanvasSupport\", function() { return validateCanvasSupport; });\nlet displayingCanvasSupportOverlay = false;\r\nlet displayingDimensionsOverlay = false;\r\nconst CANVAS_BROWSER_SUPPORT_URL = 'https://community.canvaslms.com/docs/DOC-10720-what-are-the-browser-and-computer-requirements-for-canvas';\r\n\r\nfunction validateClientBrowserDimensions() {\r\n  if (displayingCanvasSupportOverlay) return;\r\n  if (window.innerHeight < 500 || window.innerWidth < 800) {\r\n    if (displayingDimensionsOverlay) return;\r\n    const inadequateClientResourcesOverlay = document.getElementById('inadequate-client-resources-overlay');\r\n    const inadequateClientResourcesOverlayText = document.getElementById('inadequate-client-resources-overlay-text');\r\n    inadequateClientResourcesOverlayText.innerHTML = 'Minimum window size is 500 x 800';\r\n    inadequateClientResourcesOverlayText.style.marginLeft = '-28px';\r\n    inadequateClientResourcesOverlay.style.display = 'block';\r\n    displayingDimensionsOverlay = true;\r\n  } else {\r\n    if (!displayingDimensionsOverlay) return;\r\n    const inadequateClientResourcesOverlay = document.getElementById('inadequate-client-resources-overlay');\r\n    inadequateClientResourcesOverlay.style.display = 'none';\r\n    displayingDimensionsOverlay = false;\r\n  }\r\n}\r\n\r\nfunction validateCanvasSupport() {\r\n  const canvasElement = document.createElement('canvas');\r\n  const isCanvasSupported = !!(canvasElement.getContext && canvasElement.getContext('2d'));\r\n  if (!isCanvasSupported) {\r\n    const inadequateClientResourcesOverlay = document.getElementById('inadequate-client-resources-overlay');\r\n    const inadequateClientResourcesOverlayText = document.getElementById('inadequate-client-resources-overlay-text');\r\n    const inadequateClientResourcesOverlayImage = document.getElementById('inadequate-client-resources-overlay-image');\r\n    inadequateClientResourcesOverlayText.innerHTML = `Your browser does not support the Canvas feature, please update or choose another one from <a href=\"${CANVAS_BROWSER_SUPPORT_URL}\" target=\"_blank\">here</a>`;\r\n    inadequateClientResourcesOverlayImage.style.marginLeft = '96px';\r\n    inadequateClientResourcesOverlay.style.display = 'block';\r\n    displayingCanvasSupportOverlay = true;\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStyling/inadequateResourcesOverlay.js?");

/***/ }),

/***/ "./src/js/tools/globalStyling/screenSizeDelta.js":
/*!*******************************************************!*\
  !*** ./src/js/tools/globalStyling/screenSizeDelta.js ***!
  \*******************************************************/
/*! exports provided: setScreenSizeDelta, getScreenSizeDelta */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setScreenSizeDelta\", function() { return setScreenSizeDelta; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScreenSizeDelta\", function() { return getScreenSizeDelta; });\nlet screenSizeDelta = 1;\r\n\r\n// when setting delta to bigger than 1.1, will need to consider zoom,\r\n// image thumbnail width, left side bar border,\r\n// labeller modal options width and modal buttons height\r\n\r\n// delta uses screen width only\r\nfunction calculateDesiredScreenSizeDelta() {\r\n  const defaultScreenWidth = 1920;\r\n  const currentScreenWidth = window.screen.width;\r\n  const quotient = defaultScreenWidth / currentScreenWidth;\r\n  return quotient > 1.1 ? 1.1 : quotient;\r\n}\r\n\r\nfunction getScreenSizeDelta() {\r\n  return screenSizeDelta;\r\n}\r\n\r\nfunction setScreenSizeDelta() {\r\n  screenSizeDelta = calculateDesiredScreenSizeDelta();\r\n  document.documentElement.style.setProperty('--screen-size-delta', screenSizeDelta);\r\n  return screenSizeDelta;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStyling/screenSizeDelta.js?");

/***/ }),

/***/ "./src/js/tools/globalStyling/style.js":
/*!*********************************************!*\
  !*** ./src/js/tools/globalStyling/style.js ***!
  \*********************************************/
/*! exports provided: applyStyling, changeCanvasElementsWidth, windowHasScrollbar, getLeftSideBarWidth, getRightSideBarWidth, getScrollbarWidth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applyStyling\", function() { return applyStyling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeCanvasElementsWidth\", function() { return changeCanvasElementsWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"windowHasScrollbar\", function() { return windowHasScrollbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLeftSideBarWidth\", function() { return getLeftSideBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRightSideBarWidth\", function() { return getRightSideBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollbarWidth\", function() { return getScrollbarWidth; });\n/* harmony import */ var _fonts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fonts */ \"./src/js/tools/globalStyling/fonts.js\");\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n/* harmony import */ var _screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n/* harmony import */ var _timeouts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./timeouts */ \"./src/js/tools/globalStyling/timeouts.js\");\n/* harmony import */ var _buttons_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./buttons/style */ \"./src/js/tools/globalStyling/buttons/style.js\");\n/* harmony import */ var _inadequateResourcesOverlay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./inadequateResourcesOverlay */ \"./src/js/tools/globalStyling/inadequateResourcesOverlay.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvasWrapperParentElement = null;\r\nlet zoomOverflowWrapperParentElement = null;\r\nlet leftSideBar = null;\r\nlet rightSideBar = null;\r\n\r\nfunction windowHasScrollbar() {\r\n  return document.body.scrollHeight < document.documentElement.scrollHeight;\r\n}\r\n\r\n// this will be used to resize the side-bars later on\r\nfunction changeCanvasElementsWidth() {\r\n  canvasWrapperParentElement.style.width = `calc(100% - ${rightSideBar.width + leftSideBar.width}px)`;\r\n  // could be the reason for uneven results\r\n  zoomOverflowWrapperParentElement.style.width = `calc(100% - ${rightSideBar.width + leftSideBar.width + 1}px)`;\r\n}\r\n\r\nfunction getLeftSideBarWidth() {\r\n  return leftSideBar.offsetWidth;\r\n}\r\n\r\nfunction getRightSideBarWidth() {\r\n  return rightSideBar.offsetWidth;\r\n}\r\n\r\nfunction findWindowElements() {\r\n  canvasWrapperParentElement = document.getElementById('canvas-wrapper-parent');\r\n  zoomOverflowWrapperParentElement = document.getElementById('zoom-overflow-wrapper-parent');\r\n  leftSideBar = document.getElementById('left-side-bar');\r\n  rightSideBar = document.getElementById('right-side-bar');\r\n}\r\n\r\nfunction getFirefoxScrollBarWidth() {\r\n  // create a div with the scroll\r\n  const div = document.createElement('div');\r\n  div.style.overflowY = 'scroll';\r\n  div.style.width = '50px';\r\n  div.style.height = '50px';\r\n  document.body.append(div);\r\n  const browserScrollWidth = div.offsetWidth - div.clientWidth;\r\n  div.remove();\r\n  return browserScrollWidth / 2;\r\n}\r\n\r\nfunction getChromiumScrollBarWidth() {\r\n  return 6;\r\n}\r\n\r\nfunction getScrollbarWidth() {\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n    return getFirefoxScrollBarWidth();\r\n  }\r\n  return getChromiumScrollBarWidth();\r\n}\r\n\r\nfunction applyStyling() {\r\n  Object(_inadequateResourcesOverlay__WEBPACK_IMPORTED_MODULE_5__[\"validateCanvasSupport\"])();\r\n  Object(_inadequateResourcesOverlay__WEBPACK_IMPORTED_MODULE_5__[\"validateClientBrowserDimensions\"])();\r\n  findWindowElements();\r\n  Object(_fonts__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\r\n  const screenSizeDelta = Object(_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"setScreenSizeDelta\"])();\r\n  Object(_buttons_style__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(screenSizeDelta);\r\n  Object(_timeouts__WEBPACK_IMPORTED_MODULE_3__[\"setKeyDownEventTimeOut\"])(_utils_browserType__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStyling/style.js?");

/***/ }),

/***/ "./src/js/tools/globalStyling/timeouts.js":
/*!************************************************!*\
  !*** ./src/js/tools/globalStyling/timeouts.js ***!
  \************************************************/
/*! exports provided: setKeyDownEventTimeOut, getKeyDownEventTimeout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setKeyDownEventTimeOut\", function() { return setKeyDownEventTimeOut; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getKeyDownEventTimeout\", function() { return getKeyDownEventTimeout; });\nlet keyDownEventTimeout = 0;\r\n\r\nfunction setKeyDownEventTimeOut(isFirefox) {\r\n  keyDownEventTimeout = isFirefox ? 10 : 0;\r\n}\r\n\r\nfunction getKeyDownEventTimeout() {\r\n  return keyDownEventTimeout;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStyling/timeouts.js?");

/***/ }),

/***/ "./src/js/tools/globalStyling/windowResize.js":
/*!****************************************************!*\
  !*** ./src/js/tools/globalStyling/windowResize.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignCanvasForResizeWhenWindowResize; });\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _canvas_objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../canvas/objects/objectsProperties/changeProperties */ \"./src/js/canvas/objects/objectsProperties/changeProperties.js\");\n/* harmony import */ var _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../canvas/objects/label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n/* harmony import */ var _toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../toolkit/buttonClickEvents/facadeWorkers/zoomWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _labellerModal_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../labellerModal/style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _settingsPopup_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../settingsPopup/style */ \"./src/js/tools/settingsPopup/style.js\");\n/* harmony import */ var _exportDatasetsPopup_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../exportDatasetsPopup/style */ \"./src/js/tools/exportDatasetsPopup/style.js\");\n/* harmony import */ var _inadequateResourcesOverlay__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./inadequateResourcesOverlay */ \"./src/js/tools/globalStyling/inadequateResourcesOverlay.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\n\r\nwindow.windowResize = () => {\r\n  Object(_inadequateResourcesOverlay__WEBPACK_IMPORTED_MODULE_8__[\"validateClientBrowserDimensions\"])();\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentZoomState\"])() > 1) {\r\n    Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"resizeCanvas\"])();\r\n    Object(_toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_3__[\"zoomCanvas\"])(canvas, null, true);\r\n  } else if (Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentImage\"])()) {\r\n    const newFileSizeRatio = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"resizeCanvasAndImage\"])();\r\n    _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updatePolygonOffsetProperties(newFileSizeRatio);\r\n    Object(_canvas_objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_1__[\"resizeAllObjectsDimensionsByDoubleScale\"])(newFileSizeRatio, canvas);\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getSettingsPopupOpenState\"])()) {\r\n    Object(_settingsPopup_style__WEBPACK_IMPORTED_MODULE_6__[\"setStickySettingsPopupProperties\"])();\r\n  } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getExportDatasetsPopupOpenState\"])()) {\r\n    Object(_exportDatasetsPopup_style__WEBPACK_IMPORTED_MODULE_7__[\"setStickyExportDatasetsPopupProperties\"])();\r\n  }\r\n  const isWindowResized = true;\r\n  Object(_labellerModal_style__WEBPACK_IMPORTED_MODULE_5__[\"validateFullModalVisibile\"])(isWindowResized);\r\n};\r\n\r\nfunction assignCanvasForResizeWhenWindowResize(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/globalStyling/windowResize.js?");

/***/ }),

/***/ "./src/js/tools/imageList/buttons/buttonClickEvents.js":
/*!*************************************************************!*\
  !*** ./src/js/tools/imageList/buttons/buttonClickEvents.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseImageListButtonClickEvents; });\n/* harmony import */ var _imageList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _uploadImages_uploadImages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../uploadImages/uploadImages */ \"./src/js/tools/imageList/uploadImages/uploadImages.js\");\n/* harmony import */ var _toolkit_buttonClickEvents_facade__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../toolkit/buttonClickEvents/facade */ \"./src/js/tools/toolkit/buttonClickEvents/facade.js\");\n/* harmony import */ var _buttonMiddleWare__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buttonMiddleWare */ \"./src/js/tools/imageList/buttons/buttonMiddleWare.js\");\n/* harmony import */ var _discardActiveObject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./discardActiveObject */ \"./src/js/tools/imageList/buttons/discardActiveObject.js\");\n/* harmony import */ var _removeImages_removeImages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../removeImages/removeImages */ \"./src/js/tools/imageList/removeImages/removeImages.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction triggeUploadImagesButton() {\r\n  document.getElementById('uploadImages').click();\r\n}\r\n\r\nfunction uploadImageFiles(uploadData) {\r\n  Object(_discardActiveObject__WEBPACK_IMPORTED_MODULE_4__[\"discardActiveObject\"])();\r\n  Object(_uploadImages_uploadImages__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(uploadData);\r\n}\r\n\r\nfunction initialiseImageListButtonClickEvents() {\r\n  window.switchImage = _buttonMiddleWare__WEBPACK_IMPORTED_MODULE_3__[\"replaceExistingCanvas\"].bind(this, _imageList__WEBPACK_IMPORTED_MODULE_0__[\"switchImage\"],\r\n    _toolkit_buttonClickEvents_facade__WEBPACK_IMPORTED_MODULE_2__[\"resetCanvasEventsToDefault\"]);\r\n  window.triggerImageUpload = _buttonMiddleWare__WEBPACK_IMPORTED_MODULE_3__[\"removeButtonPopoverIfActive\"].bind(this, triggeUploadImagesButton);\r\n  window.uploadImages = _buttonMiddleWare__WEBPACK_IMPORTED_MODULE_3__[\"interruptAllCanvasEventsBeforeFuncWInputs\"].bind(this, this,\r\n    { uploadImageFiles, resetCanvasEventsToDefault: _toolkit_buttonClickEvents_facade__WEBPACK_IMPORTED_MODULE_2__[\"resetCanvasEventsToDefault\"] });\r\n  window.removeImage = _removeImages_removeImages__WEBPACK_IMPORTED_MODULE_5__[\"triggerRemoveImage\"];\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/buttons/buttonClickEvents.js?");

/***/ }),

/***/ "./src/js/tools/imageList/buttons/buttonHoverEvents.js":
/*!*************************************************************!*\
  !*** ./src/js/tools/imageList/buttons/buttonHoverEvents.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseImageListButtonHoverEvents; });\n/* harmony import */ var _imageList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../imageList */ \"./src/js/tools/imageList/imageList.js\");\n\r\n\r\nfunction initialiseImageListButtonHoverEvents() {\r\n  const removeButtonElement = document.getElementById('remove-images-button');\r\n  removeButtonElement.addEventListener('mouseenter', () => {\r\n    Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"changeImageThumbnailBorderColorToRed\"])();\r\n  });\r\n  removeButtonElement.addEventListener('mouseleave', () => {\r\n    Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"resetImageThumbnailBorderColor\"])();\r\n  });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/buttons/buttonHoverEvents.js?");

/***/ }),

/***/ "./src/js/tools/imageList/buttons/buttonMiddleWare.js":
/*!************************************************************!*\
  !*** ./src/js/tools/imageList/buttons/buttonMiddleWare.js ***!
  \************************************************************/
/*! exports provided: interruptAllCanvasEventsBeforeFuncWInputs, removeButtonPopoverIfActive, replaceExistingCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interruptAllCanvasEventsBeforeFuncWInputs\", function() { return interruptAllCanvasEventsBeforeFuncWInputs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeButtonPopoverIfActive\", function() { return removeButtonPopoverIfActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"replaceExistingCanvas\", function() { return replaceExistingCanvas; });\n/* harmony import */ var _canvas_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../canvas/canvas */ \"./src/js/canvas/canvas.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasState */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasState.js\");\n/* harmony import */ var _globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../globalStyling/buttons/popovers */ \"./src/js/tools/globalStyling/buttons/popovers.js\");\n/* harmony import */ var _imageList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../imageList */ \"./src/js/tools/imageList/imageList.js\");\n\r\n\r\n\r\n\r\n\r\nfunction interruptAllCanvasEventsBeforeFuncWInputs(placeHolder, funcObj, input) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_2__[\"removeActiveButtonPopover\"])();\r\n  Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEvents\"])();\r\n  funcObj.resetCanvasEventsToDefault();\r\n  funcObj.uploadImageFiles(input);\r\n}\r\n\r\nfunction removeButtonPopoverIfActive(func) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_2__[\"removeActiveButtonPopover\"])();\r\n  if (func) func();\r\n}\r\n\r\nfunction replaceExistingCanvas(func, func2, direction) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_2__[\"removeActiveButtonPopover\"])();\r\n  if (Object(_imageList__WEBPACK_IMPORTED_MODULE_3__[\"canSwitchImage\"])(direction)) {\r\n    Object(_canvas_canvas__WEBPACK_IMPORTED_MODULE_0__[\"reassignReferenceToNewCanvas\"])();\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEvents\"])();\r\n    if (func) func(direction);\r\n    if (func2) func2();\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/buttons/buttonMiddleWare.js?");

/***/ }),

/***/ "./src/js/tools/imageList/buttons/discardActiveObject.js":
/*!***************************************************************!*\
  !*** ./src/js/tools/imageList/buttons/discardActiveObject.js ***!
  \***************************************************************/
/*! exports provided: assignCanvasForDiscardingObjects, discardActiveObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForDiscardingObjects\", function() { return assignCanvasForDiscardingObjects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"discardActiveObject\", function() { return discardActiveObject; });\nlet canvas = null;\r\n\r\nfunction discardActiveObject() {\r\n  canvas.discardActiveObject();\r\n}\r\n\r\nfunction assignCanvasForDiscardingObjects(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/buttons/discardActiveObject.js?");

/***/ }),

/***/ "./src/js/tools/imageList/canvasManagement.js":
/*!****************************************************!*\
  !*** ./src/js/tools/imageList/canvasManagement.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignCanvasForImageList; });\n/* harmony import */ var _buttons_discardActiveObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buttons/discardActiveObject */ \"./src/js/tools/imageList/buttons/discardActiveObject.js\");\n/* harmony import */ var _removeImages_removeImages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./removeImages/removeImages */ \"./src/js/tools/imageList/removeImages/removeImages.js\");\n/* harmony import */ var _uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _imageList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./imageList */ \"./src/js/tools/imageList/imageList.js\");\n\r\n\r\n\r\n\r\n\r\nfunction assignCanvasForImageList(canvas) {\r\n  Object(_buttons_discardActiveObject__WEBPACK_IMPORTED_MODULE_0__[\"assignCanvasForDiscardingObjects\"])(canvas);\r\n  Object(_removeImages_removeImages__WEBPACK_IMPORTED_MODULE_1__[\"assignCanvasForRemovingImages\"])(canvas);\r\n  Object(_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_2__[\"assignCanvasForDrawingImage\"])(canvas);\r\n  Object(_imageList__WEBPACK_IMPORTED_MODULE_3__[\"assignCanvasToImageList\"])(canvas);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/canvasManagement.js?");

/***/ }),

/***/ "./src/js/tools/imageList/imageList.js":
/*!*********************************************!*\
  !*** ./src/js/tools/imageList/imageList.js ***!
  \*********************************************/
/*! exports provided: assignCanvasToImageList, setDefaultImageThumbnailHighlightToML, switchImage, canSwitchImage, changeImageThumbnailBorderColorToRed, resetImageThumbnailBorderColor, displayTickSVGOverImageThumbnail, getAllImageData, initialiseImageList, addSingleImageToList, setSelectedMLThumbnailColourOverlayBackToDefault, addImageFromMultiUploadToList, updateCurrentImageIds, getLastImageIdByName, setDefaultImageThumbnailHighlightToMLSelected, removeTickSVGOverImageThumbnail, removeMLThumbnailHighlight, removeSelectedMLThumbnailHighlight, getImageIdByName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasToImageList\", function() { return assignCanvasToImageList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDefaultImageThumbnailHighlightToML\", function() { return setDefaultImageThumbnailHighlightToML; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"switchImage\", function() { return switchImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canSwitchImage\", function() { return canSwitchImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeImageThumbnailBorderColorToRed\", function() { return changeImageThumbnailBorderColorToRed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetImageThumbnailBorderColor\", function() { return resetImageThumbnailBorderColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayTickSVGOverImageThumbnail\", function() { return displayTickSVGOverImageThumbnail; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAllImageData\", function() { return getAllImageData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseImageList\", function() { return initialiseImageList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addSingleImageToList\", function() { return addSingleImageToList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSelectedMLThumbnailColourOverlayBackToDefault\", function() { return setSelectedMLThumbnailColourOverlayBackToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addImageFromMultiUploadToList\", function() { return addImageFromMultiUploadToList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateCurrentImageIds\", function() { return updateCurrentImageIds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLastImageIdByName\", function() { return getLastImageIdByName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDefaultImageThumbnailHighlightToMLSelected\", function() { return setDefaultImageThumbnailHighlightToMLSelected; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeTickSVGOverImageThumbnail\", function() { return removeTickSVGOverImageThumbnail; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeMLThumbnailHighlight\", function() { return removeMLThumbnailHighlight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeSelectedMLThumbnailHighlight\", function() { return removeSelectedMLThumbnailHighlight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getImageIdByName\", function() { return getImageIdByName; });\n/* harmony import */ var _uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../canvas/objects/label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _canvas_objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../canvas/objects/allShapes/labelAndShapeBuilder */ \"./src/js/canvas/objects/allShapes/labelAndShapeBuilder.js\");\n/* harmony import */ var _toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../toolkit/buttonClickEvents/facadeWorkers/zoomWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js\");\n/* harmony import */ var _labelList_labelList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../labelList/labelList */ \"./src/js/tools/labelList/labelList.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _canvas_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../canvas/utils/canvasUtils */ \"./src/js/canvas/utils/canvasUtils.js\");\n/* harmony import */ var _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../canvas/objects/label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n/* harmony import */ var _imageListML__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./imageListML */ \"./src/js/tools/imageList/imageListML.js\");\n/* harmony import */ var _canvas_utils_fabricUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../canvas/utils/fabricUtils */ \"./src/js/canvas/utils/fabricUtils.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js\");\n/* harmony import */ var _imageSwitchPanel_style__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../imageSwitchPanel/style */ \"./src/js/tools/imageSwitchPanel/style.js\");\n/* harmony import */ var _utils_tableUtils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/tableUtils */ \"./src/js/tools/utils/tableUtils.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../canvas/mouseInteractions/cursorModes/defaultMode */ \"./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js\");\n/* harmony import */ var _settingsPopup_options_movableObjects__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../settingsPopup/options/movableObjects */ \"./src/js/tools/settingsPopup/options/movableObjects.js\");\n/* harmony import */ var _canvas_utils_watermark__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../canvas/utils/watermark */ \"./src/js/canvas/utils/watermark.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet currentlyActiveElement = null;\r\nconst images = [];\r\nlet currentlySelectedImageId = 0;\r\nlet canvas = null;\r\nlet newImageId = 0;\r\nlet imageListOverflowParent = null;\r\nlet hasCurrentImageThumbnailRedBorder = false;\r\nconst ANIMATION_DURATION_MILLISECONDS = 300;\r\n\r\nfunction updateCurrentImageIds(currentId, newId) {\r\n  currentlySelectedImageId = currentId;\r\n  newImageId = newId;\r\n}\r\n\r\nfunction findImageListElement() {\r\n  imageListOverflowParent = document.getElementById('image-list-overflow-parent');\r\n}\r\n\r\nfunction initialiseImageList() {\r\n  findImageListElement();\r\n  Object(_imageListML__WEBPACK_IMPORTED_MODULE_10__[\"initialiseImageListML\"])(images);\r\n}\r\n\r\nfunction getAllImageData() {\r\n  return images;\r\n}\r\n\r\nfunction getImageIdByName(imageName) {\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    if (imageName === images[i].name) {\r\n      return i;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction getLastImageIdByName(imageName) {\r\n  for (let i = images.length - 1; i >= 0; i -= 1) {\r\n    if (imageName === images[i].name) {\r\n      return i;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction initialiseImageElement() {\r\n  return document.createElement('img');\r\n}\r\n\r\nfunction initiateDivElement() {\r\n  return document.createElement('div');\r\n}\r\n\r\nfunction appendAnimationReadyStyling(imageThumbnailElement) {\r\n  imageThumbnailElement.style.transition = `${ANIMATION_DURATION_MILLISECONDS / 1000}s`;\r\n  imageThumbnailElement.style.maxHeight = '0%';\r\n}\r\n\r\nfunction triggerAnimation(imageThumbnailElement) {\r\n  setTimeout(() => {\r\n    imageThumbnailElement.style.maxHeight = '100%';\r\n    setTimeout(() => {\r\n      imageThumbnailElement.style.transition = '';\r\n    }, ANIMATION_DURATION_MILLISECONDS);\r\n  });\r\n}\r\n\r\nfunction addNewItemToImageList(imageData) {\r\n  const imageThumbnailElement = initialiseImageElement();\r\n  imageThumbnailElement.id = newImageId;\r\n  imageThumbnailElement.classList.add('image-list-thumbnail-image');\r\n  imageThumbnailElement.src = imageData.src;\r\n  appendAnimationReadyStyling(imageThumbnailElement);\r\n  const colorOverlayElement = initiateDivElement();\r\n  colorOverlayElement.classList.add('image-list-thumbnail-color-overlay');\r\n  colorOverlayElement.classList.add('image-list-thumbnail-default');\r\n  const tickSVGElement = initialiseImageElement();\r\n  tickSVGElement.classList.add('image-list-thumbnail-SVG-tick-icon');\r\n  tickSVGElement.src = 'done-tick-highlighted.svg';\r\n  const parentThumbnailDivElement = initiateDivElement();\r\n  parentThumbnailDivElement.classList.add('image-list-thumbnail');\r\n  parentThumbnailDivElement.onclick = window.switchImage.bind(this, newImageId);\r\n  parentThumbnailDivElement.appendChild(imageThumbnailElement);\r\n  parentThumbnailDivElement.appendChild(colorOverlayElement);\r\n  parentThumbnailDivElement.appendChild(tickSVGElement);\r\n  imageListOverflowParent.appendChild(parentThumbnailDivElement);\r\n  triggerAnimation(imageThumbnailElement);\r\n  return parentThumbnailDivElement;\r\n}\r\n\r\nfunction displayTickSVGOverImageThumbnail(id) {\r\n  const imageId = id !== undefined ? id : currentlySelectedImageId;\r\n  if (images[imageId]) images[imageId].thumbnailElementRef.childNodes[2].style.display = 'block';\r\n}\r\n\r\nfunction removeTickSVGOverImageThumbnail(id) {\r\n  images[id].thumbnailElementRef.childNodes[2].style.display = 'none';\r\n}\r\n\r\nfunction setDefaultImageThumbnailHighlightToMLSelected(element) {\r\n  element.childNodes[1].classList.replace('image-list-thumbnail-default', 'image-list-thumbnail-machine-learning-selected');\r\n  const imageId = element.childNodes[0].id;\r\n  displayTickSVGOverImageThumbnail(imageId);\r\n}\r\n\r\nfunction setDefaultImageThumbnailHighlightToML(element) {\r\n  element.childNodes[1].classList.replace('image-list-thumbnail-default', 'image-list-thumbnail-machine-learning');\r\n  element.childNodes[1].style.display = 'block';\r\n  const imageId = element.childNodes[0].id;\r\n  displayTickSVGOverImageThumbnail(imageId);\r\n}\r\n\r\nfunction removeMLThumbnailHighlight(element) {\r\n  element.childNodes[1].classList.replace('image-list-thumbnail-machine-learning', 'image-list-thumbnail-default');\r\n  element.childNodes[1].style.display = 'none';\r\n}\r\n\r\nfunction removeSelectedMLThumbnailHighlight(element) {\r\n  element.childNodes[1].classList.replace('image-list-thumbnail-machine-learning-selected', 'image-list-thumbnail-default');\r\n}\r\n\r\nfunction setMLThumbnailOverlayToMLSelected(element) {\r\n  if (element.classList.contains('image-list-thumbnail-machine-learning')) {\r\n    element.classList.replace('image-list-thumbnail-machine-learning', 'image-list-thumbnail-machine-learning-selected');\r\n  }\r\n}\r\n\r\nfunction setSelectedMLThumbnailColourOverlayBackToDefault(element) {\r\n  if (element.classList.contains('image-list-thumbnail-machine-learning-selected')) {\r\n    element.classList.replace('image-list-thumbnail-machine-learning-selected', 'image-list-thumbnail-default');\r\n    displayTickSVGOverImageThumbnail();\r\n  }\r\n}\r\n\r\nfunction setMLGeneratedShapesToOriginalColorPallette() {\r\n  if (images[currentlySelectedImageId].numberOfMLGeneratedShapes > 0) {\r\n    Object.keys(images[currentlySelectedImageId].shapes).forEach((key) => {\r\n      const shape = images[currentlySelectedImageId].shapes[key].shapeRef;\r\n      if (shape.MLPallette) {\r\n        shape.fill = shape.trueFill;\r\n        shape.stroke = shape.trueStroke;\r\n        shape.MLPallette = false;\r\n      }\r\n    });\r\n    images[currentlySelectedImageId].numberOfMLGeneratedShapes = 0;\r\n  }\r\n}\r\n\r\nfunction setCurrentlyActiveElementToInvisible() {\r\n  if (currentlyActiveElement) {\r\n    currentlyActiveElement.style.display = 'none';\r\n    setSelectedMLThumbnailColourOverlayBackToDefault(currentlyActiveElement);\r\n  }\r\n}\r\n\r\nfunction highlightImageThumbnail(element) {\r\n  setCurrentlyActiveElementToInvisible();\r\n  setMLThumbnailOverlayToMLSelected(element);\r\n  if (hasCurrentImageThumbnailRedBorder) {\r\n    element.style.borderColor = '#ff4d4d';\r\n  }\r\n  element.style.display = 'block';\r\n  currentlyActiveElement = element;\r\n}\r\n\r\nfunction changeImageThumbnailBorderColorToRed() {\r\n  if (currentlyActiveElement) {\r\n    hasCurrentImageThumbnailRedBorder = true;\r\n    currentlyActiveElement.style.borderColor = '#ff4d4d';\r\n  }\r\n}\r\n\r\nfunction resetImageThumbnailBorderColor() {\r\n  hasCurrentImageThumbnailRedBorder = false;\r\n  if (currentlyActiveElement) {\r\n    currentlyActiveElement.style.borderColor = '';\r\n  }\r\n}\r\n\r\nfunction addNewImage(imageName, imageData) {\r\n  const thumbnailElementRef = addNewItemToImageList(imageData);\r\n  const imageObject = {\r\n    data: imageData, name: imageName, shapes: {}, labels: {}, thumbnailElementRef,\r\n  };\r\n  images.push(imageObject);\r\n}\r\n\r\nfunction captureCurrentImageData() {\r\n  images[currentlySelectedImageId].labels = Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_2__[\"retrieveAllLabelRefs\"])();\r\n  images[currentlySelectedImageId].shapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"retrieveAllShapeRefs\"])();\r\n  Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_2__[\"removeAllLabelRefs\"])();\r\n  Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"removeAllShapeRefs\"])();\r\n  const currentlySelectedImageProperties = Object(_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getImageProperties\"])();\r\n  const imageDimensions = {};\r\n  imageDimensions.scaleX = currentlySelectedImageProperties.scaleX;\r\n  imageDimensions.scaleY = currentlySelectedImageProperties.scaleY;\r\n  imageDimensions.originalWidth = currentlySelectedImageProperties.originalWidth;\r\n  imageDimensions.originalHeight = currentlySelectedImageProperties.originalHeight;\r\n  imageDimensions.oldImageHeightRatio = Object(_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"calculateCurrentImageHeightRatio\"])();\r\n  imageDimensions.polygonOffsetLeft = _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_9__[\"default\"].pointOffsetProperties().left;\r\n  imageDimensions.polygonOffsetTop = _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_9__[\"default\"].pointOffsetProperties().top;\r\n  images[currentlySelectedImageId].imageDimensions = imageDimensions;\r\n}\r\n\r\nfunction saveAndRemoveCurrentImageDetails() {\r\n  if (images.length > 1) {\r\n    captureCurrentImageData();\r\n  } else {\r\n    Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setEditShapesButtonToActive\"])();\r\n  }\r\n  Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_5__[\"removeAllLabelListItems\"])();\r\n  const timesZoomedOut = Object(_toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_4__[\"resetZoom\"])(false);\r\n  Object(_toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_4__[\"zoomOutObjectOnImageSelect\"])(images[currentlySelectedImageId].shapes,\r\n    images[currentlySelectedImageId].labels, timesZoomedOut);\r\n  setMLGeneratedShapesToOriginalColorPallette();\r\n  currentlySelectedImageId = newImageId;\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"setCurrentImageId\"])(newImageId);\r\n}\r\n\r\nfunction setDefaultImageProperties(image, imageMetadata) {\r\n  image.imageDimensions = { scaleX: 1, scaleY: 1 };\r\n  image.shapes = {};\r\n  image.labels = {};\r\n  image.size = imageMetadata.size;\r\n  image.numberOfMLGeneratedShapes = 0;\r\n  image.analysedByML = false;\r\n}\r\n\r\nfunction setToolkitStylingOnNewImage() {\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"getDefaultState\"])() && Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"getContinuousDrawingState\"])()) {\r\n    const lastDrawnShapeState = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"getLastDrawingModeState\"])();\r\n    if (lastDrawnShapeState === 'polygon') {\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setCreatePolygonButtonToActive\"])();\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setCreateBoundingBoxButtonToDefault\"])();\r\n    } else if (lastDrawnShapeState === 'boundingBox') {\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setCreateBoundingBoxButtonToActive\"])();\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setCreatePolygonButtonToDefault\"])();\r\n    } else {\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setCreatePolygonButtonToDefault\"])();\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setCreateBoundingBoxButtonToDefault\"])();\r\n    }\r\n  } else {\r\n    Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setCreatePolygonButtonToDefault\"])();\r\n    Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setCreateBoundingBoxButtonToDefault\"])();\r\n  }\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setPolygonEditingButtonsToDefault\"])();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setRemoveImagesButtonDefault\"])();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setZoomInButtonToDefault\"])();\r\n}\r\n\r\nfunction changeCurrentImageNameElementText(imageName, firstFromMany) {\r\n  Object(_imageSwitchPanel_style__WEBPACK_IMPORTED_MODULE_14__[\"updateImageNameElement\"])(imageName, images, currentlySelectedImageId, firstFromMany);\r\n}\r\n\r\nfunction addSingleImageToList(imageMetadata, imageData) {\r\n  addNewImage(imageMetadata.name, imageData);\r\n  highlightImageThumbnail(images[newImageId].thumbnailElementRef.childNodes[1]);\r\n  saveAndRemoveCurrentImageDetails();\r\n  changeCurrentImageNameElementText(imageMetadata.name);\r\n  images[newImageId].thumbnailElementRef.scrollIntoView();\r\n  setDefaultImageProperties(images[newImageId], imageMetadata);\r\n  Object(_canvas_utils_watermark__WEBPACK_IMPORTED_MODULE_18__[\"removeWatermarkFromCanvasAreaBackground\"])();\r\n  setToolkitStylingOnNewImage();\r\n  newImageId += 1;\r\n}\r\n\r\nfunction addImageFromMultiUploadToList(imageMetadata, imageData, firstFromMany) {\r\n  addNewImage(imageMetadata.name, imageData);\r\n  setDefaultImageProperties(images[newImageId], imageMetadata);\r\n  if (firstFromMany) {\r\n    highlightImageThumbnail(images[newImageId].thumbnailElementRef.childNodes[1]);\r\n    saveAndRemoveCurrentImageDetails();\r\n    changeCurrentImageNameElementText(imageMetadata.name, firstFromMany);\r\n    images[newImageId].thumbnailElementRef.scrollIntoView();\r\n    Object(_canvas_utils_watermark__WEBPACK_IMPORTED_MODULE_18__[\"removeWatermarkFromCanvasAreaBackground\"])();\r\n    setToolkitStylingOnNewImage();\r\n  }\r\n  newImageId += 1;\r\n}\r\n\r\n// to replicate the bug, carry out the following:\r\n// upload image, draw bounding box, upload new image, come back to the first\r\n// and use diagonal scaling to the right edge\r\n// NOTE: some of the code to fix a similar bug is located in the purgeAllMouseEvents.js file\r\nfunction fixForObjectScalingBugOnCanvasSwitch() {\r\n  const { canvas1, canvas2 } = Object(_canvas_utils_fabricUtils__WEBPACK_IMPORTED_MODULE_11__[\"getCanvasReferences\"])();\r\n  if (canvas1 && canvas1.__eventListeners && canvas1.__eventListeners['object:scaling'] && canvas1.__eventListeners['object:scaling'].length > 1) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(canvas2, null, false);\r\n  }\r\n}\r\n\r\n// the following function is implemented to set properties for unseen shapes that have been\r\n// uploaded where I had to originall setDefault(false) in order to trigger some of the contained\r\n// functions in order to set the objects correctly. There is still some scepticism for whether\r\n// this is working correctly, hence please be cautions.\r\nfunction resetCanvasForUnseenShapes() {\r\n  Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(canvas);\r\n  Object(_canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_16__[\"setDefaultCursorMode\"])(canvas);\r\n  Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(canvas, null, false);\r\n}\r\n\r\n// the reason why we do not use scaleX/scaleY is because these are returned in\r\n// a promise as the image is drawn hence we do not have it at this time\r\n// (for the new image)\r\nfunction changeToExistingImage(id) {\r\n  // things to take before evaluatng the current shapes on the current image\r\n  // get shapes\r\n  // zoomOutObjectOnImageSelect\r\n  // make sure the scales are correct\r\n  if (currentlySelectedImageId >= 0) { captureCurrentImageData(); }\r\n  Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_5__[\"removeAllLabelListItems\"])();\r\n  const timesZoomedOut = Object(_toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_4__[\"resetZoom\"])(true);\r\n  Object(_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"drawImageFromList\"])(images[id].data);\r\n  Object(_canvas_objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_3__[\"repopulateLabelAndShapeObjects\"])(images[id].shapes, images[id].labels,\r\n    images[id].imageDimensions, images[id].data);\r\n  Object(_canvas_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_8__[\"switchCanvasContainerElements\"])();\r\n  Object(_settingsPopup_options_movableObjects__WEBPACK_IMPORTED_MODULE_17__[\"changeExistingImagesMovability\"])(images[id].shapes);\r\n  if (currentlySelectedImageId >= 0) {\r\n    Object(_toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_4__[\"zoomOutObjectOnImageSelect\"])(images[currentlySelectedImageId].shapes,\r\n      images[currentlySelectedImageId].labels, timesZoomedOut);\r\n  }\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"setCurrentImageId\"])(id);\r\n  highlightImageThumbnail(images[id].thumbnailElementRef.childNodes[1]);\r\n  Object(_utils_tableUtils__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(images[id].thumbnailElementRef, imageListOverflowParent);\r\n  fixForObjectScalingBugOnCanvasSwitch();\r\n  currentlySelectedImageId = id;\r\n  changeCurrentImageNameElementText(images[currentlySelectedImageId].name);\r\n  resetCanvasForUnseenShapes();\r\n  setToolkitStylingOnNewImage();\r\n}\r\n\r\nfunction switchImage(direction) {\r\n  if (direction === 'previous') {\r\n    if (currentlySelectedImageId !== 0) {\r\n      changeToExistingImage(currentlySelectedImageId - 1);\r\n    }\r\n  } else if (direction === 'next') {\r\n    if (currentlySelectedImageId !== images.length - 1) {\r\n      changeToExistingImage(currentlySelectedImageId + 1);\r\n    }\r\n  } else if (direction !== currentlySelectedImageId) {\r\n    changeToExistingImage(direction);\r\n  }\r\n}\r\n\r\nfunction canSwitchImage(direction) {\r\n  if (direction === 'previous') {\r\n    return currentlySelectedImageId > 0;\r\n  }\r\n  if (direction === 'next') {\r\n    return currentlySelectedImageId < (images.length - 1);\r\n  }\r\n  return direction !== currentlySelectedImageId;\r\n}\r\n\r\nfunction assignCanvasToImageList(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/imageList.js?");

/***/ }),

/***/ "./src/js/tools/imageList/imageListML.js":
/*!***********************************************!*\
  !*** ./src/js/tools/imageList/imageListML.js ***!
  \***********************************************/
/*! exports provided: initialiseImageListML, updateNumberOfUncheckedMLImages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseImageListML\", function() { return initialiseImageListML; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateNumberOfUncheckedMLImages\", function() { return updateNumberOfUncheckedMLImages; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\nlet allImageDataRef = null;\r\n\r\nfunction displayTickSVGOverImageThumbnail(element) {\r\n  element.style.display = 'block';\r\n}\r\n\r\nfunction setSelectedMLThumbnailColourOverlayBackToDefault(element) {\r\n  if (element.classList.contains('image-list-thumbnail-machine-learning-selected')) {\r\n    element.classList.replace('image-list-thumbnail-machine-learning-selected', 'image-list-thumbnail-default');\r\n  }\r\n}\r\n\r\nfunction updateNumberOfUncheckedMLImages() {\r\n  const currentImageId = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getCurrentImageId\"])();\r\n  const currentImage = allImageDataRef[currentImageId];\r\n  if (currentImage.numberOfMLGeneratedShapes > 0) {\r\n    currentImage.numberOfMLGeneratedShapes -= 1;\r\n    if (currentImage.numberOfMLGeneratedShapes === 0) {\r\n      const thumbnailElements = currentImage.thumbnailElementRef.childNodes;\r\n      setSelectedMLThumbnailColourOverlayBackToDefault(thumbnailElements[1]);\r\n      displayTickSVGOverImageThumbnail(thumbnailElements[2]);\r\n    }\r\n  }\r\n}\r\n\r\nfunction initialiseImageListML(allImageDataObj) {\r\n  allImageDataRef = allImageDataObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/imageListML.js?");

/***/ }),

/***/ "./src/js/tools/imageList/init.js":
/*!****************************************!*\
  !*** ./src/js/tools/imageList/init.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseImageListFunctionality; });\n/* harmony import */ var _imageList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _buttons_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buttons/buttonClickEvents */ \"./src/js/tools/imageList/buttons/buttonClickEvents.js\");\n/* harmony import */ var _buttons_buttonHoverEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./buttons/buttonHoverEvents */ \"./src/js/tools/imageList/buttons/buttonHoverEvents.js\");\n\r\n\r\n\r\n\r\nfunction initialiseImageListFunctionality() {\r\n  Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"initialiseImageList\"])();\r\n  Object(_buttons_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\n  Object(_buttons_buttonHoverEvents__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/init.js?");

/***/ }),

/***/ "./src/js/tools/imageList/removeImages/modal/buttons/buttonClickEvents.js":
/*!********************************************************************************!*\
  !*** ./src/js/tools/imageList/removeImages/modal/buttons/buttonClickEvents.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignRemoveImagesModalButtonEventHandlers; });\n/* harmony import */ var _workers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./workers */ \"./src/js/tools/imageList/removeImages/modal/buttons/workers.js\");\n\r\n\r\nfunction assignRemoveImagesModalButtonEventHandlers(removeImageCallback) {\r\n  window.approveRemoveImage = _workers__WEBPACK_IMPORTED_MODULE_0__[\"removeImage\"].bind({ removeImageCallback });\r\n  window.cancelRemoveImage = _workers__WEBPACK_IMPORTED_MODULE_0__[\"cancelRemoveImage\"];\r\n  window.toggleDoNotShowRemoveImageModalAgain = _workers__WEBPACK_IMPORTED_MODULE_0__[\"toggleDoNotShowRemoveImageModalAgain\"];\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/removeImages/modal/buttons/buttonClickEvents.js?");

/***/ }),

/***/ "./src/js/tools/imageList/removeImages/modal/buttons/workers.js":
/*!**********************************************************************!*\
  !*** ./src/js/tools/imageList/removeImages/modal/buttons/workers.js ***!
  \**********************************************************************/
/*! exports provided: removeImage, cancelRemoveImage, toggleDoNotShowRemoveImageModalAgain */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeImage\", function() { return removeImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cancelRemoveImage\", function() { return cancelRemoveImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toggleDoNotShowRemoveImageModalAgain\", function() { return toggleDoNotShowRemoveImageModalAgain; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../style */ \"./src/js/tools/imageList/removeImages/modal/style.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/imageList/removeImages/modal/stateMachine.js\");\n\r\n\r\n\r\nfunction removeImage() {\r\n  this.removeImageCallback();\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"closeRemoveImagesModal\"])();\r\n}\r\n\r\nfunction cancelRemoveImage() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"closeRemoveImagesModal\"])();\r\n}\r\n\r\nfunction toggleDoNotShowRemoveImageModalAgain() {\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setDoNotShowRemoveImageModalAgainState\"])(!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getDoNotShowRemoveImageModalAgainState\"])());\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/removeImages/modal/buttons/workers.js?");

/***/ }),

/***/ "./src/js/tools/imageList/removeImages/modal/init.js":
/*!***********************************************************!*\
  !*** ./src/js/tools/imageList/removeImages/modal/init.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseRemoveImagesModal; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/imageList/removeImages/modal/style.js\");\n/* harmony import */ var _buttons_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buttons/buttonClickEvents */ \"./src/js/tools/imageList/removeImages/modal/buttons/buttonClickEvents.js\");\n/* harmony import */ var _removeImages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../removeImages */ \"./src/js/tools/imageList/removeImages/removeImages.js\");\n\r\n\r\n\r\n\r\nfunction initialiseRemoveImagesModal() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"initialiseRemoveImagesModalStyling\"])();\r\n  Object(_buttons_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_removeImages__WEBPACK_IMPORTED_MODULE_2__[\"removeImage\"]);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/removeImages/modal/init.js?");

/***/ }),

/***/ "./src/js/tools/imageList/removeImages/modal/stateMachine.js":
/*!*******************************************************************!*\
  !*** ./src/js/tools/imageList/removeImages/modal/stateMachine.js ***!
  \*******************************************************************/
/*! exports provided: getDoNotShowRemoveImageModalAgainState, setDoNotShowRemoveImageModalAgainState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDoNotShowRemoveImageModalAgainState\", function() { return getDoNotShowRemoveImageModalAgainState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDoNotShowRemoveImageModalAgainState\", function() { return setDoNotShowRemoveImageModalAgainState; });\nlet doNotShowRemoveImageModalAgainState = false;\r\n\r\nfunction getDoNotShowRemoveImageModalAgainState() {\r\n  return doNotShowRemoveImageModalAgainState;\r\n}\r\n\r\nfunction setDoNotShowRemoveImageModalAgainState(state) {\r\n  doNotShowRemoveImageModalAgainState = state;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/removeImages/modal/stateMachine.js?");

/***/ }),

/***/ "./src/js/tools/imageList/removeImages/modal/style.js":
/*!************************************************************!*\
  !*** ./src/js/tools/imageList/removeImages/modal/style.js ***!
  \************************************************************/
/*! exports provided: initialiseRemoveImagesModalStyling, displayRemoveImagesModal, closeRemoveImagesModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseRemoveImagesModalStyling\", function() { return initialiseRemoveImagesModalStyling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayRemoveImagesModal\", function() { return displayRemoveImagesModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeRemoveImagesModal\", function() { return closeRemoveImagesModal; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../dimWindow/dimWindowService */ \"./src/js/tools/dimWindow/dimWindowService.js\");\n/* harmony import */ var _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../dimWindow/consts */ \"./src/js/tools/dimWindow/consts.js\");\n\r\n\r\n\r\n\r\nlet modalParentElement = null;\r\n\r\nfunction displayRemoveImagesModal() {\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_1__[\"dimWindow\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"SLOW_DIM_SECONDS\"], _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"THICK_DIM\"]);\r\n  modalParentElement.style.display = 'block';\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setRemoveImageModalDisplayedState\"])(true);\r\n}\r\n\r\nfunction closeRemoveImagesModal() {\r\n  modalParentElement.style.display = 'none';\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setRemoveImageModalDisplayedState\"])(false);\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_1__[\"lightUpWindow\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"SLOW_LIGHTUP_MILLISECONDS\"]);\r\n}\r\n\r\nfunction setInitialCheckBoxInputValue() {\r\n  document.getElementById('remove-images-modal-checkbox').checked = false;\r\n}\r\n\r\nfunction assignRemoveImagesModalLocalVariables() {\r\n  modalParentElement = document.getElementById('remove-images-modal-parent');\r\n}\r\n\r\nfunction initialiseRemoveImagesModalStyling() {\r\n  assignRemoveImagesModalLocalVariables();\r\n  setInitialCheckBoxInputValue();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/removeImages/modal/style.js?");

/***/ }),

/***/ "./src/js/tools/imageList/removeImages/removeImages.js":
/*!*************************************************************!*\
  !*** ./src/js/tools/imageList/removeImages/removeImages.js ***!
  \*************************************************************/
/*! exports provided: assignCanvasForRemovingImages, triggerRemoveImage, removeImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForRemovingImages\", function() { return assignCanvasForRemovingImages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"triggerRemoveImage\", function() { return triggerRemoveImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeImage\", function() { return removeImage; });\n/* harmony import */ var _imageList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _imageSwitchPanel_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../imageSwitchPanel/style */ \"./src/js/tools/imageSwitchPanel/style.js\");\n/* harmony import */ var _labelList_labelList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../labelList/labelList */ \"./src/js/tools/labelList/labelList.js\");\n/* harmony import */ var _canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../canvas/objects/label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../globalStatistics/globalStatistics */ \"./src/js/tools/globalStatistics/globalStatistics.js\");\n/* harmony import */ var _uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../toolkit/buttonClickEvents/facadeWorkers/zoomWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js\");\n/* harmony import */ var _modal_stateMachine__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modal/stateMachine */ \"./src/js/tools/imageList/removeImages/modal/stateMachine.js\");\n/* harmony import */ var _canvas_utils_watermark__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../canvas/utils/watermark */ \"./src/js/canvas/utils/watermark.js\");\n/* harmony import */ var _toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _modal_style__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modal/style */ \"./src/js/tools/imageList/removeImages/modal/style.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\n\r\nfunction resetEverything() {\r\n  Object(_toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_7__[\"resetZoom\"])(false);\r\n  Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"updateCurrentImageIds\"])(0, 0);\r\n  const lastDrawingModeState = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_11__[\"getContinuousDrawingState\"])() ? _stateMachine__WEBPACK_IMPORTED_MODULE_11__[\"getLastDrawingModeState\"] : false;\r\n  window.editShapes();\r\n  // the following is preparation to set an active drawing mode on a new image upload\r\n  if (lastDrawingModeState) Object(_stateMachine__WEBPACK_IMPORTED_MODULE_11__[\"setDefaultState\"])(false);\r\n  Object(_imageSwitchPanel_style__WEBPACK_IMPORTED_MODULE_1__[\"setImageNameElementToDefault\"])();\r\n  Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_2__[\"removeAllLabelListItems\"])();\r\n  Object(_canvas_utils_watermark__WEBPACK_IMPORTED_MODULE_9__[\"drawWatermarkOnCanvasAreaBackground\"])();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setCreateBoundingBoxButtonToDisabled\"])();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setCreatePolygonButtonToDisabled\"])();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setRemoveImagesButtonsDisabled\"])();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setEditShapesButtonToDisabled\"])();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setZoomInButtonToDisabled\"])();\r\n  canvas.clear();\r\n  // the following deals with an overflow bug when resizing an empty canvas with previous dimensions\r\n  canvas.setDimensions({ width: 1, height: 1 });\r\n  Object(_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_6__[\"setCurrentImage\"])(null);\r\n}\r\n\r\nfunction switchImage(index, allImageData, previousImageDataLength) {\r\n  if (index < allImageData.length) {\r\n    const nextImageId = (index - (previousImageDataLength - allImageData.length)) + 1;\r\n    Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"updateCurrentImageIds\"])(-1, allImageData.length);\r\n    window.switchImage(nextImageId);\r\n  } else if (allImageData.length > 0) {\r\n    Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"updateCurrentImageIds\"])(-1, allImageData.length);\r\n    window.switchImage(allImageData.length - 1);\r\n  } else {\r\n    resetEverything();\r\n  }\r\n}\r\n\r\nfunction removeAllShapes() {\r\n  const allShapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_4__[\"getAllExistingShapes\"])();\r\n  Object.keys(allShapes).forEach((key) => {\r\n    Object(_globalStatistics_globalStatistics__WEBPACK_IMPORTED_MODULE_5__[\"decrementShapeType\"])(allShapes[key].shapeRef);\r\n  });\r\n  Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_4__[\"removeAllShapeRefs\"])();\r\n}\r\n\r\nfunction resetRemainingImageElements() {\r\n  const imageNodes = document.getElementById('image-list-overflow-parent').childNodes;\r\n  for (let i = 1; i < imageNodes.length; i += 1) {\r\n    const imageElement = imageNodes[i].childNodes[0];\r\n    imageElement.id = i - 1;\r\n    imageNodes[i].onclick = window.switchImage.bind(this, i - 1);\r\n  }\r\n}\r\n\r\nfunction removeImage(allImageDataArr) {\r\n  const allImageData = allImageDataArr || Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"getAllImageData\"])();\r\n  const index = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_11__[\"getCurrentImageId\"])();\r\n  document.getElementById(index).parentElement.remove();\r\n  resetRemainingImageElements();\r\n  const previousImageDataLength = allImageData.length;\r\n  allImageData.splice(index, 1);\r\n  Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_3__[\"removeAllLabelRefs\"])();\r\n  removeAllShapes();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setPolygonEditingButtonsToDisabled\"])();\r\n  switchImage(index, allImageData, previousImageDataLength);\r\n}\r\n\r\nfunction triggerRemoveImage() {\r\n  const allImageData = Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"getAllImageData\"])();\r\n  if (allImageData.length > 0) {\r\n    if (Object(_modal_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"getDoNotShowRemoveImageModalAgainState\"])()) {\r\n      removeImage(allImageData);\r\n    } else {\r\n      Object(_modal_style__WEBPACK_IMPORTED_MODULE_12__[\"displayRemoveImagesModal\"])();\r\n    }\r\n  }\r\n}\r\n\r\nfunction assignCanvasForRemovingImages(canvasArg) {\r\n  canvas = canvasArg;\r\n}\r\n\r\n\r\n\r\n// initial code to get started on the multi-image removal functionality\r\n\r\n// let imageRemoveList = [];\r\n\r\n// function removeImage() {\r\n//   const allImageData = getAllImageData();\r\n//   if (allImageData.length > 0) {\r\n//     const index = getCurrentImageId();\r\n//     const tempAllImageDataLength = allImageData.length;\r\n//     allImageData.splice(index, 1);\r\n//     document.getElementById(index).parentElement.remove();\r\n//     const imageNodes = document.getElementById('image-list-overflow-parent').childNodes;\r\n//     for (let i = 1; i < imageNodes.length; i += 1) {\r\n//       const imageElement = imageNodes[i].childNodes[0];\r\n//       imageElement.id = i - 1;\r\n//       imageNodes[i].onclick = window.switchImage.bind(this, i - 1);\r\n//     }\r\n//     const newCurrentImageId = getCurrentImageId()\r\n//       - (tempAllImageDataLength - allImageData.length);\r\n//     if (index === getCurrentImageId()) {\r\n//       const afterRemoving = true;\r\n//       if (index < allImageData.length) {\r\n//         updateCurrentImageIds(newCurrentImageId, allImageData.length);\r\n//         window.switchImage('next', afterRemoving);\r\n//       } else if (allImageData.length > 0) {\r\n//         updateCurrentImageIds(-1, allImageData.length);\r\n//         window.switchImage(allImageData.length - 1);\r\n//       } else {\r\n//         updateCurrentImageIds(0, 0);\r\n//         canvas.clear();\r\n//       }\r\n//       removeAllLabelRefs();\r\n//       removeAllShapeRefs();\r\n//     }\r\n//   }\r\n// }\r\n\r\n// function removeImages() {\r\n//   const allImageData = getAllImageData();\r\n//   imageRemoveList.forEach((index) => {\r\n//     allImageData.splice(index, 1);\r\n//   });\r\n//   imageRemoveList = [];\r\n// }\r\n\r\n// function addImageIndexToRemoveList(index) {\r\n//   imageRemoveList.push(index);\r\n// }\r\n\r\n// function initialiseRemoveImagesFunctionality() {\r\n//   window.removeImage = removeImage;\r\n//   window.removeImages = removeImages;\r\n//   window.addImageIndexToRemoveList = addImageIndexToRemoveList;\r\n// }\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/removeImages/removeImages.js?");

/***/ }),

/***/ "./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js":
/*!******************************************************************!*\
  !*** ./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js ***!
  \******************************************************************/
/*! exports provided: removeCanvasOuterMargin, resizeCanvas, getCurrentImage, onImageLoad, getImageProperties, enableCanvasOuterMargin, calculateCurrentImageHeightRatio, setCurrentImage, resizeCanvasAndImage, assignCanvasForDrawingImage, getCanvasProperties, drawImageFromList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeCanvasOuterMargin\", function() { return removeCanvasOuterMargin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeCanvas\", function() { return resizeCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentImage\", function() { return getCurrentImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onImageLoad\", function() { return onImageLoad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getImageProperties\", function() { return getImageProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enableCanvasOuterMargin\", function() { return enableCanvasOuterMargin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateCurrentImageHeightRatio\", function() { return calculateCurrentImageHeightRatio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCurrentImage\", function() { return setCurrentImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeCanvasAndImage\", function() { return resizeCanvasAndImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForDrawingImage\", function() { return assignCanvasForDrawingImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCanvasProperties\", function() { return getCanvasProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawImageFromList\", function() { return drawImageFromList; });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globalStyling_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../globalStyling/style */ \"./src/js/tools/globalStyling/style.js\");\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\n\r\n\r\n\r\nconst initialFileStatus = {};\r\nconst newFileStatus = { uploaded: false, name: null };\r\nconst canvasProperties = {};\r\nlet canvas = null;\r\nlet currentImage = null;\r\nlet canvasOuterMargin = true;\r\n\r\nfunction drawResizedImage(newImageDimensions) {\r\n  canvas.setWidth(Math.ceil(newImageDimensions.width));\r\n  canvas.setHeight(Math.ceil(newImageDimensions.height));\r\n  fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Image.fromURL(currentImage.src, (img) => {\r\n    newFileStatus.scaleX = canvas.width / img.width;\r\n    newFileStatus.scaleY = canvas.height / img.height;\r\n    newFileStatus.originalWidth = img.width;\r\n    newFileStatus.originalHeight = img.height;\r\n    canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas), {\r\n      scaleX: newFileStatus.scaleX,\r\n      scaleY: newFileStatus.scaleY,\r\n    });\r\n  });\r\n  newFileStatus.width = newImageDimensions.width;\r\n  newFileStatus.height = newImageDimensions.height;\r\n}\r\n\r\nfunction drawOriginalImage() {\r\n  canvas.setWidth(Math.ceil(currentImage.width));\r\n  canvas.setHeight(Math.ceil(currentImage.height));\r\n  fabric__WEBPACK_IMPORTED_MODULE_0___default.a.Image.fromURL(currentImage.src, (img) => {\r\n    newFileStatus.originalWidth = img.width;\r\n    newFileStatus.originalHeight = img.height;\r\n    canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas), {});\r\n  });\r\n  newFileStatus.scaleX = 1;\r\n  newFileStatus.scaleY = 1;\r\n  newFileStatus.width = currentImage.width;\r\n  newFileStatus.height = currentImage.height;\r\n}\r\n\r\nfunction drawImageOnCanvas(newImageDimensions) {\r\n  if (newImageDimensions) {\r\n    drawResizedImage(newImageDimensions);\r\n  } else {\r\n    drawOriginalImage();\r\n  }\r\n}\r\n\r\nfunction resizeWhenImageExceedsMaxHeight() {\r\n  const newImageDimensions = {};\r\n  const heightRatio = canvasProperties.maximumCanvasHeight / currentImage.height;\r\n  newImageDimensions.height = canvasProperties.maximumCanvasHeight;\r\n  newImageDimensions.width = currentImage.width * heightRatio;\r\n  return newImageDimensions;\r\n}\r\n\r\nfunction resizeWhenImageExceedsMaxWidth(imageDimensions) {\r\n  const newImageDimensions = {};\r\n  const widthRatio = canvasProperties.maximumCanvasWidth / imageDimensions.width;\r\n  /*\r\n    code for not filling up the entire screen with the canvas\r\n     newImageDimensions.width = canvasProperties.maximumCanvasWidth - 20;\r\n     newImageDimensions.height = imageDimensions.height * widthRatio - 20;\r\n  */\r\n  newImageDimensions.width = canvasProperties.maximumCanvasWidth;\r\n  newImageDimensions.height = imageDimensions.height * widthRatio;\r\n  return newImageDimensions;\r\n}\r\n\r\nfunction setCanvasWrapperMaximumDimensions() {\r\n  const canvasWrapper = document.getElementById('canvas-wrapper');\r\n  canvasWrapper.style.maxWidth = `${canvasProperties.maximumCanvasWidth}px`;\r\n  canvasWrapper.style.maxHeight = `${canvasProperties.maximumCanvasHeight}px`;\r\n}\r\n\r\nfunction setNewCanvasProperties() {\r\n  const sideToolsTotalWidth = Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_1__[\"getLeftSideBarWidth\"])() + Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_1__[\"getRightSideBarWidth\"])();\r\n  const innerHeight = window.innerHeight - Math.ceil(35 + (29 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_3__[\"getScreenSizeDelta\"])()));\r\n  const innerWidth = window.innerWidth - sideToolsTotalWidth;\r\n  canvasProperties.maximumCanvasHeight = canvasOuterMargin\r\n    ? innerHeight - (window.innerHeight * 0.0382263)\r\n    : innerHeight;\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\r\n    canvasProperties.maximumCanvasWidth = canvasOuterMargin\r\n      ? innerWidth - 0.5 - (window.innerWidth * 0.020237453)\r\n      : innerWidth - 0.5;\r\n  } else {\r\n    canvasProperties.maximumCanvasWidth = canvasOuterMargin\r\n      ? innerWidth - (window.innerWidth * 0.020237453)\r\n      : innerWidth;\r\n  }\r\n}\r\n\r\n// For 45px margin instead\r\n// const sideToolsTotalWidth = getLeftSideBarWidth() + getRightSideBarWidth();\r\n// const innerHeight = window.innerHeight - 64;\r\n// const innerWidth = window.innerWidth - sideToolsTotalWidth;\r\n// canvasProperties.maximumCanvasHeight = canvasOuterMargin\r\n//   ? innerHeight - (window.innerHeight * 0.04587156)\r\n//   : innerHeight;\r\n// if (IS_FIREFOX) {\r\n//   canvasProperties.maximumCanvasWidth = canvasOuterMargin\r\n//     ? innerWidth - 0.5 - (window.innerWidth * 0.024284943)\r\n//     : innerWidth - 0.5;\r\n// } else {\r\n//   canvasProperties.maximumCanvasWidth = canvasOuterMargin\r\n//     ? innerWidth - (window.innerWidth * 0.024284943)\r\n//     : innerWidth;\r\n// }\r\n\r\nfunction draw() {\r\n  setNewCanvasProperties();\r\n  if (canvasProperties.maximumCanvasHeight < currentImage.height) {\r\n    let newImageDimensions = resizeWhenImageExceedsMaxHeight();\r\n    if (canvasProperties.maximumCanvasWidth < newImageDimensions.width) {\r\n      newImageDimensions = resizeWhenImageExceedsMaxWidth(newImageDimensions);\r\n    }\r\n    drawImageOnCanvas(newImageDimensions);\r\n  } else if (canvasProperties.maximumCanvasWidth < currentImage.width) {\r\n    const newImageDimensions = resizeWhenImageExceedsMaxWidth(currentImage);\r\n    drawImageOnCanvas(newImageDimensions);\r\n  } else {\r\n    drawImageOnCanvas();\r\n  }\r\n  setCanvasWrapperMaximumDimensions();\r\n  initialFileStatus.width = newFileStatus.width;\r\n  initialFileStatus.height = newFileStatus.height;\r\n}\r\n\r\nfunction removeCanvasOuterMargin() {\r\n  canvasOuterMargin = false;\r\n  setNewCanvasProperties();\r\n}\r\n\r\nfunction enableCanvasOuterMargin() {\r\n  canvasOuterMargin = true;\r\n  setNewCanvasProperties();\r\n}\r\n\r\n// investigate quality\r\n\r\nfunction drawImageFromList(selectedImage) {\r\n  currentImage = selectedImage;\r\n  draw();\r\n}\r\n\r\nfunction onImageLoad(arg) {\r\n  newFileStatus.uploaded = true;\r\n  currentImage = this ? this : arg;\r\n  draw();\r\n  canvas.setZoom(1);\r\n}\r\n\r\nfunction assignCanvasForDrawingImage(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\nfunction getCanvasProperties() {\r\n  return canvasProperties;\r\n}\r\n\r\nfunction getImageProperties() {\r\n  return newFileStatus;\r\n}\r\n\r\nfunction calculateCurrentImageHeightRatio() {\r\n  return newFileStatus.height / newFileStatus.originalHeight;\r\n}\r\n\r\nfunction calculateNewFileSizeRatio() {\r\n  const newFileSizeRatio = {};\r\n  newFileSizeRatio.width = newFileStatus.width / initialFileStatus.width;\r\n  newFileSizeRatio.height = newFileStatus.height / initialFileStatus.height;\r\n  initialFileStatus.width = newFileStatus.width;\r\n  initialFileStatus.height = newFileStatus.height;\r\n  return newFileSizeRatio;\r\n}\r\n\r\nfunction resizeCanvasAndImage() {\r\n  setNewCanvasProperties();\r\n  if (currentImage) {\r\n    if (canvasProperties.maximumCanvasHeight < currentImage.height) {\r\n      let newImageDimensions = resizeWhenImageExceedsMaxHeight();\r\n      if (canvasProperties.maximumCanvasWidth < newImageDimensions.width) {\r\n        newImageDimensions = resizeWhenImageExceedsMaxWidth(newImageDimensions);\r\n      }\r\n      drawImageOnCanvas(newImageDimensions);\r\n    } else if (canvasProperties.maximumCanvasWidth < currentImage.width) {\r\n      const newImageDimensions = resizeWhenImageExceedsMaxWidth(currentImage);\r\n      drawImageOnCanvas(newImageDimensions);\r\n    } else {\r\n      drawImageOnCanvas();\r\n    }\r\n  }\r\n  return calculateNewFileSizeRatio();\r\n}\r\n\r\nfunction setCurrentImage(image) {\r\n  currentImage = image;\r\n}\r\n\r\nfunction getCurrentImage() {\r\n  return currentImage;\r\n}\r\n\r\nfunction resizeCanvas() {\r\n  setNewCanvasProperties();\r\n  if (canvasProperties.maximumCanvasHeight < currentImage.height) {\r\n    let newImageDimensions = resizeWhenImageExceedsMaxHeight();\r\n    if (canvasProperties.maximumCanvasWidth < newImageDimensions.width) {\r\n      newImageDimensions = resizeWhenImageExceedsMaxWidth(newImageDimensions);\r\n    }\r\n    canvas.setWidth(Math.ceil(newImageDimensions.width));\r\n    canvas.setHeight(Math.ceil(newImageDimensions.height));\r\n  } else if (canvasProperties.maximumCanvasWidth < currentImage.width) {\r\n    const newImageDimensions = resizeWhenImageExceedsMaxWidth(currentImage);\r\n    canvas.setWidth(Math.ceil(newImageDimensions.width));\r\n    canvas.setHeight(Math.ceil(newImageDimensions.height));\r\n  } else {\r\n    canvas.setWidth(Math.ceil(currentImage.width));\r\n    canvas.setHeight(Math.ceil(currentImage.height));\r\n  }\r\n  setCanvasWrapperMaximumDimensions();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js?");

/***/ }),

/***/ "./src/js/tools/imageList/uploadImages/uploadImages.js":
/*!*************************************************************!*\
  !*** ./src/js/tools/imageList/uploadImages/uploadImages.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return uploadImages; });\n/* harmony import */ var _imageList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _machineLearningModal_views_initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../machineLearningModal/views/initiateMachineLearning/style */ \"./src/js/tools/machineLearningModal/views/initiateMachineLearning/style.js\");\n\r\n\r\n\r\n\r\nfunction onFileLoad(imageMetaData, e) {\r\n  const image = new Image();\r\n  image.src = e.target.result;\r\n  image.onload = _drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__[\"onImageLoad\"];\r\n  Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"addSingleImageToList\"])(imageMetaData, image);\r\n  Object(_machineLearningModal_views_initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_2__[\"removeNoImagesFoundOnMLModalStyle\"])();\r\n}\r\n\r\nfunction onMultiFileLoad(imageMetadata, firstImage, e) {\r\n  const image = new Image();\r\n  image.src = e.target.result;\r\n  if (firstImage) {\r\n    image.onload = _drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_1__[\"onImageLoad\"];\r\n  }\r\n  Object(_imageList__WEBPACK_IMPORTED_MODULE_0__[\"addImageFromMultiUploadToList\"])(imageMetadata, image, firstImage);\r\n  Object(_machineLearningModal_views_initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_2__[\"removeNoImagesFoundOnMLModalStyle\"])();\r\n}\r\n\r\n// onerror?\r\nfunction uploadImages(uploadData) {\r\n  if (uploadData.files && uploadData.files.length > 0) {\r\n    if (uploadData.files.length === 1) {\r\n      const reader = new FileReader();\r\n      reader.onload = onFileLoad.bind(this, uploadData.files[0]);\r\n      reader.readAsDataURL(uploadData.files[0]);\r\n    } else {\r\n      for (let i = 0; i < uploadData.files.length; i += 1) {\r\n        const reader = new FileReader();\r\n        const firstImage = i === 0;\r\n        reader.onload = onMultiFileLoad.bind(this, uploadData.files[i], firstImage);\r\n        reader.readAsDataURL(uploadData.files[i]);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageList/uploadImages/uploadImages.js?");

/***/ }),

/***/ "./src/js/tools/imageSwitchPanel/style.js":
/*!************************************************!*\
  !*** ./src/js/tools/imageSwitchPanel/style.js ***!
  \************************************************/
/*! exports provided: updateImageNameElement, setImageNameElementToDefault, initialiseImageSwitchPanelFunctionality */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateImageNameElement\", function() { return updateImageNameElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setImageNameElementToDefault\", function() { return setImageNameElementToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseImageSwitchPanelFunctionality\", function() { return initialiseImageSwitchPanelFunctionality; });\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\nlet nextButtonElement = null;\r\nlet previousButtonElement = null;\r\nlet imageNameElement = null;\r\nlet imageNameElementMinWidth = 0;\r\nlet imageElementSidePaddingLength = 37;\r\n\r\nconst ACTIVE_COLOR = 'black';\r\nconst DEFAULT_IMAGE_NAME = 'Image name';\r\nconst ENABLED_TOOLKIT_BUTTON_CLASS = 'toolkit-button-default';\r\nconst DISABLED_TOOLKIT_BUTTON_CLASS = 'toolkit-button-disabled';\r\nconst ENABLED_IMAGE_SWITCH_BUTTON_CLASS = 'image-switch-button-enabled';\r\n\r\nfunction disableButton(element) {\r\n  element.classList.replace(ENABLED_TOOLKIT_BUTTON_CLASS, DISABLED_TOOLKIT_BUTTON_CLASS);\r\n  element.classList.remove(ENABLED_IMAGE_SWITCH_BUTTON_CLASS);\r\n}\r\n\r\nfunction enableButton(element) {\r\n  element.classList.replace(DISABLED_TOOLKIT_BUTTON_CLASS, ENABLED_TOOLKIT_BUTTON_CLASS);\r\n  element.classList.add(ENABLED_IMAGE_SWITCH_BUTTON_CLASS);\r\n}\r\n\r\nfunction setImageNameElementToActive() {\r\n  imageNameElement.style.color = ACTIVE_COLOR;\r\n}\r\n\r\nfunction setImageNameElementToDefault() {\r\n  imageNameElement.innerHTML = DEFAULT_IMAGE_NAME;\r\n  imageNameElement.style.color = '';\r\n}\r\n\r\nfunction setNameElementMinWidth() {\r\n  const imageNameElementWidth = imageNameElement.clientWidth - imageElementSidePaddingLength;\r\n  if (imageNameElementWidth > imageNameElementMinWidth) {\r\n    imageNameElement.style.minWidth = `${imageNameElementWidth}px`;\r\n    imageNameElementMinWidth = imageNameElementWidth;\r\n  }\r\n}\r\n\r\nfunction updateImageNameElement(imageName, images, currentlySelectedImageId, firstFromMany) {\r\n  imageNameElement.innerHTML = imageName;\r\n  setNameElementMinWidth();\r\n  if (images.length === 1) {\r\n    setImageNameElementToActive();\r\n    if (firstFromMany) {\r\n      enableButton(nextButtonElement);\r\n    } else {\r\n      disableButton(nextButtonElement);\r\n      disableButton(previousButtonElement);\r\n    }\r\n  } else if (images.length > 1) {\r\n    if (images.length - 1 === currentlySelectedImageId) {\r\n      if (firstFromMany) {\r\n        enableButton(nextButtonElement);\r\n      } else {\r\n        disableButton(nextButtonElement);\r\n      }\r\n      enableButton(previousButtonElement);\r\n    } else if (currentlySelectedImageId === 0) {\r\n      disableButton(previousButtonElement);\r\n      enableButton(nextButtonElement);\r\n    } else {\r\n      enableButton(nextButtonElement);\r\n      enableButton(previousButtonElement);\r\n    }\r\n  }\r\n}\r\n\r\nfunction findImageSwitchElements() {\r\n  imageNameElement = document.getElementById('image-name');\r\n  [previousButtonElement, nextButtonElement] = document.getElementsByClassName('image-switch-button');\r\n}\r\n\r\nfunction initialiseImageSwitchPanelFunctionality() {\r\n  findImageSwitchElements();\r\n  imageElementSidePaddingLength /= Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__[\"getScreenSizeDelta\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/imageSwitchPanel/style.js?");

/***/ }),

/***/ "./src/js/tools/labelList/iconHighlightUtils.js":
/*!******************************************************!*\
  !*** ./src/js/tools/labelList/iconHighlightUtils.js ***!
  \******************************************************/
/*! exports provided: dimActiveIcon, dimDefaultIcon, switchToActiveIcon, switchToDefaultIcon, highlightActiveIcon, highlightDefaultIcon, switchToHighlightedActiveIcon, switchToHighlightedDefaultIcon, switchToHighlightedDefaultVisibilityIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dimActiveIcon\", function() { return dimActiveIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dimDefaultIcon\", function() { return dimDefaultIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"switchToActiveIcon\", function() { return switchToActiveIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"switchToDefaultIcon\", function() { return switchToDefaultIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"highlightActiveIcon\", function() { return highlightActiveIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"highlightDefaultIcon\", function() { return highlightDefaultIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"switchToHighlightedActiveIcon\", function() { return switchToHighlightedActiveIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"switchToHighlightedDefaultIcon\", function() { return switchToHighlightedDefaultIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"switchToHighlightedDefaultVisibilityIcon\", function() { return switchToHighlightedDefaultVisibilityIcon; });\nfunction highlightDefaultIcon(element) {\r\n  element.childNodes[1].style.display = 'none';\r\n  element.childNodes[3].style.display = '';\r\n}\r\n\r\nfunction dimDefaultIcon(element) {\r\n  element.childNodes[1].style.display = '';\r\n  element.childNodes[3].style.display = 'none';\r\n}\r\n\r\nfunction highlightActiveIcon(element) {\r\n  element.childNodes[5].style.display = 'none';\r\n  element.childNodes[7].style.display = '';\r\n}\r\n\r\nfunction dimActiveIcon(element) {\r\n  element.childNodes[5].style.display = '';\r\n  element.childNodes[7].style.display = 'none';\r\n}\r\n\r\nfunction switchToDefaultIcon(activeEditLabelButton) {\r\n  activeEditLabelButton.childNodes[1].style.display = '';\r\n  activeEditLabelButton.childNodes[5].style.display = 'none';\r\n}\r\n\r\nfunction switchToActiveIcon(element) {\r\n  element.childNodes[1].style.display = 'none';\r\n  element.childNodes[5].style.display = '';\r\n}\r\n\r\nfunction switchToHighlightedActiveIcon(element) {\r\n  element.childNodes[3].style.display = 'none';\r\n  element.childNodes[7].style.display = '';\r\n}\r\n\r\nfunction switchToHighlightedDefaultIcon(activeEditLabelButton) {\r\n  activeEditLabelButton.childNodes[3].style.display = '';\r\n  activeEditLabelButton.childNodes[7].style.display = 'none';\r\n}\r\n\r\nfunction switchToHighlightedDefaultVisibilityIcon(element) {\r\n  element.childNodes[3].style.display = '';\r\n  element.childNodes[7].style.display = 'none';\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/labelList/iconHighlightUtils.js?");

/***/ }),

/***/ "./src/js/tools/labelList/labelList.js":
/*!*********************************************!*\
  !*** ./src/js/tools/labelList/labelList.js ***!
  \*********************************************/
/*! exports provided: finishEditingLabelList, moveSelectedLabelToFrontOfLabelOptions, removeAllLabelListItems, repopulateDropdown, initialiseLabelListFunctionality, addExistingLabelToList, arrowKeyEventsForLabelList, isEditingLabelInLabelList, getCurrentlySelectedLabelShape, addNewLabelToListFromPopup, arrowKeyEventsForLabelOtionsList, removeLabelFromListOnShapeDelete, cancelEditingViaKeyboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"finishEditingLabelList\", function() { return finishEditingLabelList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"moveSelectedLabelToFrontOfLabelOptions\", function() { return moveSelectedLabelToFrontOfLabelOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeAllLabelListItems\", function() { return removeAllLabelListItems; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"repopulateDropdown\", function() { return repopulateDropdown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseLabelListFunctionality\", function() { return initialiseLabelListFunctionality; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addExistingLabelToList\", function() { return addExistingLabelToList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrowKeyEventsForLabelList\", function() { return arrowKeyEventsForLabelList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isEditingLabelInLabelList\", function() { return isEditingLabelInLabelList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentlySelectedLabelShape\", function() { return getCurrentlySelectedLabelShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addNewLabelToListFromPopup\", function() { return addNewLabelToListFromPopup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrowKeyEventsForLabelOtionsList\", function() { return arrowKeyEventsForLabelOtionsList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeLabelFromListOnShapeDelete\", function() { return removeLabelFromListOnShapeDelete; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cancelEditingViaKeyboard\", function() { return cancelEditingViaKeyboard; });\n/* harmony import */ var _canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../canvas/objects/label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../canvas/objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/removePointsEventsWorker.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker.js\");\n/* harmony import */ var _labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./labelListHighlightUtils */ \"./src/js/tools/labelList/labelListHighlightUtils.js\");\n/* harmony import */ var _labelOptions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./labelOptions */ \"./src/js/tools/labelList/labelOptions.js\");\n/* harmony import */ var _iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./iconHighlightUtils */ \"./src/js/tools/labelList/iconHighlightUtils.js\");\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n/* harmony import */ var _labellerModal_style__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../labellerModal/style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _imageList_imageListML__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../imageList/imageListML */ \"./src/js/tools/imageList/imageListML.js\");\n/* harmony import */ var _globalStyling_style__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../globalStyling/style */ \"./src/js/tools/globalStyling/style.js\");\n/* harmony import */ var _utils_tableUtils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/tableUtils */ \"./src/js/tools/utils/tableUtils.js\");\n/* harmony import */ var _utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/elementCaretUtils */ \"./src/js/tools/utils/elementCaretUtils.js\");\n/* harmony import */ var _utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/textProcessingUtils */ \"./src/js/tools/utils/textProcessingUtils.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n/* harmony import */ var _globalStyling_timeouts__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../globalStyling/timeouts */ \"./src/js/tools/globalStyling/timeouts.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet isEditingLabel = false;\r\nlet keyDownEventTimeOut = 0;\r\nlet isVisibilitySelected = false;\r\nlet isVisibilityRestored = false;\r\nlet activeDropdownElements = null;\r\nlet activeLabelTextElement = null;\r\nlet activeLabelId = null;\r\nlet deselectedEditing = false;\r\nlet labelHasBeenDeselected = false;\r\nlet activeShape = null;\r\nlet activeLabelElementId = null;\r\nlet activeEditLabelButton = null;\r\nlet labelListElement = null;\r\nlet currentTableElementScrollPosition = 0;\r\nlet popuplabelOptionsElement = null;\r\nlet lastSelectedLabelOption = null;\r\nlet originalLabelText = null;\r\nlet availableListOptions = [];\r\nlet dropdownElementsWidthDefault = 0;\r\nlet dropdownElementsWidthFull = 0;\r\nlet labelsListOverflowParentElement = null;\r\nlet horizontalScrollPresentWhenEditAndScroll = false;\r\nlet mouseHoveredOnLabelEditButton = false;\r\nlet currentlyActiveLabelOptionIndex = 0;\r\nlet chromiumFakeDropdownRightBorderElement = null;\r\nlet chromiumFakeDrodownBottomBorderElement = null;\r\nlet chromiumFakeDropdownBorderElementTopDelta = 0;\r\nlet newFakeDropdownBottomBorderDeltaGenerated = false;\r\nlet chromiumFakeDrodownBottomBorderTopDimension = null;\r\nlet originalActiveDropdownHeight = 0;\r\nconst NEW_ITEM_ANIMATION_DURATION_MILLISECONDS = 300;\r\nconst LABEL_CONTAINER_ELEMENT_ID_PREFIX = 'label-container-';\r\n\r\nfunction setDropdownElementWidthVariables() {\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_11__[\"default\"]) {\r\n    dropdownElementsWidthDefault = 171;\r\n    dropdownElementsWidthFull = 206;\r\n  } else {\r\n    dropdownElementsWidthDefault = 170;\r\n    dropdownElementsWidthFull = 205;\r\n  }\r\n}\r\n\r\nfunction findLabelListElement() {\r\n  labelListElement = document.getElementById('label-list');\r\n  labelsListOverflowParentElement = document.getElementById('labels-list-overflow-parent');\r\n}\r\n\r\nfunction findPopupElement() {\r\n  popuplabelOptionsElement = document.getElementById('labeller-modal-options');\r\n}\r\n\r\nfunction initialiseLabelListFunctionality() {\r\n  findLabelListElement();\r\n  findPopupElement();\r\n  setDropdownElementWidthVariables();\r\n  Object(_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_8__[\"setLabelListElementForHighlights\"])(labelListElement, labelsListOverflowParentElement);\r\n  keyDownEventTimeOut = Object(_globalStyling_timeouts__WEBPACK_IMPORTED_MODULE_19__[\"getKeyDownEventTimeout\"])();\r\n}\r\n\r\nfunction createNewDropdown() {\r\n  const labelDropdownOptions = Object(_labelOptions__WEBPACK_IMPORTED_MODULE_9__[\"getLabelOptions\"])();\r\n  let dropdown = '<tbody>';\r\n  for (let i = 0; i < labelDropdownOptions.length; i += 1) {\r\n    const dropdownElement = `<tr><td><div id=\"labelOption${i}\" onMouseEnter=\"mouseEnterLabelDropdownOption(this, '${labelDropdownOptions[i].color.label}')\" onMouseLeave=\"mouseLeaveLabelDropdownOption(this, true)\" class=\"labelDropdownOption\">${labelDropdownOptions[i].text}</div></td></tr>\\n`;\r\n    dropdown += dropdownElement;\r\n  }\r\n  dropdown += '</tbody>';\r\n  return dropdown;\r\n}\r\n\r\nfunction repopulateDropdown() {\r\n  const dropdown = createNewDropdown();\r\n  const dropdownParentElements = document.getElementsByClassName('dropdown-content');\r\n  for (let i = 0; i < dropdownParentElements.length; i += 1) {\r\n    dropdownParentElements[i].innerHTML = dropdown;\r\n  }\r\n}\r\n\r\nfunction generateLabelVisibilityMarkup(shapeVisibile) {\r\n  if (shapeVisibile === 'default') {\r\n    return `\r\n      <img class=\"defaultVisibilityIcon\" src=\"visibility-button.svg\" alt=\"visibility\">\r\n      <img class=\"highlightedVisibilityIcon\" src=\"visibility-button-highlighted.svg\" style=\"display: none\" alt=\"visibility\">\r\n      <img class=\"defaultVisibilityIcon\" src=\"invisible-button.svg\" style=\"display: none\" alt=\"visibility\">\r\n      <img class=\"highlightedVisibilityIcon\" src=\"invisible-button-highlighted.svg\" style=\"display: none\" alt=\"visibility\">\r\n    `;\r\n  }\r\n  return `\r\n    <img class=\"defaultVisibilityIcon\" src=\"visibility-button.svg\" style=\"display: none\" alt=\"visibility\">\r\n    <img class=\"highlightedVisibilityIcon\" src=\"visibility-button-highlighted.svg\" style=\"display: none\" alt=\"visibility\">\r\n    <img class=\"defaultVisibilityIcon\" src=\"invisible-button.svg\" alt=\"visibility\">\r\n    <img class=\"highlightedVisibilityIcon\" src=\"invisible-button-highlighted.svg\" style=\"display: none\" alt=\"visibility\">\r\n  `;\r\n}\r\n\r\n// change to label list item click\r\nfunction createLabelElementMarkup(labelText, id, backgroundColor, visibility) {\r\n  return `\r\n  <div id=\"labelId${id}\" onMouseEnter=\"mouseEnterLabel(${id})\" onMouseLeave=\"mouseLeaveLabel(${id})\" onClick=\"labelBtnClick(${id})\" class=\"label${id} labelListItem\" style=\"background-color: ${backgroundColor}; transition: ${NEW_ITEM_ANIMATION_DURATION_MILLISECONDS / 1000}s; transform: translateX(-100%);\">\r\n    <div id=\"${visibility}\" onMouseEnter=\"mouseEnterVisibilityBtn(id, this)\" onMouseLeave=\"mouseLeaveVisibilityBtn(id, this)\" onClick=\"visibilityBtnClick(${id}, this)\" style=\"float:left; user-select: none; padding-right: 5px; width: 12px; cursor: pointer; padding-top: 1px\">\r\n      ${generateLabelVisibilityMarkup(visibility)}\r\n    </div>\r\n    <div id=\"editButton${id}\" onMouseEnter=\"mouseEnterLabelEditBtn(this)\" onMouseLeave=\"mouseLeaveLabelEditBtn(this)\" onClick=\"labelEditBtnClick(${id}, this)\" style=\"float:left; user-select: none; padding-right: 5px; width: 11px; cursor: pointer; padding-top: ${Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_18__[\"getScreenSizeDelta\"])() > 1.000001 ? 0.5 : 0}px\">\r\n      <img class=\"defaultLabelEditIcon\" id=\"editButton${id}\" src=\"edit.svg\" style=\"padding-left: 1px\" alt=\"edit\">\r\n      <img class=\"highlightedLabelEditIcon\" id=\"editButton${id}\" src=\"edit-highlighted.svg\" style=\"display: none\" alt=\"edit\">\r\n      <img class=\"defaultLabelEditIcon\" id=\"editButton${id}\" src=\"done-tick.svg\" style=\"display: none\" alt=\"edit\">\r\n      <img class=\"highlightedLabelEditTickIcon\" id=\"editButton${id}\" src=\"done-tick-highlighted.svg\" style=\"display: none\" alt=\"edit\">\r\n    </div>\r\n    <div id=\"labelText${id}\" spellcheck=\"false\" onkeydown=\"labelTextKeyDown(event)\" ondblclick=\"labelDblClicked(${id})\" class=\"labelText\" contentEditable=\"false\" style=\"user-select: none; padding-right: 32px; border: 1px solid transparent; display: flow-root; padding-top: ${Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_18__[\"getScreenSizeDelta\"])() > 1 ? 2 : 0}px;\">${labelText}</div>\r\n      <table class=\"dropdown-content labelDropdown${id}\">\r\n      </table>\r\n      <div id=\"chromium-fake-dropdown-border-fix${id}\">\r\n        <div class=\"chromium-fake-dropdown-border-fix chromium-fake-dropdown-border-fix-width chromium-right-border-fix\" style=\"display: none\"></div>\r\n        <div class=\"chromium-fake-dropdown-border-fix chromium-bottom-border-fix\" style=\"display: none\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  `;\r\n}\r\n\r\nfunction initialiseParentElement() {\r\n  return document.createElement('div');\r\n}\r\n\r\nfunction scrollHorizontallyToAppropriateWidth(text) {\r\n  let myCanvas = document.createElement('canvas');\r\n  const context = myCanvas.getContext('2d');\r\n  context.font = Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"getDefaultFont\"])(activeLabelTextElement);\r\n  const metrics = context.measureText(text);\r\n  if (Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"isVerticalScrollPresent\"])(labelsListOverflowParentElement)\r\n      && metrics.width > 170 - Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_14__[\"getScrollbarWidth\"])()) {\r\n    labelsListOverflowParentElement.scrollLeft = metrics.width - 165 + Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_14__[\"getScrollbarWidth\"])() / 2;\r\n  } else if (!Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"isVerticalScrollPresent\"])(labelsListOverflowParentElement) && metrics.width > 170) {\r\n    labelsListOverflowParentElement.scrollLeft = metrics.width - 165;\r\n  } else {\r\n    labelsListOverflowParentElement.scrollLeft = 0;\r\n  }\r\n  myCanvas = null;\r\n}\r\n\r\nfunction isHorizontalScrollPresent() {\r\n  return labelsListOverflowParentElement.scrollWidth > labelsListOverflowParentElement.clientWidth;\r\n}\r\n\r\nfunction pasteHandlerOnDiv(event) {\r\n  event.stopPropagation();\r\n  event.preventDefault();\r\n  const clipboardData = event.clipboardData || window.clipboardData;\r\n  const pastedData = clipboardData.getData('Text');\r\n  const caretOnPaste = Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"getCaretPositionOnDiv\"])(activeLabelTextElement, true);\r\n  const caretPositionEnd = caretOnPaste.position;\r\n  const caretPositionStart = caretPositionEnd - caretOnPaste.highlightRangeOnPaste;\r\n  const preprocessedPastedData = Object(_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_17__[\"preprocessPastedText\"])(pastedData);\r\n  activeLabelTextElement.innerHTML = activeLabelTextElement.innerHTML.slice(0, caretPositionStart)\r\n   + preprocessedPastedData + activeLabelTextElement.innerHTML.slice(caretPositionEnd);\r\n  Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"setCaretPositionOnDiv\"])(caretPositionStart + preprocessedPastedData.length,\r\n    activeLabelTextElement, false, scrollHorizontallyToAppropriateWidth);\r\n}\r\n\r\nfunction unsetAnimationProperties(labelInnerElement) {\r\n  // remove animation properties to prevent dropdown aligment issues and further animations\r\n  labelInnerElement.style.transform = '';\r\n  labelInnerElement.style.transition = '';\r\n}\r\n\r\nfunction triggerSlideAnimation(labelId) {\r\n  const labelInnerElement = document.getElementById(`labelId${labelId}`);\r\n  setTimeout(() => {\r\n    // begin animation once the element has been added\r\n    labelInnerElement.style.transform = 'translateX(0%)';\r\n  });\r\n  setTimeout(() => {\r\n    unsetAnimationProperties(labelInnerElement);\r\n  }, NEW_ITEM_ANIMATION_DURATION_MILLISECONDS);\r\n}\r\n\r\n// the reason for using this is because firefox label list options overlap during bulk animation\r\nfunction triggerAnimationChromeOnly(labelId) {\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_11__[\"default\"]) {\r\n    const labelInnerElement = document.getElementById(`labelId${labelId}`);\r\n    unsetAnimationProperties(labelInnerElement);\r\n  } else {\r\n    triggerSlideAnimation(labelId);\r\n  }\r\n}\r\n\r\nfunction addNewLabelToListFromPopup(labelText, id, labelColor) {\r\n  const labelElement = initialiseParentElement();\r\n  labelElement.id = `${LABEL_CONTAINER_ELEMENT_ID_PREFIX}${id}`;\r\n  const newLabel = true;\r\n  labelElement.innerHTML = createLabelElementMarkup(labelText, id, labelColor, 'default', newLabel);\r\n  const newRow = labelListElement.insertRow(-1);\r\n  const cell = newRow.insertCell(0);\r\n  cell.appendChild(labelElement);\r\n  labelListElement.scrollLeft = 0;\r\n  labelElement.childNodes[1].addEventListener('paste', pasteHandlerOnDiv);\r\n  repopulateDropdown();\r\n  triggerSlideAnimation(id);\r\n  cell.scrollIntoView();\r\n}\r\n\r\nfunction addExistingLabelToList(labelText, id, labelColor, shapeVisible) {\r\n  const labelElement = initialiseParentElement();\r\n  labelElement.id = `${LABEL_CONTAINER_ELEMENT_ID_PREFIX}${id}`;\r\n  let visibility = null;\r\n  if (shapeVisible === true) {\r\n    visibility = 'default';\r\n  } else {\r\n    visibility = 'highlighted';\r\n  }\r\n  labelElement.innerHTML = createLabelElementMarkup(labelText, id, labelColor, visibility);\r\n  const newRow = labelListElement.insertRow(-1);\r\n  const cell = newRow.insertCell(0);\r\n  cell.appendChild(labelElement);\r\n  labelElement.childNodes[1].addEventListener('paste', pasteHandlerOnDiv);\r\n  repopulateDropdown();\r\n  triggerAnimationChromeOnly(id);\r\n  cell.scrollIntoView();\r\n}\r\n\r\nfunction removeLabelFromListOnShapeDelete(id) {\r\n  if (id != null) {\r\n    let index = 0;\r\n    const parentElementId = `${LABEL_CONTAINER_ELEMENT_ID_PREFIX}${id}`;\r\n    const tableList = labelListElement.childNodes[0].childNodes;\r\n    while (index !== tableList.length) {\r\n      if (tableList[index].childNodes[0].childNodes[0].id === parentElementId) {\r\n        tableList[index].remove();\r\n        break;\r\n      }\r\n      index += 1;\r\n    }\r\n    activeShape = null;\r\n  }\r\n}\r\n\r\nfunction updateAssociatedLabelObjectsText(text) {\r\n  Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_0__[\"changeLabelText\"])(activeLabelId, text);\r\n  Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"changeShapeLabelText\"])(activeLabelId, text);\r\n}\r\n\r\nfunction addLabelToDropdown(labelText, dropdownLabelsElem, id, color) {\r\n  const labelElement = initialiseParentElement();\r\n  labelElement.innerHTML = `<div class=\"labelDropdownOption\" id=\"labelOption${id}\" onMouseEnter=\"mouseEnterLabelDropdownOption(this, '${color}')\" onMouseLeave=\"mouseLeaveLabelDropdownOption(this, true)\">${labelText}</div>`;\r\n  const newRow = dropdownLabelsElem.insertRow(-1);\r\n  const cell = newRow.insertCell(0);\r\n  cell.appendChild(labelElement);\r\n}\r\n\r\nfunction highlightSelectedLabelOptionOnEditInit() {\r\n  window.labelTextKeyDown({ key: 'stub' });\r\n}\r\n\r\nfunction positionDropDownCorrectlyOnScreen() {\r\n  if (activeLabelTextElement) {\r\n    const dropdownElementPosition = activeLabelTextElement.getBoundingClientRect();\r\n    const dropDownOffset = dropdownElementPosition.height + dropdownElementPosition.top;\r\n    if (activeDropdownElements && activeDropdownElements[0]) {\r\n      activeDropdownElements[0].style.top = `${dropDownOffset}px`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction deleteAndAddLastRowToRefreshDropdownDiv(dropdownLabelsElement) {\r\n  const labelOptions = Object(_labelOptions__WEBPACK_IMPORTED_MODULE_9__[\"getLabelOptions\"])();\r\n  dropdownLabelsElement.deleteRow(labelOptions.length - 1);\r\n  if (labelOptions.length === 6) {\r\n    popuplabelOptionsElement.style.height = '126px';\r\n  } else if (labelOptions.length === 7) {\r\n    addLabelToDropdown('temp horizontal', dropdownLabelsElement);\r\n  }\r\n  window.setTimeout(() => {\r\n    const lastLabel = labelOptions[labelOptions.length - 1];\r\n    addLabelToDropdown(lastLabel.text, dropdownLabelsElement,\r\n      labelOptions.length - 1, lastLabel.color.label);\r\n    if (labelOptions.length === 7) {\r\n      dropdownLabelsElement.deleteRow(6);\r\n    }\r\n    highlightSelectedLabelOptionOnEditInit();\r\n  }, 0);\r\n}\r\n\r\nfunction isDropdownVerticalScrollPresent() {\r\n  return activeDropdownElements[0].scrollHeight > activeDropdownElements[0].clientHeight;\r\n}\r\n\r\nfunction isDropdownHorizontalScrollPresent() {\r\n  return activeDropdownElements[0].scrollWidth > activeDropdownElements[0].clientWidth;\r\n}\r\n\r\nfunction addFakeRightBorder(activeDropdownElementPosition) {\r\n  chromiumFakeDropdownRightBorderElement.style.top = `${activeDropdownElementPosition.top}px`;\r\n  chromiumFakeDropdownRightBorderElement.style.height = `${activeDropdownElementPosition.height}px`;\r\n  chromiumFakeDropdownRightBorderElement.style.display = '';\r\n}\r\n\r\nfunction removeFakeBottomBorderOnExistingDropdown() {\r\n  chromiumFakeDrodownBottomBorderElement.style.display = 'none';\r\n  activeDropdownElements[0].style.borderBottom = '';\r\n  // the following do not need to be refreshed on removeChromiumFakeBorderFix() because\r\n  // once the delta has been generated, it is used the same for all the dropdowns that\r\n  // have the horizontal dropdown\r\n  chromiumFakeDropdownBorderElementTopDelta = 0;\r\n  newFakeDropdownBottomBorderDeltaGenerated = false;\r\n}\r\n\r\nfunction addFakeBottomBorder(activeDropdownElementPosition) {\r\n  if (activeDropdownElements[0].style.borderBottom === 'none') {\r\n  // the reason why we have a delta here is because activeDropdownElements remembers the height\r\n  // before the bottom border is removed, hence when getBoundingClientRect is called\r\n  // the next time, the height presented is smaller\r\n    if (!newFakeDropdownBottomBorderDeltaGenerated) {\r\n      chromiumFakeDropdownBorderElementTopDelta = originalActiveDropdownHeight\r\n        - activeDropdownElementPosition.height;\r\n      if (isDropdownVerticalScrollPresent() && chromiumFakeDropdownBorderElementTopDelta < 1) {\r\n        chromiumFakeDropdownBorderElementTopDelta = 1;\r\n      }\r\n      newFakeDropdownBottomBorderDeltaGenerated = true;\r\n    }\r\n  }\r\n  const dropdownElementWidthInt = parseInt(activeDropdownElements[0].style.width, 10);\r\n  chromiumFakeDrodownBottomBorderElement.style.width = `${dropdownElementWidthInt}px`;\r\n  if (!chromiumFakeDrodownBottomBorderTopDimension) {\r\n    chromiumFakeDrodownBottomBorderTopDimension = activeDropdownElementPosition.height\r\n    + activeDropdownElementPosition.top + chromiumFakeDropdownBorderElementTopDelta - 0.6;\r\n  }\r\n  chromiumFakeDrodownBottomBorderElement.style.top = `${chromiumFakeDrodownBottomBorderTopDimension}px`;\r\n  originalActiveDropdownHeight = parseInt(activeDropdownElementPosition.height, 10);\r\n  activeDropdownElements[0].style.borderBottom = 'none';\r\n  chromiumFakeDrodownBottomBorderElement.style.display = '';\r\n}\r\n\r\n// the following is a bug fix for chromium based browsers where the scroll bars\r\n// do not cover the edge of the table body, meaning that upon hovering on them;\r\n// the mouse over events would be triggered on the body below it.\r\n// In this case, it would be the table element highlighting and cursor change\r\nfunction setFakeDropdownBorderFixForChromium(id) {\r\n  if (!_utils_browserType__WEBPACK_IMPORTED_MODULE_11__[\"default\"]) {\r\n    const fakeBorderElements = document.getElementById(`chromium-fake-dropdown-border-fix${id}`);\r\n    const activeDropdownElementPosition = activeDropdownElements[0].getBoundingClientRect();\r\n    if (isDropdownVerticalScrollPresent()) {\r\n      chromiumFakeDropdownRightBorderElement = fakeBorderElements.childNodes[1];\r\n      addFakeRightBorder(activeDropdownElementPosition);\r\n    }\r\n    if (isDropdownHorizontalScrollPresent()) {\r\n      chromiumFakeDrodownBottomBorderElement = fakeBorderElements.childNodes[3];\r\n      addFakeBottomBorder(activeDropdownElementPosition);\r\n    } else if (chromiumFakeDrodownBottomBorderElement) {\r\n      removeFakeBottomBorderOnExistingDropdown();\r\n    }\r\n  }\r\n}\r\n\r\nfunction changeActiveDropdownElementStyling() {\r\n  const labelListElementScrollLeftVSDropdownMarginLeft = Math.max(-4,\r\n    31 - labelsListOverflowParentElement.scrollLeft);\r\n  const labelListElementScrollLeftVSDropdownWidth = Math.min(dropdownElementsWidthFull,\r\n    dropdownElementsWidthDefault + labelsListOverflowParentElement.scrollLeft);\r\n  activeDropdownElements[0].style.marginLeft = `${labelListElementScrollLeftVSDropdownMarginLeft}px`;\r\n  activeDropdownElements[0].style.width = `${labelListElementScrollLeftVSDropdownWidth}px`;\r\n  setFakeDropdownBorderFixForChromium(activeLabelId);\r\n}\r\n\r\nfunction prepareLabelDivForEditing(id) {\r\n  activeLabelTextElement = document.getElementById(`labelText${id}`);\r\n  activeLabelTextElement.contentEditable = true;\r\n  activeLabelTextElement.style.backgroundColor = 'white';\r\n  activeLabelTextElement.style.borderColor = '#a39f9e';\r\n  activeLabelTextElement.style.paddingLeft = '2px';\r\n  activeEditLabelButton = document.getElementById(`editButton${id}`);\r\n  activeEditLabelButton.style.paddingRight = '3px';\r\n  activeLabelId = id;\r\n  Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"setCaretPositionOnDiv\"])(activeLabelTextElement.innerHTML.length,\r\n    activeLabelTextElement, false, scrollHorizontallyToAppropriateWidth);\r\n  activeDropdownElements = document.getElementsByClassName(`labelDropdown${id}`);\r\n  chromiumFakeDrodownBottomBorderTopDimension = null;\r\n  changeActiveDropdownElementStyling();\r\n  activeDropdownElements[0].classList.toggle('show');\r\n  activeDropdownElements[0].scrollTop = 0;\r\n  activeDropdownElements[0].scrollLeft = 0;\r\n}\r\n\r\nfunction initLabelEditing(id) {\r\n  prepareLabelDivForEditing(id);\r\n  deleteAndAddLastRowToRefreshDropdownDiv(activeDropdownElements[0]);\r\n  Object(_utils_tableUtils__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(activeLabelTextElement, labelsListOverflowParentElement);\r\n  positionDropDownCorrectlyOnScreen();\r\n  // change this to match wider div\r\n  // const labelDropdownOptions = getLabelOptions();\r\n  // if (labelDropdownOptions.length > 5) {\r\n  //   activeDropdownElements[0].style = 'width: 150px';\r\n  // }\r\n  originalLabelText = activeLabelTextElement.innerHTML;\r\n\r\n  // USE THESE TO SEE IF CONTENT VISIBLE, THEN SCROLL TO APPROPRIATE HEIGHT\r\n  // POTENTIALLY CAN CHECK SCROLL HEIGHT AGAINST OVERFLOW ELEMENT HEIGHT WITH SCROLL WIDTH\r\n  // AND THEN SCROLL FURTHER\r\n\r\n  availableListOptions = Object(_labelOptions__WEBPACK_IMPORTED_MODULE_9__[\"getLabelOptions\"])();\r\n  currentTableElementScrollPosition = labelsListOverflowParentElement.scrollTop;\r\n  horizontalScrollPresentWhenEditAndScroll = isHorizontalScrollPresent();\r\n  isEditingLabel = true;\r\n}\r\n\r\nfunction setToShapeEditModeWhenDrawing() {\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])()) {\r\n      if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getPolygonDrawingInProgressState\"])()) {\r\n        window.editShapes();\r\n      }\r\n    } else {\r\n      window.editShapes();\r\n    }\r\n  }\r\n}\r\n\r\nfunction getCurrentlySelectedLabelShape() {\r\n  return activeShape;\r\n}\r\n\r\nfunction selectShape() {\r\n  const eventShape = {};\r\n  eventShape.target = activeShape;\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_6__[\"pointMouseDownEvents\"])(eventShape);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_6__[\"pointMouseUpEvents\"])(eventShape);\r\n  } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n    if (Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_2__[\"isAddingPointsToPolygon\"])()) window.addPoints();\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_7__[\"pointMouseDownEvents\"])(eventShape);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_7__[\"pointMouseUpEvents\"])(eventShape);\r\n  } else {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"polygonMouseDownEvents\"])(eventShape);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"polygonMouseUpEvents\"])(eventShape);\r\n  }\r\n  if (activeShape && activeShape.shapeName === 'bndBox') {\r\n    if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])() && !Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"programaticallySelectBoundingBox\"])(activeShape);\r\n    }\r\n  }\r\n}\r\n\r\nfunction deselectShape() {\r\n  Object(_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_8__[\"removeHighlightOfListLabel\"])();\r\n  Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setRemoveShapeButtonToDisabled\"])();\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_6__[\"pointMouseDownEvents\"])({});\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_6__[\"pointMouseUpEvents\"])({});\r\n  } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_7__[\"pointMouseDownEvents\"])({});\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_7__[\"pointMouseUpEvents\"])({});\r\n  } else {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"polygonMouseDownEvents\"])({});\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"polygonMouseUpEvents\"])({});\r\n  }\r\n  if (activeShape && activeShape.shapeName === 'bndBox') {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"programaticallyDeselectBoundingBox\"])();\r\n  }\r\n}\r\n\r\nfunction selectShapeBeforeLabelEdit(id) {\r\n  if (id !== Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"getLastSelectedShapeId\"])()) {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setNewShapeSelectedViaLabelListState\"])(true);\r\n  } else {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setNewShapeSelectedViaLabelListState\"])(false);\r\n  }\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setEditingLabelId\"])(id);\r\n  activeShape = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"getShapeById\"])(id);\r\n  selectShape(id);\r\n  initLabelEditing(id);\r\n  labelHasBeenDeselected = false;\r\n  activeLabelElementId = `labelId${id}`;\r\n}\r\n\r\nfunction removeChromiumFakeBorderFix() {\r\n  if (chromiumFakeDropdownRightBorderElement) {\r\n    chromiumFakeDropdownRightBorderElement.style.display = 'none';\r\n  }\r\n  if (chromiumFakeDrodownBottomBorderElement) {\r\n    chromiumFakeDrodownBottomBorderElement.style.display = 'none';\r\n  }\r\n}\r\n\r\nfunction removeLabelDropDownContent() {\r\n  if (activeDropdownElements[0].classList.contains('show')) {\r\n    activeDropdownElements[0].classList.remove('show');\r\n  }\r\n  removeChromiumFakeBorderFix();\r\n  isEditingLabel = false;\r\n}\r\n\r\nfunction resetLabelElement() {\r\n  removeLabelDropDownContent();\r\n  activeLabelTextElement.contentEditable = false;\r\n  activeLabelTextElement.style.backgroundColor = null;\r\n  activeLabelTextElement.style.borderColor = 'transparent';\r\n  activeLabelTextElement.style.paddingLeft = '';\r\n  activeEditLabelButton.style.paddingRight = '5px';\r\n  labelsListOverflowParentElement.scrollLeft = 0;\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setEditingLabelId\"])(null);\r\n}\r\n\r\nfunction moveSelectedLabelToFrontOfLabelOptions(id, text) {\r\n  if (id !== 0) {\r\n    Object(_labelOptions__WEBPACK_IMPORTED_MODULE_9__[\"sendLabelOptionToFront\"])(id);\r\n    const newLabelColor = Object(_labelOptions__WEBPACK_IMPORTED_MODULE_9__[\"getLabelColor\"])(text);\r\n    Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"changeShapeColorById\"])(activeLabelId, newLabelColor);\r\n    Object(_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_8__[\"changeLabelColor\"])(newLabelColor.label);\r\n    repopulateDropdown();\r\n    Object(_labellerModal_style__WEBPACK_IMPORTED_MODULE_12__[\"resetLabellerModalOptions\"])();\r\n  }\r\n}\r\n\r\nfunction addNewLabelToLabelOptions(text) {\r\n  const preprocessedText = Object(_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_17__[\"preprocessLabelText\"])(text);\r\n  if (activeLabelTextElement.innerHTML !== originalLabelText) {\r\n    if (preprocessedText === '') {\r\n      activeLabelTextElement.innerHTML = originalLabelText;\r\n    } else {\r\n      activeLabelTextElement.innerHTML = preprocessedText;\r\n      Object(_labelOptions__WEBPACK_IMPORTED_MODULE_9__[\"addToLabelOptions\"])(preprocessedText);\r\n      const newLabelColor = Object(_labelOptions__WEBPACK_IMPORTED_MODULE_9__[\"getLabelColor\"])(preprocessedText);\r\n      Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"changeShapeColorById\"])(activeLabelId, newLabelColor);\r\n      Object(_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_8__[\"changeLabelColor\"])(newLabelColor.label);\r\n      repopulateDropdown();\r\n      Object(_labellerModal_style__WEBPACK_IMPORTED_MODULE_12__[\"resetLabellerModalOptions\"])();\r\n    }\r\n  }\r\n}\r\n\r\nfunction stopEditing() {\r\n  activeShape = null;\r\n  Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToDefaultIcon\"])(activeEditLabelButton);\r\n  resetLabelElement();\r\n}\r\n\r\nfunction highlightDropdownLabelOption(labelOptionsIndex, divIndex) {\r\n  const [currentlyAvailableDropdownElements] = activeDropdownElements[0].childNodes;\r\n  const labelParenElement = currentlyAvailableDropdownElements.childNodes[divIndex];\r\n  [lastSelectedLabelOption] = labelParenElement.childNodes[0].childNodes;\r\n  const labelColor = availableListOptions[labelOptionsIndex].color.label;\r\n  lastSelectedLabelOption.style.backgroundColor = labelColor;\r\n  Object(_utils_tableUtils__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lastSelectedLabelOption, activeDropdownElements[0]);\r\n  currentlyActiveLabelOptionIndex = labelOptionsIndex;\r\n}\r\n\r\nfunction wasLabelListHorizontalScrollManipulated() {\r\n  if (!horizontalScrollPresentWhenEditAndScroll && isHorizontalScrollPresent()) {\r\n    currentTableElementScrollPosition = labelsListOverflowParentElement.scrollTop;\r\n    horizontalScrollPresentWhenEditAndScroll = true;\r\n    positionDropDownCorrectlyOnScreen();\r\n    return true;\r\n  }\r\n  if (horizontalScrollPresentWhenEditAndScroll && !isHorizontalScrollPresent()) {\r\n    currentTableElementScrollPosition = labelsListOverflowParentElement.scrollTop;\r\n    horizontalScrollPresentWhenEditAndScroll = false;\r\n    positionDropDownCorrectlyOnScreen();\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction removeAllLabelListItems() {\r\n  const newtbody = document.createElement('tbody');\r\n  if (labelListElement.childNodes[0]) {\r\n    labelListElement.replaceChild(newtbody, labelListElement.childNodes[0]);\r\n  }\r\n}\r\n\r\nfunction setMLGeneratedPalletteToOriginal(shape) {\r\n  Object(_imageList_imageListML__WEBPACK_IMPORTED_MODULE_13__[\"updateNumberOfUncheckedMLImages\"])();\r\n  shape.fill = shape.trueFill;\r\n  shape.stroke = shape.trueStroke;\r\n  shape.MLPallette = false;\r\n}\r\n\r\nfunction highlightLabel(currentlySelectedShapeName, idArg) {\r\n  const id = idArg !== undefined ? idArg : activeLabelId;\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])() || Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n    if (currentlySelectedShapeName !== 'bndBox') {\r\n      Object(_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_8__[\"highlightLabelInTheList\"])(id);\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setRemoveShapeButtonToDefault\"])();\r\n    }\r\n  } else {\r\n    Object(_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_8__[\"highlightLabelInTheList\"])(id);\r\n    Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setRemoveShapeButtonToDefault\"])();\r\n  }\r\n}\r\n\r\nfunction cancelEditingLabelInLabelList() {\r\n  deselectedEditing = true;\r\n  const currentlySelectedShapeName = activeShape.shapeName;\r\n  activeShape = null;\r\n  if (mouseHoveredOnLabelEditButton) {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToHighlightedDefaultIcon\"])(activeEditLabelButton);\r\n  } else {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToDefaultIcon\"])(activeEditLabelButton);\r\n  }\r\n  addNewLabelToLabelOptions(activeLabelTextElement.innerHTML);\r\n  resetLabelElement();\r\n  highlightLabel(currentlySelectedShapeName);\r\n}\r\n\r\nfunction isEditingLabelInLabelList() {\r\n  return isEditingLabel;\r\n}\r\n\r\nfunction finishEditingLabelList(event) {\r\n  if (isEditingLabel) {\r\n    if (event.target.matches('.labelDropdownOption')) {\r\n      const currentlySelectedShapeName = activeShape ? activeShape.shapeName : null;\r\n      const newText = event.target.innerHTML;\r\n      activeLabelTextElement.innerHTML = newText;\r\n      updateAssociatedLabelObjectsText(newText);\r\n      removeLabelDropDownContent();\r\n      stopEditing();\r\n      moveSelectedLabelToFrontOfLabelOptions(event.target.id.substring(11, 12), newText);\r\n      highlightLabel(currentlySelectedShapeName, activeLabelId);\r\n    } else if (event.target.id === `labelText${activeLabelId}` || event.target.matches('.dropdown-content')\r\n      || event.target.matches('.chromium-fake-dropdown-border-fix')) {\r\n      // do nothing\r\n    } else if (event.target.id === `editButton${activeLabelId}`) {\r\n      if (!labelHasBeenDeselected) {\r\n        deselectedEditing = true;\r\n        Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToHighlightedDefaultIcon\"])(activeEditLabelButton);\r\n        addNewLabelToLabelOptions(activeLabelTextElement.innerHTML);\r\n        resetLabelElement();\r\n      }\r\n    } else if (event.target.nodeName === 'CANVAS' || event.target.className === 'toolkit-button-icon'\r\n        || event.target.className === 'toolkit-button-text' || event.target.id === activeLabelElementId) {\r\n      addNewLabelToLabelOptions(activeLabelTextElement.innerHTML);\r\n      stopEditing();\r\n    } else {\r\n      addNewLabelToLabelOptions(activeLabelTextElement.innerHTML);\r\n      stopEditing();\r\n      deselectShape();\r\n    }\r\n  }\r\n}\r\n\r\nfunction cancelEditingViaKeyboard() {\r\n  activeLabelTextElement.innerHTML = originalLabelText;\r\n  cancelEditingLabelInLabelList();\r\n}\r\n\r\nfunction arrowKeyEventsForLabelList(key) {\r\n  const currentlyHighlightedElement = Object(_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_8__[\"getCurrentlyHighlightedElement\"])()\r\n    .parentElement.parentElement.parentElement;\r\n  if (key === 'ArrowDown') {\r\n    if (currentlyHighlightedElement.nextSibling) {\r\n      currentlyHighlightedElement.nextSibling.childNodes[0].childNodes[0].childNodes[1].dispatchEvent(new Event('click'));\r\n    }\r\n  } else if (key === 'ArrowUp') {\r\n    if (currentlyHighlightedElement.previousSibling) {\r\n      currentlyHighlightedElement.previousSibling.childNodes[0].childNodes[0].childNodes[1].dispatchEvent(new Event('click'));\r\n    }\r\n  }\r\n}\r\n\r\n// the labelTextKeyDown event handles the update of a new text word\r\nfunction arrowKeyEventsForLabelOtionsList(key) {\r\n  if (key === 'ArrowDown') {\r\n    if (currentlyActiveLabelOptionIndex !== null) {\r\n      const isBeforeLastElement = currentlyActiveLabelOptionIndex\r\n        === availableListOptions.length - 2;\r\n      const lastElementIndex = isBeforeLastElement ? currentlyActiveLabelOptionIndex * 2 + 1\r\n        : currentlyActiveLabelOptionIndex * 2;\r\n      const { nextSibling } = activeDropdownElements[0].childNodes[0]\r\n        .childNodes[lastElementIndex].nextSibling;\r\n      if (nextSibling) {\r\n        const optionElement = nextSibling.childNodes[0].childNodes[0];\r\n        const text = isBeforeLastElement ? optionElement.childNodes[0].innerHTML\r\n          : optionElement.innerHTML;\r\n        activeLabelTextElement.innerHTML = text;\r\n      }\r\n    } else {\r\n      activeLabelTextElement.innerHTML = activeDropdownElements[0].childNodes[0]\r\n        .childNodes[0].childNodes[0].childNodes[0].innerHTML;\r\n    }\r\n  } else if (key === 'ArrowUp') {\r\n    if (currentlyActiveLabelOptionIndex !== null) {\r\n      const { previousSibling } = activeDropdownElements[0].childNodes[0]\r\n        .childNodes[currentlyActiveLabelOptionIndex * 2];\r\n      if (previousSibling) {\r\n        activeLabelTextElement.innerHTML = previousSibling.previousSibling.childNodes[0]\r\n          .childNodes[0].innerHTML;\r\n      }\r\n    } else {\r\n      activeLabelTextElement.innerHTML = activeDropdownElements[0].childNodes[0]\r\n        .childNodes[0].childNodes[0].childNodes[0].innerHTML;\r\n    }\r\n  }\r\n}\r\n\r\nwindow.labelTextKeyDown = (event) => {\r\n  if (event.key === 'Delete') return;\r\n  if (event.key === 'Enter') {\r\n    cancelEditingLabelInLabelList();\r\n  } else {\r\n    window.setTimeout(() => {\r\n      if (event.code === 'Space') {\r\n        const currentCaretPosition = Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"getCaretPositionOnDiv\"])(activeLabelTextElement).position;\r\n        Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"setCaretPositionOnDiv\"])(currentCaretPosition, activeLabelTextElement,\r\n          true, scrollHorizontallyToAppropriateWidth);\r\n      }\r\n      if (_utils_browserType__WEBPACK_IMPORTED_MODULE_11__[\"default\"] && event.code === 'Backspace') Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_16__[\"emptyContentEditableFirefoxBugFix\"])(activeLabelTextElement);\r\n      if (lastSelectedLabelOption) {\r\n        lastSelectedLabelOption.style.backgroundColor = '';\r\n      }\r\n      let found = false;\r\n      for (let i = 0; i < availableListOptions.length - 1; i += 1) {\r\n        if (availableListOptions[i].text === activeLabelTextElement.innerHTML) {\r\n          highlightDropdownLabelOption(i, i * 2);\r\n          found = true;\r\n          break;\r\n        }\r\n      }\r\n      if (!found) {\r\n        const lastLabelOptionIndex = availableListOptions.length - 1;\r\n        currentlyActiveLabelOptionIndex = null;\r\n        if (availableListOptions[lastLabelOptionIndex].text === activeLabelTextElement.innerHTML) {\r\n          highlightDropdownLabelOption(lastLabelOptionIndex, lastLabelOptionIndex * 2 + 1);\r\n        }\r\n      }\r\n      changeActiveDropdownElementStyling();\r\n      updateAssociatedLabelObjectsText(activeLabelTextElement.innerHTML);\r\n    }, keyDownEventTimeOut);\r\n  }\r\n};\r\n\r\nwindow.labelBtnClick = (id) => {\r\n  setToShapeEditModeWhenDrawing();\r\n  activeShape = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"getShapeById\"])(id);\r\n  highlightLabel(activeShape.shapeName, id);\r\n  if (!isVisibilitySelected) {\r\n    if (Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"getShapeVisibilityById\"])(id)) {\r\n      selectShape();\r\n    } else if (activeShape && activeShape.shapeName === 'bndBox') {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"programaticallyDeselectBoundingBox\"])();\r\n    } else {\r\n      Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_2__[\"removePolygonPoints\"])();\r\n      if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])()) {\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_6__[\"setPolygonNotEditableOnClick\"])();\r\n      } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_7__[\"setPolygonNotEditableOnClick\"])();\r\n      } else {\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"removeEditedPolygonId\"])();\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"setShapeToInvisible\"])();\r\n      }\r\n    }\r\n  } else {\r\n    if (isVisibilityRestored) {\r\n      if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])()) {\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_6__[\"setPolygonNotEditableOnClick\"])();\r\n      } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_7__[\"setPolygonNotEditableOnClick\"])();\r\n      }\r\n      selectShape();\r\n    } else {\r\n      Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_2__[\"removePolygonPoints\"])();\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"setShapeToInvisible\"])();\r\n      if (activeShape && activeShape.shapeName === 'bndBox') {\r\n        Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"programaticallyDeselectBoundingBox\"])();\r\n      }\r\n    }\r\n    isVisibilitySelected = false;\r\n  }\r\n};\r\n\r\nwindow.labelListScroll = () => {\r\n  if (currentTableElementScrollPosition !== labelsListOverflowParentElement.scrollTop) {\r\n    if (!wasLabelListHorizontalScrollManipulated()) {\r\n      if (activeDropdownElements && activeDropdownElements[0] && activeDropdownElements[0].classList.contains('show')) {\r\n        addNewLabelToLabelOptions(activeLabelTextElement.innerHTML);\r\n        stopEditing();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nwindow.mouseEnterLabelDropdownOption = (element, color) => {\r\n  element.style.backgroundColor = color;\r\n};\r\n\r\nwindow.mouseLeaveLabelDropdownOption = (element, labelOption) => {\r\n  if (labelOption) {\r\n    const idNumber = parseInt(element.id.match(/\\d+$/)[0], 10);\r\n    if (currentlyActiveLabelOptionIndex !== idNumber) {\r\n      element.style.backgroundColor = '';\r\n    }\r\n  } else if (element.id !== 'used') {\r\n    element.style.backgroundColor = '';\r\n  }\r\n};\r\n\r\nwindow.mouseEnterVisibilityBtn = (id, element) => {\r\n  if (id === 'default') {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"highlightDefaultIcon\"])(element);\r\n  } else {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"highlightActiveIcon\"])(element);\r\n  }\r\n};\r\n\r\nwindow.mouseLeaveVisibilityBtn = (id, element) => {\r\n  if (id === 'default') {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"dimDefaultIcon\"])(element);\r\n  } else {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"dimActiveIcon\"])(element);\r\n  }\r\n};\r\n\r\nwindow.visibilityBtnClick = (id, element) => {\r\n  isVisibilityRestored = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"changeShapeVisibilityById\"])(id);\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getLabelsVisibilityState\"])()) Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_0__[\"changeLabelVisibilityById\"])(id);\r\n  Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_0__[\"changeVisibilityButtonActiveFlagById\"])(id);\r\n  isVisibilitySelected = true;\r\n  if (element.id === 'default') {\r\n    element.id = 'highlighted';\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])()) {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_removePointsEventsWorker__WEBPACK_IMPORTED_MODULE_6__[\"setPolygonNotEditableOnClick\"])();\r\n    } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n      if (Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_2__[\"isAddingPointsToPolygon\"])()) window.addPoints();\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_7__[\"setPolygonNotEditableOnClick\"])();\r\n    }\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToHighlightedActiveIcon\"])(element);\r\n  } else {\r\n    element.id = 'default';\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToHighlightedDefaultVisibilityIcon\"])(element);\r\n  }\r\n};\r\n\r\nwindow.mouseEnterLabelEditBtn = (element) => {\r\n  if (isEditingLabel) {\r\n    mouseHoveredOnLabelEditButton = element.id === `editButton${activeLabelId}`;\r\n  } else {\r\n    mouseHoveredOnLabelEditButton = true;\r\n  }\r\n  if (!isEditingLabel) {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"highlightDefaultIcon\"])(element);\r\n  } else if (activeEditLabelButton.id !== element.id) {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"highlightDefaultIcon\"])(element);\r\n  } else {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"highlightActiveIcon\"])(element);\r\n  }\r\n};\r\n\r\nwindow.mouseLeaveLabelEditBtn = (element) => {\r\n  mouseHoveredOnLabelEditButton = false;\r\n  if (!isEditingLabel) {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"dimDefaultIcon\"])(element);\r\n  } else if (activeEditLabelButton.id !== element.id) {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"dimDefaultIcon\"])(element);\r\n  } else {\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"dimActiveIcon\"])(element);\r\n  }\r\n};\r\n\r\nwindow.labelEditBtnClick = (id, element) => {\r\n  if (id !== activeLabelId) {\r\n    selectShapeBeforeLabelEdit(id);\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToHighlightedActiveIcon\"])(element);\r\n  } else if (deselectedEditing) {\r\n    deselectedEditing = false;\r\n    labelHasBeenDeselected = true;\r\n  } else if (!deselectedEditing) {\r\n    selectShapeBeforeLabelEdit(id);\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToHighlightedActiveIcon\"])(element);\r\n  }\r\n};\r\n\r\nwindow.labelDblClicked = (id) => {\r\n  if (!isEditingLabel) {\r\n    initLabelEditing(id);\r\n    const editElement = document.getElementById(`editButton${id}`);\r\n    Object(_iconHighlightUtils__WEBPACK_IMPORTED_MODULE_10__[\"switchToActiveIcon\"])(editElement);\r\n    labelHasBeenDeselected = false;\r\n  }\r\n};\r\n\r\nwindow.mouseEnterLabel = (id) => {\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getBoundingBoxScalingState\"])() && !Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getShapeMovingState\"])()) {\r\n    if (Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"getShapeById\"])(id).MLPallette) {\r\n      setMLGeneratedPalletteToOriginal(Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"getShapeById\"])(id));\r\n    }\r\n    Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"highlightShapeFill\"])(id);\r\n  }\r\n};\r\n\r\nwindow.mouseLeaveLabel = (id) => {\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getBoundingBoxScalingState\"])() && !Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getShapeMovingState\"])()) {\r\n    Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"defaultShapeFill\"])(id);\r\n  }\r\n};\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/labelList/labelList.js?");

/***/ }),

/***/ "./src/js/tools/labelList/labelListHighlightUtils.js":
/*!***********************************************************!*\
  !*** ./src/js/tools/labelList/labelListHighlightUtils.js ***!
  \***********************************************************/
/*! exports provided: setLabelListElementForHighlights, removeHighlightOfListLabel, highlightLabelInTheList, changeLabelColor, getCurrentlyHighlightedElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setLabelListElementForHighlights\", function() { return setLabelListElementForHighlights; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeHighlightOfListLabel\", function() { return removeHighlightOfListLabel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"highlightLabelInTheList\", function() { return highlightLabelInTheList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeLabelColor\", function() { return changeLabelColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentlyHighlightedElement\", function() { return getCurrentlyHighlightedElement; });\n/* harmony import */ var _utils_tableUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/tableUtils */ \"./src/js/tools/utils/tableUtils.js\");\n\r\n\r\nlet labelListElement = null;\r\nlet currentlyHighlightedElement = null;\r\nlet highlightedElementOriginalColor = null;\r\nlet labelListOverflowParentElement = null;\r\n\r\nfunction setLabelListElementForHighlights(labelListElementRef, labelsListOverflowParentElementRef) {\r\n  labelListElement = labelListElementRef;\r\n  labelListOverflowParentElement = labelsListOverflowParentElementRef;\r\n}\r\n\r\nfunction removeHighlightOfListLabel() {\r\n  if (currentlyHighlightedElement !== null) {\r\n    currentlyHighlightedElement.style.backgroundColor = highlightedElementOriginalColor;\r\n  }\r\n  currentlyHighlightedElement = null;\r\n}\r\n\r\nfunction highlightLabelInTheList(id) {\r\n  removeHighlightOfListLabel();\r\n  [currentlyHighlightedElement] = labelListElement.getElementsByClassName(`label${id}`);\r\n  highlightedElementOriginalColor = currentlyHighlightedElement.style.backgroundColor;\r\n  const highlightColor = `${highlightedElementOriginalColor.substring(0, highlightedElementOriginalColor.length - 5)} 0.6)`;\r\n  currentlyHighlightedElement.style.backgroundColor = highlightColor;\r\n  Object(_utils_tableUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(currentlyHighlightedElement, labelListOverflowParentElement);\r\n}\r\n\r\nfunction changeLabelColor(color) {\r\n  highlightedElementOriginalColor = color;\r\n  currentlyHighlightedElement.style.backgroundColor = color;\r\n}\r\n\r\nfunction getCurrentlyHighlightedElement() {\r\n  return currentlyHighlightedElement;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/labelList/labelListHighlightUtils.js?");

/***/ }),

/***/ "./src/js/tools/labelList/labelOptions.js":
/*!************************************************!*\
  !*** ./src/js/tools/labelList/labelOptions.js ***!
  \************************************************/
/*! exports provided: getLabelOptions, getNewShapeColor, getMaxUsedLabelIndex, addToLabelOptions, sendLabelOptionToFront, getLabelColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLabelOptions\", function() { return getLabelOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getNewShapeColor\", function() { return getNewShapeColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMaxUsedLabelIndex\", function() { return getMaxUsedLabelIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addToLabelOptions\", function() { return addToLabelOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sendLabelOptionToFront\", function() { return sendLabelOptionToFront; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLabelColor\", function() { return getLabelColor; });\nlet defaultShapeColorIndex = 0;\r\nlet maxUsedLabelIndex = 0;\r\n\r\nconst defaultShapeColors = [\r\n  'hsl(0, 100%, 48%',\r\n  'hsl(321, 94%, 34%',\r\n  'hsl(175, 75%, 51%',\r\n  'hsl(241, 86%, 49%',\r\n  'hsl(64, 99%, 40%',\r\n  'hsl(106, 85%, 49%',\r\n  'hsl(355, 80%, 56%',\r\n  'hsl(182, 46%, 60%',\r\n  'hsl(7, 93%, 41%',\r\n  'hsl(220, 65%, 39%',\r\n  'hsl(121, 60%, 39%',\r\n  'hsl(220, 100%, 48%',\r\n  'hsl(21, 65%, 33%',\r\n  'hsl(82, 100%, 33%',\r\n  'hsl(294, 100%, 37%',\r\n];\r\n\r\n// for cat\r\n// {default: 'hsl(142,77%,53%,0.01)', highlight: 'hsl(142,77%,53%,0.3)', stroke: 'hsl(142,77%,53%)', label: 'hsl(142,77%,53%, 0.25)'}\r\n// {default: 'hsl(60,98%,40%,0.01)', highlight: 'hsl(60,98%,40%,0.3)', stroke: 'hsl(60,98%,40%)', label: 'hsl(60,98%,40%, 0.25)'}\r\n// {default: 'hsl(45, 77%, 53%,0.01)', highlight: 'hsl(45, 77%, 53%,0.3)', stroke: 'hsl(45, 77%, 53%)', label: 'hsl(45, 77%, 53%,0.28)'}\r\n\r\n// next one should alwasy be\r\n// {default: 'hsl(220, 100%, 48%,0.01)', highlight: 'hsl(220, 100%, 48%,0.3)', stroke: 'hsl(220, 100%, 48%)', label: 'hsl(220, 100%, 48%,0.28)'}\r\n// or\r\n// {default: 'hsl(154, 98%, 54%,0.01)', highlight: 'hsl(154, 98%, 54%,0.3)', stroke: 'hsl(154, 98%, 54%)', label: 'hsl(154, 98%, 54%,0.28)'}\r\n\r\nconst defaultLabelOptions = [\r\n  {\r\n    text: 'dog',\r\n    default: true,\r\n    color: {\r\n      default: 'hsl(82, 93%, 45%, 0.01)', highlight: 'hsl(82, 93%, 45%, 0.3)', stroke: 'hsl(82, 93%, 45%)', label: 'hsl(82, 93%, 45%, 0.25)',\r\n    },\r\n  },\r\n  {\r\n    text: 'cat',\r\n    default: true,\r\n    color: {\r\n      default: 'hsl(45, 77%, 53%, 0.01)', highlight: 'hsl(45, 77%, 53%, 0.3)', stroke: 'hsl(45, 77%, 53%)', label: 'hsl(45, 77%, 53%, 0.28)',\r\n    },\r\n  },\r\n  {\r\n    text: 'chicken',\r\n    default: true,\r\n    color: {\r\n      default: 'hsl(338 ,100%, 68%, 0.01)', highlight: 'hsl(338, 100%, 68%, 0.3)', stroke: 'hsl(338, 100%, 68%)', label: 'hsl(338, 100%, 68%, 0.28)',\r\n    },\r\n  },\r\n  {\r\n    text: 'dolphin',\r\n    default: true,\r\n    color: {\r\n      default: 'hsl(198, 98%, 61%, 0.01)', highlight: 'hsl(198, 98%, 61% ,0.3)', stroke: 'hsl(198, 98%, 61%)', label: 'hsl(198, 98%, 61%, 0.25)',\r\n    },\r\n  },\r\n  {\r\n    text: 'panda',\r\n    default: true,\r\n    color: {\r\n      default: 'hsl(21, 70%, 40%, 0.01)', highlight: 'hsl(21, 70%, 40% ,0.3)', stroke: 'hsl(21, 70%, 40%)', label: 'hsl(21, 70%, 40%, 0.25)',\r\n    },\r\n  },\r\n];\r\n\r\nconst labelOptions = defaultLabelOptions;\r\n\r\nlet limitLabelOptions = true;\r\nlet numberOfRemovedOptions = 0;\r\nconst maxLabelOptions = 6;\r\n\r\nfunction getNewShapeColor() {\r\n  const palletteColor = defaultShapeColors[defaultShapeColorIndex];\r\n  defaultShapeColorIndex += 1;\r\n  return palletteColor;\r\n}\r\n\r\nfunction terminateLimitIfUsingDefault(id) {\r\n  if (limitLabelOptions) {\r\n    const selectedOption = labelOptions[id];\r\n    let contains = false;\r\n    for (let i = 0; i < labelOptions.length; i += 1) {\r\n      if (selectedOption.text === labelOptions[i].text && labelOptions[i].default === true) {\r\n        contains = true;\r\n        break;\r\n      }\r\n    }\r\n    if (contains) {\r\n      limitLabelOptions = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction sendLabelOptionToFront(id) {\r\n  terminateLimitIfUsingDefault(id);\r\n  const firstObjectRef = labelOptions[id];\r\n  for (let i = id; i > 0; i -= 1) {\r\n    labelOptions[i] = labelOptions[i - 1];\r\n  }\r\n  labelOptions[0] = firstObjectRef;\r\n}\r\n\r\n\r\nfunction randomLightnessValue() {\r\n  return Math.floor(Math.random() * (70 - 40) + 40);\r\n}\r\n\r\nfunction randomSaturationValue() {\r\n  return Math.floor(Math.random() * (100 - 70) + 70);\r\n}\r\n\r\nfunction randomHueValue() {\r\n  return Math.floor(Math.random() * (360 - 0) + 0);\r\n}\r\n\r\nfunction getDefaultShapeColor() {\r\n  const rawHslColor = getNewShapeColor();\r\n  const defaultFill = `${rawHslColor},0.01)`;\r\n  const highlightFill = `${rawHslColor},0.3)`;\r\n  const strokeFill = `${rawHslColor})`;\r\n  const labelOptionFill = `${rawHslColor},0.28)`;\r\n  return {\r\n    default: defaultFill,\r\n    highlight: highlightFill,\r\n    stroke: strokeFill,\r\n    label: labelOptionFill,\r\n  };\r\n}\r\n\r\nfunction getRandomlyGeneratedShapeColor() {\r\n  const hue = randomHueValue();\r\n  const saturation = randomSaturationValue();\r\n  const lightness = randomLightnessValue();\r\n  const defaultFill = `hsl(${hue},${saturation}%,${lightness}%,0.01)`;\r\n  const highlightFill = `hsl(${hue},${saturation}%,${lightness}%,0.3)`;\r\n  const strokeFill = `hsl(${hue},${saturation}%,${lightness}%)`;\r\n  const labelOptionFill = `hsl(${hue},${saturation}%,${lightness}%, 0.25)`;\r\n  return {\r\n    default: defaultFill,\r\n    highlight: highlightFill,\r\n    stroke: strokeFill,\r\n    label: labelOptionFill,\r\n  };\r\n}\r\n\r\nfunction getFirstNewLabelColor() {\r\n  defaultShapeColorIndex += 1;\r\n  return {\r\n    default: 'hsl(154, 98%, 54%,0.01)', highlight: 'hsl(154, 98%, 54%,0.3)', stroke: 'hsl(154, 98%, 54%)', label: 'hsl(154, 98%, 54%,0.28)',\r\n  };\r\n}\r\n\r\nfunction generateRandomHSLColor() {\r\n  if (defaultShapeColorIndex === 0) {\r\n    return getFirstNewLabelColor();\r\n  }\r\n  if (defaultShapeColorIndex < defaultShapeColors.length) {\r\n    return getDefaultShapeColor();\r\n  }\r\n  return getRandomlyGeneratedShapeColor();\r\n}\r\n\r\nfunction addToLabelOptions(text) {\r\n  let foundAtIndex;\r\n  for (let i = 0; i < labelOptions.length; i += 1) {\r\n    if (labelOptions[i].text === text) {\r\n      foundAtIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  if (foundAtIndex !== undefined) {\r\n    if (maxUsedLabelIndex <= foundAtIndex) { maxUsedLabelIndex = foundAtIndex; }\r\n    sendLabelOptionToFront(foundAtIndex);\r\n  } else {\r\n    const color = generateRandomHSLColor();\r\n    maxUsedLabelIndex += 1;\r\n    labelOptions.unshift({ text, color });\r\n    if (limitLabelOptions && (labelOptions.length > maxLabelOptions)) {\r\n      labelOptions.pop();\r\n      numberOfRemovedOptions += 1;\r\n      if (numberOfRemovedOptions === 5) {\r\n        limitLabelOptions = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction getMaxUsedLabelIndex() {\r\n  return maxUsedLabelIndex - 1;\r\n}\r\n\r\nfunction getLabelOptions() {\r\n  return labelOptions;\r\n}\r\n\r\nfunction getLabelColor(text) {\r\n  for (let i = 0; i < labelOptions.length; i += 1) {\r\n    if (labelOptions[i].text === text) {\r\n      return labelOptions[i].color;\r\n    }\r\n  }\r\n  return { highlight: 'hsl(0, 100%, 50%, 0.2)', default: 'hsl(0, 100%, 50%, 0.01)' };\r\n}\r\n\r\nfunction shuffle(array) {\r\n  array.sort(() => Math.random() - 0.5);\r\n}\r\n\r\nshuffle(defaultShapeColors);\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/labelList/labelOptions.js?");

/***/ }),

/***/ "./src/js/tools/labellerModal/buttonEventHandlers.js":
/*!***********************************************************!*\
  !*** ./src/js/tools/labellerModal/buttonEventHandlers.js ***!
  \***********************************************************/
/*! exports provided: labelShape, inputKeyDown, cancelLabellingProcess, arrowKeyEvents, selectLabelOption, initialiseLabellerModalLocalVariables, pasteLabelText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"labelShape\", function() { return labelShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inputKeyDown\", function() { return inputKeyDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cancelLabellingProcess\", function() { return cancelLabellingProcess; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrowKeyEvents\", function() { return arrowKeyEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectLabelOption\", function() { return selectLabelOption; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseLabellerModalLocalVariables\", function() { return initialiseLabellerModalLocalVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pasteLabelText\", function() { return pasteLabelText; });\n/* harmony import */ var _labellingProcess__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labellingProcess */ \"./src/js/tools/labellerModal/labellingProcess.js\");\n/* harmony import */ var _toolkit_buttonClickEvents_facade__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../toolkit/buttonClickEvents/facade */ \"./src/js/tools/toolkit/buttonClickEvents/facade.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../canvas/objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n/* harmony import */ var _canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../canvas/objects/boundingBox/boundingBox */ \"./src/js/canvas/objects/boundingBox/boundingBox.js\");\n/* harmony import */ var _labelList_labelOptions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../labelList/labelOptions */ \"./src/js/tools/labelList/labelOptions.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/textProcessingUtils */ \"./src/js/tools/utils/textProcessingUtils.js\");\n/* harmony import */ var _globalStyling_timeouts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../globalStyling/timeouts */ \"./src/js/tools/globalStyling/timeouts.js\");\n/* harmony import */ var _utils_tableUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/tableUtils */ \"./src/js/tools/utils/tableUtils.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./style */ \"./src/js/tools/labellerModal/style.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet keyDownEventTimeOut = 0;\r\nlet textInputElement = null;\r\nlet optionsElement = null;\r\nlet oneOrMoreLabelsAdded = false;\r\nlet currentlySelectedLabelOption = null;\r\n\r\nfunction changeSubmitButtonStyling() {\r\n  const prepocessedText = Object(_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_7__[\"preprocessLabelText\"])(textInputElement.value);\r\n  if (prepocessedText === '') {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_10__[\"changeStyleWhenInputEmpty\"])();\r\n  } else if (prepocessedText === 'new label') {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_10__[\"changeStyleWhenInputInvalid\"])();\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_10__[\"changeStyleToAllowSubmit\"])();\r\n  }\r\n}\r\n\r\nfunction initialiseLabellerModalLocalVariables() {\r\n  textInputElement = document.getElementById('labeller-modal-input');\r\n  optionsElement = document.getElementById('labeller-modal-options');\r\n  keyDownEventTimeOut = Object(_globalStyling_timeouts__WEBPACK_IMPORTED_MODULE_8__[\"getKeyDownEventTimeout\"])();\r\n}\r\n\r\nfunction resetDrawingMode() {\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getContinuousDrawingState\"])()) {\r\n    Object(_toolkit_buttonClickEvents_facade__WEBPACK_IMPORTED_MODULE_1__[\"resetCanvasEventsToDefault\"])();\r\n  } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getLastDrawingModeState\"])() === 'polygon') {\r\n    Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_3__[\"resetDrawPolygonMode\"])();\r\n  } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getLastDrawingModeState\"])() === 'boundingBox') {\r\n    Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_4__[\"resetDrawBoundingBoxMode\"])();\r\n  }\r\n}\r\n\r\nfunction labelShape() {\r\n  const preprocessedText = Object(_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_7__[\"preprocessLabelText\"])(textInputElement.value);\r\n  if (preprocessedText !== '') {\r\n    Object(_labellingProcess__WEBPACK_IMPORTED_MODULE_0__[\"createLabelShape\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setHasDrawnShapeState\"])(true);\r\n    resetDrawingMode();\r\n    Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_6__[\"displayTickSVGOverImageThumbnail\"])();\r\n    oneOrMoreLabelsAdded = true;\r\n  }\r\n}\r\n\r\nfunction cancelLabellingProcess() {\r\n  if (Object(_labellingProcess__WEBPACK_IMPORTED_MODULE_0__[\"isLabelling\"])()) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_10__[\"hideLabellerModal\"])();\r\n    Object(_labellingProcess__WEBPACK_IMPORTED_MODULE_0__[\"removeTargetShape\"])();\r\n    resetDrawingMode();\r\n  }\r\n}\r\n\r\nfunction selectLabelOption(text, element, color) {\r\n  if (currentlySelectedLabelOption) {\r\n    currentlySelectedLabelOption.id = '';\r\n    currentlySelectedLabelOption.style.backgroundColor = '';\r\n  }\r\n  const { parentElement } = element.parentElement;\r\n  parentElement.id = 'used';\r\n  parentElement.style.backgroundColor = color;\r\n  currentlySelectedLabelOption = parentElement;\r\n  textInputElement.value = text;\r\n  changeSubmitButtonStyling();\r\n}\r\n\r\nfunction setCaretPosition(caretPos) {\r\n  textInputElement.value = textInputElement.value;\r\n  if (textInputElement.createTextRange) {\r\n    const range = textInputElement.createTextRange();\r\n    range.move('character', caretPos);\r\n    range.select();\r\n    return true;\r\n  }\r\n  if (textInputElement.selectionStart || textInputElement.selectionStart === 0) {\r\n    textInputElement.focus();\r\n    textInputElement.setSelectionRange(caretPos, caretPos);\r\n    return true;\r\n  }\r\n  textInputElement.focus();\r\n  return false;\r\n}\r\n\r\nfunction getOptionsElementList() {\r\n  if (!oneOrMoreLabelsAdded && optionsElement.childNodes[1]) {\r\n    oneOrMoreLabelsAdded = true;\r\n    return optionsElement.childNodes[1].childNodes;\r\n  }\r\n  return optionsElement.childNodes[0].childNodes;\r\n}\r\n\r\n// at the moment if the mouse hovers over an option, then the user types in that option\r\n// and changes something again -> the highlight will disappear as the currentlySelectedLabelOption\r\n// is blanked. The only way this can be prevented is adding a special indicator for when\r\n// that element is being highlighted\r\nfunction inputKeyDown(event) {\r\n  if (event.key !== 'Enter') {\r\n    window.setTimeout(() => {\r\n      if (event.code === 'Space') {\r\n        const initialCaretLocation = textInputElement.selectionStart;\r\n        setCaretPosition(initialCaretLocation);\r\n      }\r\n      if (currentlySelectedLabelOption) {\r\n        currentlySelectedLabelOption.style.backgroundColor = '';\r\n        currentlySelectedLabelOption.id = '';\r\n        currentlySelectedLabelOption = null;\r\n      }\r\n      const optionsElementList = getOptionsElementList();\r\n      for (let i = 0; i < optionsElementList.length; i += 1) {\r\n        if (optionsElementList[i].childNodes[0].childNodes[0].childNodes[0].innerHTML\r\n            === textInputElement.value) {\r\n          [currentlySelectedLabelOption] = optionsElementList[i].childNodes;\r\n          currentlySelectedLabelOption.style.backgroundColor = Object(_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_5__[\"getLabelOptions\"])()[i].color.label;\r\n          currentlySelectedLabelOption.id = 'used';\r\n          Object(_utils_tableUtils__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currentlySelectedLabelOption, optionsElement);\r\n          break;\r\n        }\r\n      }\r\n      changeSubmitButtonStyling();\r\n    }, keyDownEventTimeOut);\r\n  }\r\n}\r\n\r\nfunction arrowKeyEvents(key) {\r\n  if (currentlySelectedLabelOption) {\r\n    if (key === 'ArrowDown') {\r\n      const { nextSibling } = currentlySelectedLabelOption.parentElement;\r\n      if (nextSibling) {\r\n        nextSibling.childNodes[0].childNodes[0].childNodes[0].dispatchEvent(new Event('mousedown'));\r\n      }\r\n    } else if (key === 'ArrowUp') {\r\n      const { previousSibling } = currentlySelectedLabelOption.parentElement;\r\n      if (previousSibling) {\r\n        previousSibling.childNodes[0].childNodes[0].childNodes[0].dispatchEvent(new Event('mousedown'));\r\n      }\r\n    }\r\n  } else {\r\n    const optionsElementList = optionsElement.childNodes[0].childNodes[0]\r\n      || optionsElement.childNodes[1].childNodes[0];\r\n    optionsElementList.childNodes[0].childNodes[0].childNodes[0].dispatchEvent(new Event('mousedown'));\r\n  }\r\n  changeSubmitButtonStyling();\r\n}\r\n\r\nfunction pasteLabelText() {\r\n  window.setTimeout(() => {\r\n    const initialCaretLocation = textInputElement.selectionStart;\r\n    textInputElement.value = Object(_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_7__[\"preprocessPastedText\"])(textInputElement.value);\r\n    setCaretPosition(initialCaretLocation);\r\n  }, 0);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/labellerModal/buttonEventHandlers.js?");

/***/ }),

/***/ "./src/js/tools/labellerModal/buttons.js":
/*!***********************************************!*\
  !*** ./src/js/tools/labellerModal/buttons.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseLabellerModal; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buttonEventHandlers */ \"./src/js/tools/labellerModal/buttonEventHandlers.js\");\n\r\n\r\n\r\nfunction initialiseLabellerModal() {\r\n  Object(_buttonEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"initialiseLabellerModalLocalVariables\"])();\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"initialiseLabellerModalOptionsList\"])();\r\n  window.labelShape = _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"labelShape\"];\r\n  window.cancelLabellingProcess = _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"cancelLabellingProcess\"];\r\n  window.labellerModalKeyDown = _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"inputKeyDown\"];\r\n  window.labellerModalInputPaste = _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"pasteLabelText\"];\r\n  window.selectLabelOption = _buttonEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"selectLabelOption\"];\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/labellerModal/buttons.js?");

/***/ }),

/***/ "./src/js/tools/labellerModal/labellingProcess.js":
/*!********************************************************!*\
  !*** ./src/js/tools/labellerModal/labellingProcess.js ***!
  \********************************************************/
/*! exports provided: prepareLabelShape, createLabelShape, removeTargetShape, isLabelling */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareLabelShape\", function() { return prepareLabelShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createLabelShape\", function() { return createLabelShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeTargetShape\", function() { return removeTargetShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isLabelling\", function() { return isLabelling; });\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../canvas/mouseInteractions/cursorModes/drawMode */ \"./src/js/canvas/mouseInteractions/cursorModes/drawMode.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _canvas_objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../canvas/objects/allShapes/labelAndShapeBuilder */ \"./src/js/canvas/objects/allShapes/labelAndShapeBuilder.js\");\n\r\n\r\n\r\n\r\nlet labellingState = false;\r\nlet targetShape = null;\r\nlet canvas = null;\r\n\r\nfunction prepareLabelShape(shape, canvasObj) {\r\n  Object(_canvas_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_0__[\"waitingForLabelCursorMode\"])(canvasObj);\r\n  targetShape = shape;\r\n  canvas = canvasObj;\r\n  labellingState = true;\r\n}\r\n\r\nfunction removeTargetShape() {\r\n  canvas.remove(targetShape);\r\n  labellingState = false;\r\n}\r\n\r\nfunction createLabelShape() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"hideLabellerModal\"])();\r\n  Object(_canvas_objects_allShapes_labelAndShapeBuilder__WEBPACK_IMPORTED_MODULE_2__[\"generateLabelShapeGroup\"])(targetShape, Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getLabellerModalInputText\"])());\r\n  Object(_canvas_mouseInteractions_cursorModes_drawMode__WEBPACK_IMPORTED_MODULE_0__[\"resetObjectCursors\"])(canvas);\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"resetLabellerModalOptions\"])();\r\n  labellingState = false;\r\n}\r\n\r\nfunction isLabelling() {\r\n  return labellingState;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/labellerModal/labellingProcess.js?");

/***/ }),

/***/ "./src/js/tools/labellerModal/style.js":
/*!*********************************************!*\
  !*** ./src/js/tools/labellerModal/style.js ***!
  \*********************************************/
/*! exports provided: setLabellerPopupDimProperties, validateFullModalVisibile, changeStyleWhenInputInvalid, initialiseLabellerModalOptionsList, showLabellerModal, hideLabellerModal, changeStyleWhenInputEmpty, resetLabellerModalOptions, getLabellerModalInputText, changeStyleToAllowSubmit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setLabellerPopupDimProperties\", function() { return setLabellerPopupDimProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateFullModalVisibile\", function() { return validateFullModalVisibile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeStyleWhenInputInvalid\", function() { return changeStyleWhenInputInvalid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseLabellerModalOptionsList\", function() { return initialiseLabellerModalOptionsList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showLabellerModal\", function() { return showLabellerModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideLabellerModal\", function() { return hideLabellerModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeStyleWhenInputEmpty\", function() { return changeStyleWhenInputEmpty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetLabellerModalOptions\", function() { return resetLabellerModalOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLabellerModalInputText\", function() { return getLabellerModalInputText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeStyleToAllowSubmit\", function() { return changeStyleToAllowSubmit; });\n/* harmony import */ var _labelList_labelOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../labelList/labelOptions */ \"./src/js/tools/labelList/labelOptions.js\");\n/* harmony import */ var _dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dimWindow/dimWindowService */ \"./src/js/tools/dimWindow/dimWindowService.js\");\n/* harmony import */ var _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dimWindow/consts */ \"./src/js/tools/dimWindow/consts.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _globalStyling_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../globalStyling/style */ \"./src/js/tools/globalStyling/style.js\");\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n/* harmony import */ var _keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../keyEvents/mouse/mouseMove */ \"./src/js/keyEvents/mouse/mouseMove.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet parentElement = null;\r\nlet optionsElement = null;\r\nlet submitButtonElement = null;\r\nlet inputElement = null;\r\nlet defaultListHeightPx = 0;\r\nlet addNewLabelDeltaHeight = 0;\r\nlet currentListHeightPx = null;\r\nlet heightIncreasedForNewLabel = false;\r\nlet heightIncreasedForHorizontalScrollbar = false;\r\nlet horizontalScrollSet = false;\r\nlet fakeRightBorderAdded = false;\r\nlet fakeBottomBorderAdded = false;\r\nlet lightupTimePeriod = _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"QUICK_LIGHTUP_MILLISECONDS\"];\r\nlet dimTimePeriod = _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"QUICK_DIM_SECONDS\"];\r\nlet dimIntensity = _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"THIN_DIM\"];\r\nlet optionsListBorderWidth = 1;\r\n\r\nfunction initialiseParentElement() {\r\n  return document.createElement('div');\r\n}\r\n\r\nfunction addLabelToList(labelText, color) {\r\n  const labelElement = initialiseParentElement();\r\n  labelElement.innerHTML = `<div class=\"labelDropdownOption\" ondblclick=\"labelShape()\" onmousedown=\"selectLabelOption(innerHTML, this, '${color}')\">${labelText}</div>`;\r\n  const newRow = optionsElement.insertRow(-1);\r\n  const cell = newRow.insertCell(0);\r\n  cell.onmouseenter = window.mouseEnterLabelDropdownOption.bind(this, cell, color);\r\n  cell.onmouseleave = window.mouseLeaveLabelDropdownOption.bind(this, cell, false);\r\n  cell.appendChild(labelElement);\r\n}\r\n\r\nfunction isVerticalScrollPresent() {\r\n  return optionsElement.scrollHeight\r\n  > optionsElement.clientHeight;\r\n}\r\n\r\nfunction isHorizontalScrollPresent() {\r\n  return optionsElement.scrollWidth\r\n  > optionsElement.clientWidth;\r\n}\r\n\r\nfunction addFakeRightBorder() {\r\n  if (fakeRightBorderAdded) return;\r\n  const chromiumFakeRightBorderFixElement = document.getElementById('chromium-fake-popup-table-right-border-fix');\r\n  chromiumFakeRightBorderFixElement.style.height = `${currentListHeightPx}px`;\r\n  chromiumFakeRightBorderFixElement.style.display = '';\r\n  chromiumFakeRightBorderFixElement.style.right = Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__[\"getScreenSizeDelta\"])() > 1.000001 ? `${9 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__[\"getScreenSizeDelta\"])()}px` : '9.8px';\r\n  fakeRightBorderAdded = true;\r\n}\r\n\r\nfunction addFakeBottomBorder() {\r\n  if (fakeBottomBorderAdded) return;\r\n  const chromiumFakeBottomBorderFixElement = document.getElementById('chromium-fake-popup-table-bottom-border-fix');\r\n  const modalTitleElementHeight = document.getElementById('labeller-modal-title').getBoundingClientRect().height;\r\n  const inputElementHeight = inputElement.getBoundingClientRect().height;\r\n  const heightOfElementsAboveOptionsList = modalTitleElementHeight + inputElementHeight;\r\n  const optionsListHeight = optionsElement.getBoundingClientRect().height;\r\n  const optionsListPaddingTopHeight = 2 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__[\"getScreenSizeDelta\"])();\r\n  chromiumFakeBottomBorderFixElement.style.top = `${Math.floor(heightOfElementsAboveOptionsList + optionsListHeight\r\n    + (Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_4__[\"getScrollbarWidth\"])() * 2) - optionsListPaddingTopHeight + optionsListBorderWidth)}px`;\r\n  chromiumFakeBottomBorderFixElement.style.display = '';\r\n  optionsElement.style.paddingBottom = '0px';\r\n  fakeBottomBorderAdded = true;\r\n}\r\n\r\n// the following is a bug fix for chromium based browsers where the scroll bars\r\n// do not cover the edge of the table body, meaning that upon hovering on them;\r\n// the mouse over events would be triggered on the body below it.\r\n// In this case, it would be the table element highlighting and cursor change\r\nfunction addFakeBordersForChromium() {\r\n  if (!_utils_browserType__WEBPACK_IMPORTED_MODULE_5__[\"default\"]) {\r\n    if (isVerticalScrollPresent()) {\r\n      addFakeRightBorder();\r\n    }\r\n    if (isHorizontalScrollPresent()) {\r\n      addFakeBottomBorder();\r\n    }\r\n  }\r\n}\r\n\r\nfunction setLabelOptionsHeight() {\r\n  if (!horizontalScrollSet) {\r\n    let newHeight = currentListHeightPx;\r\n    if (!heightIncreasedForHorizontalScrollbar && isHorizontalScrollPresent()) {\r\n      newHeight += Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_4__[\"getScrollbarWidth\"])();\r\n      currentListHeightPx = newHeight;\r\n      heightIncreasedForHorizontalScrollbar = true;\r\n      horizontalScrollSet = true;\r\n    }\r\n    optionsElement.style.height = `${newHeight}px`;\r\n  }\r\n}\r\n\r\n// should be in label list\r\nfunction deleteAndAddLastRowToRefreshDiv() {\r\n  const labelOptions = Object(_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_0__[\"getLabelOptions\"])();\r\n  optionsElement.deleteRow(labelOptions.length - 1);\r\n  if (!heightIncreasedForNewLabel && labelOptions.length >= 6) {\r\n    currentListHeightPx = defaultListHeightPx + addNewLabelDeltaHeight;\r\n    heightIncreasedForHorizontalScrollbar = false;\r\n    heightIncreasedForNewLabel = true;\r\n    setLabelOptionsHeight();\r\n  }\r\n  if (labelOptions.length === 7) {\r\n    addLabelToList('temp horizontal');\r\n  }\r\n  window.setTimeout(() => {\r\n    const label = labelOptions[labelOptions.length - 1];\r\n    addLabelToList(label.text, label.color.label);\r\n    if (labelOptions.length === 7) {\r\n      optionsElement.deleteRow(6);\r\n    }\r\n  }, 0);\r\n}\r\n\r\nfunction resetLabelOptionsListScroll() {\r\n  optionsElement.scrollTop = 0;\r\n  optionsElement.scrollLeft = 0;\r\n}\r\n\r\nfunction getLabellerModalInputText() {\r\n  return inputElement.value;\r\n}\r\n\r\nfunction highlightInitialLabelOptionOnInit() {\r\n  window.labellerModalKeyDown({ key: 'stub' });\r\n}\r\n\r\nfunction hideLabellerModal() {\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_1__[\"lightUpWindow\"])(lightupTimePeriod);\r\n  parentElement.style.display = 'none';\r\n  inputElement.value = inputElement.value.trim();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setLabellerModalDisplayedState\"])(false);\r\n}\r\n\r\nfunction validateFullModalVisibile(isWindowResized) {\r\n  if (Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_4__[\"windowHasScrollbar\"])()) {\r\n    parentElement.style.top = '';\r\n    parentElement.style.bottom = '5px';\r\n  } else if (!isWindowResized) {\r\n    parentElement.style.bottom = '';\r\n  }\r\n}\r\n\r\n// fix for a bug where the options list item color would not fill to the very end\r\n// when delta is 1.1 and the width is 150px as an example\r\nfunction setOptionsElementWidth() {\r\n  optionsElement.style.width = Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__[\"getScreenSizeDelta\"])() > 1.0000001 ? '150.4px' : '165px';\r\n}\r\n\r\nfunction setListHeightVariables() {\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_5__[\"default\"]) {\r\n    defaultListHeightPx = Math.ceil(107.5 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__[\"getScreenSizeDelta\"])());\r\n    addNewLabelDeltaHeight = Math.ceil(21.5 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__[\"getScreenSizeDelta\"])());\r\n  } else {\r\n    defaultListHeightPx = Math.ceil(105 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__[\"getScreenSizeDelta\"])());\r\n    addNewLabelDeltaHeight = Math.ceil(21 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_7__[\"getScreenSizeDelta\"])());\r\n  }\r\n  currentListHeightPx = defaultListHeightPx;\r\n}\r\n\r\nfunction setLocalVariables() {\r\n  inputElement = document.getElementById('labeller-modal-input');\r\n  parentElement = document.getElementById('labeller-modal-parent');\r\n  optionsElement = document.getElementById('labeller-modal-options');\r\n  submitButtonElement = document.getElementById('labeller-modal-submit-button');\r\n  optionsListBorderWidth = Number(getComputedStyle(optionsElement, null).getPropertyValue('border-left-width').replace(/[^0-9.]+/g, ''));\r\n  setListHeightVariables();\r\n}\r\n\r\nfunction initialiseLabellerModalOptionsList() {\r\n  setLocalVariables();\r\n  Object(_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_0__[\"getLabelOptions\"])().forEach((option) => {\r\n    addLabelToList(option.text, option.color.label);\r\n  });\r\n  setOptionsElementWidth();\r\n}\r\n\r\nfunction purgeOptionsFromLabelElement() {\r\n  optionsElement.innerHTML = '';\r\n}\r\n\r\nfunction changeStyleWhenInputEmpty() {\r\n  submitButtonElement.style.backgroundColor = '';\r\n  setTimeout(() => {\r\n    submitButtonElement.classList.replace('popup-label-button', 'popup-label-button-disabled');\r\n  });\r\n}\r\n\r\nfunction changeStyleWhenInputInvalid() {\r\n  submitButtonElement.style.backgroundColor = '';\r\n}\r\n\r\nfunction changeStyleToAllowSubmit() {\r\n  submitButtonElement.style.backgroundColor = 'rgb(205, 232, 205)';\r\n  setTimeout(() => {\r\n    submitButtonElement.classList.replace('popup-label-button-disabled', 'popup-label-button');\r\n  });\r\n}\r\n\r\nfunction resetLabellerModalOptions() {\r\n  purgeOptionsFromLabelElement();\r\n  Object(_labelList_labelOptions__WEBPACK_IMPORTED_MODULE_0__[\"getLabelOptions\"])().forEach((label) => {\r\n    addLabelToList(label.text, label.color.label);\r\n  });\r\n}\r\n\r\nfunction showLabellerModal() {\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_1__[\"dimWindow\"])(dimTimePeriod, dimIntensity);\r\n  const lastMouseMoveEvent = Object(_keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_6__[\"getLastMouseMoveEvent\"])();\r\n  parentElement.style.top = `${lastMouseMoveEvent.clientY}px`;\r\n  parentElement.style.left = `${lastMouseMoveEvent.clientX}px`;\r\n  deleteAndAddLastRowToRefreshDiv();\r\n  parentElement.style.display = 'block';\r\n  setLabelOptionsHeight();\r\n  addFakeBordersForChromium();\r\n  resetLabelOptionsListScroll();\r\n  validateFullModalVisibile();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setLabellerModalDisplayedState\"])(true);\r\n  window.setTimeout(() => {\r\n    inputElement.select();\r\n    highlightInitialLabelOptionOnInit();\r\n  }, 0);\r\n}\r\n\r\nfunction setLabellerPopupDimProperties(lightupTimePeriodArg, dimTimePeriodArg, dimIntensityArg) {\r\n  lightupTimePeriod = lightupTimePeriodArg;\r\n  dimTimePeriod = dimTimePeriodArg;\r\n  dimIntensity = dimIntensityArg;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/labellerModal/style.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/generatedLabels/buttonEvents.js":
/*!*********************************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/generatedLabels/buttonEvents.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerButtonEventHandlers; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/machineLearningModal/views/generatedLabels/style.js\");\n/* harmony import */ var _changeLabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./changeLabels */ \"./src/js/tools/machineLearningModal/views/generatedLabels/changeLabels.js\");\n/* harmony import */ var _canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates */ \"./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js\");\n\r\n\r\n\r\n\r\nfunction MLLabelTextKeyDown(event) {\r\n  if (event.key === 'Enter') {\r\n    Object(_changeLabels__WEBPACK_IMPORTED_MODULE_1__[\"stopEditingMLGeneratedLabelName\"])();\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"scrollHorizontallyToAppropriateWidth\"])('');\r\n  } else {\r\n    window.setTimeout(() => {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"updateGeneratedLabelsElementWidth\"])();\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"emptyDivFirefoxBugFix\"])(event.key);\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"displayRedEditButtonIfActiveTextEmpty\"])();\r\n    }, 1);\r\n  }\r\n}\r\n\r\nfunction submitMLGeneratedLabelNames(closeModalCallback) {\r\n  Object(_changeLabels__WEBPACK_IMPORTED_MODULE_1__[\"submitNewLabelNames\"])();\r\n  const generatedMachineLearningData = Object(_changeLabels__WEBPACK_IMPORTED_MODULE_1__[\"getGeneratedMachineLearningData\"])();\r\n  Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_2__[\"drawShapesViaCoordinates\"])(generatedMachineLearningData, true);\r\n  closeModalCallback(false);\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideGeneratedLabelsViewAssets\"])();\r\n}\r\n\r\nfunction editMachineLearningLabelButtonClick(element) {\r\n  Object(_changeLabels__WEBPACK_IMPORTED_MODULE_1__[\"setActiveLabelProperties\"])(element);\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"changeRowToEdit\"])(element);\r\n}\r\n\r\nfunction registerButtonEventHandlers(closeModalCallback) {\r\n  window.MLLabelTextKeyDown = MLLabelTextKeyDown;\r\n  window.MLLabelTextPaste = _style__WEBPACK_IMPORTED_MODULE_0__[\"MLLabelTextPaste\"];\r\n  window.displayMachineLearningModalEditLabelButton = _style__WEBPACK_IMPORTED_MODULE_0__[\"displayHighlightedDefaultEditLabelButton\"];\r\n  window.hideMachineLearningModalEditLabelButton = _style__WEBPACK_IMPORTED_MODULE_0__[\"displayGreyedDefaultEditLabelButton\"];\r\n  window.editMachineLearningLabel = editMachineLearningLabelButtonClick;\r\n  window.submitMLGeneratedLabels = submitMLGeneratedLabelNames.bind(this, closeModalCallback);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/generatedLabels/buttonEvents.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/generatedLabels/changeLabels.js":
/*!*********************************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/generatedLabels/changeLabels.js ***!
  \*********************************************************************************/
/*! exports provided: displayGeneratedLabelsView, setActiveLabelProperties, stopEditingMLGeneratedLabelNameBtnClick, submitNewLabelNames, stopEditingMLGeneratedLabelName, getGeneratedMachineLearningData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayGeneratedLabelsView\", function() { return displayGeneratedLabelsView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setActiveLabelProperties\", function() { return setActiveLabelProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stopEditingMLGeneratedLabelNameBtnClick\", function() { return stopEditingMLGeneratedLabelNameBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"submitNewLabelNames\", function() { return submitNewLabelNames; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stopEditingMLGeneratedLabelName\", function() { return stopEditingMLGeneratedLabelName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGeneratedMachineLearningData\", function() { return getGeneratedMachineLearningData; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style */ \"./src/js/tools/machineLearningModal/views/generatedLabels/style.js\");\n\r\n\r\n\r\nlet activeLabelInitialText = '';\r\nlet activeLabelElement = null;\r\nlet generatedObjects = null;\r\nlet objectNames = null;\r\n\r\nfunction getGeneratedMachineLearningData() {\r\n  return generatedObjects;\r\n}\r\n\r\nfunction updateGeneratedObjectsNames() {\r\n  Object.keys(generatedObjects).forEach((key) => {\r\n    generatedObjects[key].forEach((object) => {\r\n      object.class = objectNames[object.class].pendingName;\r\n    });\r\n  });\r\n}\r\n\r\nfunction submitNewLabelNames() {\r\n  updateGeneratedObjectsNames();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setChangingMLGeneratedLabelNamesState\"])(false);\r\n}\r\n\r\nfunction setNewLabelName() {\r\n  if (activeLabelElement.innerHTML !== activeLabelInitialText) {\r\n    Object.keys(objectNames).forEach((key) => {\r\n      if (objectNames[key].pendingName === activeLabelInitialText) {\r\n        objectNames[key].pendingName = activeLabelElement.innerHTML;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction displayInitialTextIfEmpty() {\r\n  if (activeLabelElement.innerHTML === '') {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeEditedLabelText\"])(activeLabelInitialText);\r\n  }\r\n}\r\n\r\nfunction trimText() {\r\n  activeLabelElement.innerHTML = activeLabelElement.innerHTML.trim();\r\n}\r\n\r\nfunction saveLabelName() {\r\n  trimText();\r\n  displayInitialTextIfEmpty();\r\n  setNewLabelName();\r\n}\r\n\r\nfunction setActivePropertiesToNull() {\r\n  activeLabelInitialText = '';\r\n  activeLabelElement = null;\r\n}\r\n\r\nfunction stopEditingMLGeneratedLabelName() {\r\n  saveLabelName();\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"stopEditingActiveTextElement\"])();\r\n  setActivePropertiesToNull();\r\n}\r\n\r\nfunction stopEditingMLGeneratedLabelNameBtnClick(element) {\r\n  if (Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"canChangeRowToStopEdit\"])(element)) {\r\n    stopEditingMLGeneratedLabelName();\r\n  }\r\n}\r\n\r\nfunction setActiveLabelProperties(element) {\r\n  if (element.childNodes[9] !== activeLabelElement) {\r\n    activeLabelElement = element.childNodes[9];\r\n    const text = activeLabelElement.innerHTML;\r\n    activeLabelInitialText = text;\r\n  }\r\n}\r\n\r\nfunction createObjectNamesObject() {\r\n  const currentNameToPending = {};\r\n  Object.keys(generatedObjects).forEach((key) => {\r\n    const predictions = generatedObjects[key];\r\n    for (let i = 0; i < predictions.length; i += 1) {\r\n      if (!Object.prototype.hasOwnProperty.call(currentNameToPending, predictions[i].class)) {\r\n        currentNameToPending[predictions[i].class] = { pendingName: predictions[i].class };\r\n      }\r\n    }\r\n  });\r\n  return currentNameToPending;\r\n}\r\n\r\nfunction displayGeneratedLabelsView(generatedObjectsArg) {\r\n  generatedObjects = generatedObjectsArg;\r\n  objectNames = createObjectNamesObject();\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"displayViewElements\"])(objectNames);\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setChangingMLGeneratedLabelNamesState\"])(true);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/generatedLabels/changeLabels.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/generatedLabels/style.js":
/*!**************************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/generatedLabels/style.js ***!
  \**************************************************************************/
/*! exports provided: displayGreyedDefaultEditLabelButton, changeEditedLabelText, emptyDivFirefoxBugFix, assignGeneratedLabelsViewLocalVariables, stopEditingActiveTextElement, displayRedEditButtonIfActiveTextEmpty, canChangeRowToStopEdit, MLLabelTextPaste, hideGeneratedLabelsViewAssets, scrollHorizontallyToAppropriateWidth, displayViewElements, changeRowToEdit, updateGeneratedLabelsElementWidth, displayHighlightedDefaultEditLabelButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayGreyedDefaultEditLabelButton\", function() { return displayGreyedDefaultEditLabelButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeEditedLabelText\", function() { return changeEditedLabelText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"emptyDivFirefoxBugFix\", function() { return emptyDivFirefoxBugFix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignGeneratedLabelsViewLocalVariables\", function() { return assignGeneratedLabelsViewLocalVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stopEditingActiveTextElement\", function() { return stopEditingActiveTextElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayRedEditButtonIfActiveTextEmpty\", function() { return displayRedEditButtonIfActiveTextEmpty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canChangeRowToStopEdit\", function() { return canChangeRowToStopEdit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MLLabelTextPaste\", function() { return MLLabelTextPaste; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideGeneratedLabelsViewAssets\", function() { return hideGeneratedLabelsViewAssets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scrollHorizontallyToAppropriateWidth\", function() { return scrollHorizontallyToAppropriateWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayViewElements\", function() { return displayViewElements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeRowToEdit\", function() { return changeRowToEdit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateGeneratedLabelsElementWidth\", function() { return updateGeneratedLabelsElementWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayHighlightedDefaultEditLabelButton\", function() { return displayHighlightedDefaultEditLabelButton; });\n/* harmony import */ var _globalStyling_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../globalStyling/style */ \"./src/js/tools/globalStyling/style.js\");\n/* harmony import */ var _utils_tableUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/tableUtils */ \"./src/js/tools/utils/tableUtils.js\");\n/* harmony import */ var _utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/elementCaretUtils */ \"./src/js/tools/utils/elementCaretUtils.js\");\n/* harmony import */ var _utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/textProcessingUtils */ \"./src/js/tools/utils/textProcessingUtils.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet editingActive = false;\r\nlet activeTextRow = null;\r\nlet activeTextElement = null;\r\nlet displayingRedEditButton = false;\r\nlet maxWidthStyleAppended = false;\r\nlet overflowScrollWidth = 0;\r\nlet objectNames = null;\r\nlet tableMaxWidth = null;\r\nlet isTableMaxHeightSet = false;\r\n\r\nlet generatedLabelsParentElement = null;\r\nlet generatedLabelsTableElement = null;\r\nlet generatedLabelsOuterContainerElement = null;\r\nlet submitButtonElement = null;\r\nlet descriptionElement = null;\r\n\r\nfunction displayHighlightedDefaultEditLabelButton(element) {\r\n  if (activeTextElement !== element && !element.classList.contains('activeLabelEditIcon')) {\r\n    if (!editingActive) {\r\n      element.style.backgroundColor = '#f7f7f7';\r\n      element.childNodes[1].style.display = 'none';\r\n      element.childNodes[3].style.display = '';\r\n    } else if (element !== activeTextRow) {\r\n      element.childNodes[1].style.display = 'none';\r\n      element.childNodes[3].style.display = '';\r\n    }\r\n  }\r\n}\r\n\r\nfunction displayGreyedDefaultEditLabelButton(element) {\r\n  if (activeTextElement !== element && !element.classList.contains('activeLabelEditIcon')) {\r\n    if (!editingActive) {\r\n      element.childNodes[1].style.display = '';\r\n      element.childNodes[3].style.display = 'none';\r\n      element.style.backgroundColor = '';\r\n    } else if (element !== activeTextRow) {\r\n      element.childNodes[1].style.display = '';\r\n      element.childNodes[3].style.display = 'none';\r\n    }\r\n  }\r\n}\r\n\r\nfunction scrollHorizontallyToAppropriateWidth(text) {\r\n  let myCanvas = document.createElement('canvas');\r\n  const context = myCanvas.getContext('2d');\r\n  context.font = Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_2__[\"getDefaultFont\"])(activeTextElement);\r\n  const metrics = context.measureText(text);\r\n  let originalParentMaxWidth = 337 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_4__[\"getScreenSizeDelta\"])();\r\n  if (Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_2__[\"isVerticalScrollPresent\"])(generatedLabelsParentElement)) {\r\n    originalParentMaxWidth -= overflowScrollWidth;\r\n  }\r\n  if (metrics.width > originalParentMaxWidth) {\r\n    generatedLabelsParentElement.scrollLeft = metrics.width - 312 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_4__[\"getScreenSizeDelta\"])();\r\n  } else {\r\n    generatedLabelsParentElement.scrollLeft = 0;\r\n  }\r\n  myCanvas = null;\r\n}\r\n\r\nfunction MLLabelTextPaste(event) {\r\n  event.stopPropagation();\r\n  event.preventDefault();\r\n  const clipboardData = event.clipboardData || window.clipboardData;\r\n  const pastedData = clipboardData.getData('Text');\r\n  const caretOnPaste = Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_2__[\"getCaretPositionOnDiv\"])(activeTextElement, true);\r\n  const caretPositionEnd = caretOnPaste.position;\r\n  const caretPositionStart = caretPositionEnd - caretOnPaste.highlightRangeOnPaste;\r\n  const preprocessedPastedData = Object(_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_3__[\"preprocessPastedText\"])(pastedData);\r\n  activeTextElement.innerHTML = activeTextElement.innerHTML.slice(0, caretPositionStart)\r\n   + preprocessedPastedData + activeTextElement.innerHTML.slice(caretPositionEnd);\r\n  Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_2__[\"setCaretPositionOnDiv\"])(caretPositionStart + preprocessedPastedData.length, activeTextElement,\r\n    false, scrollHorizontallyToAppropriateWidth);\r\n}\r\n\r\nfunction updateGeneratedLabelsElementWidth() {\r\n  generatedLabelsParentElement.style.width = `${activeTextRow.clientWidth + overflowScrollWidth}px`;\r\n  if (!maxWidthStyleAppended\r\n      && parseInt(generatedLabelsParentElement.style.width, 10) > tableMaxWidth) {\r\n    generatedLabelsParentElement.style.maxWidth = `${tableMaxWidth}px`;\r\n    generatedLabelsParentElement.style.overflowX = 'auto';\r\n    maxWidthStyleAppended = true;\r\n  } else if (maxWidthStyleAppended\r\n      && parseInt(generatedLabelsParentElement.style.width, 10) < tableMaxWidth) {\r\n    generatedLabelsParentElement.style.maxWidth = '';\r\n    generatedLabelsParentElement.style.overflowX = 'hidden';\r\n    maxWidthStyleAppended = false;\r\n  }\r\n}\r\n\r\nfunction changeEditedLabelText(text) {\r\n  activeTextElement.innerHTML = text;\r\n  window.setTimeout(() => {\r\n    updateGeneratedLabelsElementWidth();\r\n  }, 1);\r\n}\r\n\r\nfunction setEditingStateToFalse() {\r\n  setTimeout(() => {\r\n    editingActive = false;\r\n    activeTextRow = null;\r\n    activeTextElement = null;\r\n  }, 1);\r\n}\r\n\r\nfunction stopEditingActiveTextElement() {\r\n  activeTextElement.contentEditable = false;\r\n  activeTextRow.style.backgroundColor = '';\r\n  activeTextRow.childNodes[1].style.display = '';\r\n  if (displayingRedEditButton) {\r\n    activeTextRow.childNodes[7].style.display = 'none';\r\n    displayingRedEditButton = false;\r\n  } else {\r\n    activeTextRow.childNodes[5].style.display = 'none';\r\n  }\r\n  activeTextRow.style.cursor = 'pointer';\r\n  setEditingStateToFalse();\r\n}\r\n\r\nfunction getLastDigitFromText(text) {\r\n  if (text.match(/\\d+$/)) {\r\n    return text.match(/\\d+$/)[0];\r\n  }\r\n  return -1;\r\n}\r\n\r\nfunction isElementIdNotTheGeneratedLabelsElementId(element) {\r\n  if (element.id.startsWith('MLLabel')) {\r\n    const elementIdNumber = getLastDigitFromText(element.id);\r\n    const activeTextElementIdNumber = getLastDigitFromText(activeTextElement.id);\r\n    return elementIdNumber !== activeTextElementIdNumber;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isElementNotTheCurrentlyActiveTextRow(element) {\r\n  return activeTextRow && activeTextRow !== element;\r\n}\r\n\r\nfunction isElementNotTheCurrentlyActiveTextElement(element) {\r\n  return activeTextElement && activeTextElement !== element;\r\n}\r\n\r\nfunction canChangeRowToStopEdit(element) {\r\n  if (isElementNotTheCurrentlyActiveTextElement(element)\r\n    && isElementNotTheCurrentlyActiveTextRow(element)\r\n    && isElementIdNotTheGeneratedLabelsElementId(element)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction setTextElementContentToEditable() {\r\n  activeTextElement.contentEditable = true;\r\n}\r\n\r\nfunction setElementStyleToActive(element) {\r\n  element.style.backgroundColor = '#f7f7f7';\r\n  setTextElementContentToEditable();\r\n  element.childNodes[5].style.display = '';\r\n  element.childNodes[1].style.display = 'none';\r\n  element.childNodes[3].style.display = 'none';\r\n  element.style.cursor = 'auto';\r\n}\r\n\r\nfunction setActiveElementProperties(element) {\r\n  activeTextRow = element;\r\n  activeTextElement = element.childNodes[9];\r\n}\r\n\r\nfunction changeRowToEdit(element) {\r\n  if (element !== activeTextRow) {\r\n    const textElement = element.childNodes[9];\r\n    setActiveElementProperties(element);\r\n    setElementStyleToActive(element);\r\n    Object(_utils_tableUtils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(textElement, generatedLabelsParentElement);\r\n    Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_2__[\"setCaretPositionOnDiv\"])(textElement.innerHTML.length, textElement, false,\r\n      scrollHorizontallyToAppropriateWidth);\r\n    editingActive = true;\r\n  }\r\n}\r\n\r\nfunction emptyDivFirefoxBugFix(key) {\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_5__[\"default\"] && key === 'Backspace') Object(_utils_elementCaretUtils__WEBPACK_IMPORTED_MODULE_2__[\"emptyContentEditableFirefoxBugFix\"])(activeTextElement);\r\n}\r\n\r\nfunction displayRedEditButtonIfActiveTextEmpty() {\r\n  const preprocessedText = Object(_utils_textProcessingUtils__WEBPACK_IMPORTED_MODULE_3__[\"preprocessLabelText\"])(activeTextElement.innerHTML);\r\n  if (preprocessedText === '') {\r\n    activeTextRow.childNodes[5].style.display = 'none';\r\n    activeTextRow.childNodes[7].style.display = '';\r\n    displayingRedEditButton = true;\r\n  } else if (displayingRedEditButton) {\r\n    activeTextRow.childNodes[5].style.display = '';\r\n    activeTextRow.childNodes[7].style.display = 'none';\r\n    displayingRedEditButton = false;\r\n  }\r\n}\r\n\r\nfunction updateGeneratedLabelsParentElementWidthOnStartup() {\r\n  activeTextRow = generatedLabelsTableElement.childNodes[1].childNodes[0].childNodes[0];\r\n  updateGeneratedLabelsElementWidth();\r\n  activeTextRow = null;\r\n}\r\n\r\nfunction calculateContainerDivHeight() {\r\n  const numberOfRows = Object.keys(objectNames).length;\r\n  const baseHeight = numberOfRows > 1 ? 104 : 114;\r\n  const numberOfVisibleRows = numberOfRows > 5 ? 5 : numberOfRows;\r\n  const newNameHeight = baseHeight / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_4__[\"getScreenSizeDelta\"])() + numberOfVisibleRows * 10;\r\n  return `${newNameHeight}px`;\r\n}\r\n\r\nfunction setLabelsParentElementMaxHeight() {\r\n  const tableElement = generatedLabelsParentElement.childNodes[1].childNodes[1];\r\n  if (tableElement.childNodes.length > 0) {\r\n    generatedLabelsParentElement.style.maxHeight = `${generatedLabelsParentElement.childNodes[1].childNodes[1].childNodes[0].getBoundingClientRect().height * 5}px`;\r\n    isTableMaxHeightSet = true;\r\n  }\r\n}\r\n\r\nfunction changeElementsToVisible() {\r\n  generatedLabelsOuterContainerElement.style.display = '';\r\n  generatedLabelsOuterContainerElement.style.height = calculateContainerDivHeight();\r\n}\r\n\r\nfunction changeElementsToMoveListUpwards() {\r\n  submitButtonElement.style.marginTop = `${2 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_4__[\"getScreenSizeDelta\"])()}px`;\r\n  submitButtonElement.style.marginBottom = `${6 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_4__[\"getScreenSizeDelta\"])()}px`;\r\n  descriptionElement.style.marginBottom = `${6 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_4__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction resetElementsToMoveListToDefaultPosition() {\r\n  submitButtonElement.style.marginTop = '';\r\n  submitButtonElement.style.marginBottom = '';\r\n  descriptionElement.style.marginBottom = '';\r\n}\r\n\r\nfunction createLabelElementMarkup(labelText, id) {\r\n  return `\r\n    <div class=\"machine-learning-modal-generated-labels-row\" onClick=\"editMachineLearningLabel(this)\" onMouseEnter=\"displayMachineLearningModalEditLabelButton(this)\" onMouseLeave=\"hideMachineLearningModalEditLabelButton(this)\">\r\n      <img class=\"defaultLabelEditIcon machine-learning-modal-generated-labels-edit-icon\" src=\"edit-disabled.svg\" alt=\"edit\">\r\n      <img id=\"MLLabelHighlightedEditButton${id}\" class=\"defaultLabelEditIcon machine-learning-modal-generated-labels-edit-icon\" style=\"display: none\" src=\"edit.svg\" alt=\"edit\">\r\n      <img id=\"MLLabelActiveEditButton${id}\" class=\"defaultLabelEditIcon machine-learning-modal-generated-labels-edit-icon reverse-icon\" style=\"display: none\" src=\"edit-blue.svg\" alt=\"edit\">\r\n      <img id=\"MLLabelDisabledEditButton${id}\" class=\"defaultLabelEditIcon machine-learning-modal-generated-labels-edit-icon reverse-icon\" style=\"display: none\" src=\"edit-red.svg\" alt=\"edit\">\r\n      <div id=\"MLLabelText${id}\" class=\"machine-learning-modal-generated-labels-input\" spellcheck=\"false\" onkeydown=\"MLLabelTextKeyDown(event)\" onpaste=\"MLLabelTextPaste(event)\">${labelText}</div>\r\n    </div>\r\n  `;\r\n}\r\n\r\n// fix for chrome where upon clicking on a row to edit, the row height\r\n// would get smaller\r\nfunction triggerContentEditableOnce(cell) {\r\n  const textInput = cell.childNodes[1].childNodes[9];\r\n  textInput.contentEditable = true;\r\n  setTimeout(() => {\r\n    textInput.contentEditable = false;\r\n  });\r\n}\r\n\r\nfunction populateGeneratedLabelsTable() {\r\n  let index = 0;\r\n  Object.keys(objectNames).forEach((key) => {\r\n    const newNameRow = generatedLabelsTableElement.insertRow(-1);\r\n    const cell = newNameRow.insertCell(0);\r\n    cell.innerHTML = createLabelElementMarkup(objectNames[key].pendingName, index);\r\n    index += 1;\r\n    triggerContentEditableOnce(cell);\r\n  });\r\n  if (index > 4) {\r\n    changeElementsToMoveListUpwards();\r\n  } else {\r\n    resetElementsToMoveListToDefaultPosition();\r\n  }\r\n}\r\n\r\nfunction changeModalDescription() {\r\n  descriptionElement.innerHTML = 'The following names were automatically assigned to the generated objects, you can edit them below:';\r\n}\r\n\r\nfunction displayDescription() {\r\n  descriptionElement.style.display = '';\r\n}\r\n\r\nfunction setLocalVariables() {\r\n  overflowScrollWidth = Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_0__[\"getScrollbarWidth\"])();\r\n}\r\n\r\nfunction displayViewElements(objectNamesArg) {\r\n  objectNames = objectNamesArg;\r\n  setLocalVariables();\r\n  changeModalDescription();\r\n  displayDescription();\r\n  populateGeneratedLabelsTable();\r\n  changeElementsToVisible();\r\n  if (!isTableMaxHeightSet) setLabelsParentElementMaxHeight();\r\n  updateGeneratedLabelsParentElementWidthOnStartup();\r\n}\r\n\r\nfunction removeGeneratedLabelsTableRows() {\r\n  const newtbody = document.createElement('tbody');\r\n  if (generatedLabelsTableElement.childNodes[1]) {\r\n    generatedLabelsTableElement.replaceChild(newtbody, generatedLabelsTableElement.childNodes[1]);\r\n  }\r\n}\r\n\r\nfunction hideGeneratedLabelsViewAssets() {\r\n  generatedLabelsOuterContainerElement.style.display = 'none';\r\n  removeGeneratedLabelsTableRows();\r\n}\r\n\r\nfunction assignGeneratedLabelsViewLocalVariables() {\r\n  tableMaxWidth = 352 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_4__[\"getScreenSizeDelta\"])();\r\n  descriptionElement = document.getElementById('machine-learning-modal-description');\r\n  generatedLabelsParentElement = document.getElementById('machine-learning-modal-generated-labels');\r\n  submitButtonElement = document.getElementById('machine-learning-modal-generated-labels-submit-button');\r\n  generatedLabelsTableElement = document.getElementById('machine-learning-modal-generated-labels-table');\r\n  generatedLabelsOuterContainerElement = document.getElementById('machine-learning-modal-generated-labels-outer-container');\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/generatedLabels/style.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/initiateMachineLearning/buttonEvents.js":
/*!*****************************************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/initiateMachineLearning/buttonEvents.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerButtonEventHandlers; });\n/* harmony import */ var _machineLearning__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./machineLearning */ \"./src/js/tools/machineLearningModal/views/initiateMachineLearning/machineLearning.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style */ \"./src/js/tools/machineLearningModal/views/initiateMachineLearning/style.js\");\n\r\n\r\n\r\nfunction cancelMLModal(closeModal) {\r\n  if (Object(_machineLearning__WEBPACK_IMPORTED_MODULE_0__[\"getProgressStatus\"])()) {\r\n    Object(_machineLearning__WEBPACK_IMPORTED_MODULE_0__[\"cancelMachineLearning\"])();\r\n  } else {\r\n    closeModal(true);\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"hideInitiateMachineLearningViewAssets\"])();\r\n  }\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"prepareInstantiateMachineLearningView\"])();\r\n}\r\n\r\nfunction moveToNextView(nextViewCallback) {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"hideInitiateMachineLearningViewAssets\"])();\r\n  nextViewCallback();\r\n}\r\n\r\nfunction startMachineLearningMiddleware(nextViewCallback, setMachineLearningData, retry) {\r\n  if (retry) { Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"removeRetryButton\"])(); }\r\n  if (Object(_machineLearning__WEBPACK_IMPORTED_MODULE_0__[\"isFractionOfImagesAnalysedByML\"])()) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"removeStartButton\"])();\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"removeCancelButton\"])();\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"displayMLCoverageSelectionButtons\"])();\r\n  } else {\r\n    Object(_machineLearning__WEBPACK_IMPORTED_MODULE_0__[\"startMachineLearning\"])(nextViewCallback, setMachineLearningData, 'all');\r\n  }\r\n}\r\n\r\nfunction machineLearningCoverageMiddleware(nextViewCallback, setMachineLearningData, coverage) {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"removeMLCoverageSelectionButtons\"])();\r\n  Object(_machineLearning__WEBPACK_IMPORTED_MODULE_0__[\"startMachineLearning\"])(nextViewCallback, setMachineLearningData, coverage);\r\n}\r\n\r\nfunction registerButtonEventHandlers(nextViewCallback, setMachineLearningData, closeModal) {\r\n  window.startMachineLearning = startMachineLearningMiddleware.bind(this,\r\n    nextViewCallback, setMachineLearningData, false);\r\n  window.changeInitiateMLToNextView = moveToNextView.bind(this, nextViewCallback);\r\n  window.cancelMLModal = cancelMLModal.bind(this, closeModal);\r\n  window.retryMachineLearning = startMachineLearningMiddleware.bind(this,\r\n    nextViewCallback, setMachineLearningData, true);\r\n  window.startMachineLearningWithCoverage = machineLearningCoverageMiddleware.bind(this,\r\n    nextViewCallback, setMachineLearningData);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/initiateMachineLearning/buttonEvents.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/initiateMachineLearning/machineLearning.js":
/*!********************************************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/initiateMachineLearning/machineLearning.js ***!
  \********************************************************************************************/
/*! exports provided: startMachineLearning, cancelMachineLearning, getProgressStatus, isFractionOfImagesAnalysedByML */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"startMachineLearning\", function() { return startMachineLearning; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cancelMachineLearning\", function() { return cancelMachineLearning; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProgressStatus\", function() { return getProgressStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isFractionOfImagesAnalysedByML\", function() { return isFractionOfImagesAnalysedByML; });\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates */ \"./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style */ \"./src/js/tools/machineLearningModal/views/initiateMachineLearning/style.js\");\n\r\n\r\n\r\n\r\n\r\nlet tfModel = null;\r\nlet isInProgress = false;\r\nlet isCancelled = false;\r\nlet modelLoadingInitiated = false;\r\nlet imagesToBeAnalysedByML = [];\r\nconst tensorflowJSScript = { element: document.createElement('script'), status: { download: 'waiting' } };\r\nconst cocoSSDScript = { element: document.createElement('script'), status: { download: 'waiting' } };\r\n\r\nfunction errorHandler() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"removeLoadingContent\"])();\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"displayErrorMessage\"])('ERROR! Something went wrong, please try again later.');\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"displayRetryButton\"])();\r\n  isInProgress = false;\r\n}\r\n\r\nfunction predict(image) {\r\n  return tfModel.detect(image.data);\r\n}\r\n\r\nfunction isObjectEmpty(object) {\r\n  return Object.keys(object).length === 0 && object.constructor === Object;\r\n}\r\n\r\nfunction displayPredictionResults(results, predictionIdToImageId,\r\n  nextViewCallback, setMachineLearningDataFunc, coverage) {\r\n  // opportunity for remembering the last changed label names by moving\r\n  // this object outside of the function\r\n  const predictedImageCoordinates = {};\r\n  for (let i = 0; i < results.length; i += 1) {\r\n    predictedImageCoordinates[predictionIdToImageId[i]] = results[i];\r\n  }\r\n  setMachineLearningDataFunc(predictedImageCoordinates);\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"removeLoadingContent\"])();\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"removeCancelButton\"])();\r\n  if (isObjectEmpty(predictedImageCoordinates)) {\r\n    nextViewCallback();\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"displayNextButton\"])();\r\n    if (coverage === 'all'\r\n    || (coverage === 'new' && Object.prototype.hasOwnProperty.call(predictedImageCoordinates, Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getCurrentImageId\"])()))) {\r\n      Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_1__[\"drawTempShapesToShowCaseMLResults\"])(predictedImageCoordinates);\r\n    }\r\n    Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_1__[\"updateImageThumbnails\"])(predictedImageCoordinates);\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"changeToMLCompleteStyle\"])();\r\n  }\r\n  isInProgress = false;\r\n}\r\n\r\nfunction executeModel(images, results, predictionIdToImageId,\r\n  nextViewCallback, setMachineLearningDataFunc, coverage) {\r\n  if (isCancelled) return;\r\n  if (images.length > 0) {\r\n    predict(images.splice(0, 1)[0]).then((result) => {\r\n      results.push(result);\r\n      executeModel(images, results, predictionIdToImageId,\r\n        nextViewCallback, setMachineLearningDataFunc, coverage);\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      errorHandler();\r\n    });\r\n  } else {\r\n    displayPredictionResults(results, predictionIdToImageId,\r\n      nextViewCallback, setMachineLearningDataFunc, coverage);\r\n  }\r\n}\r\n\r\n// decided not to store generated shapes because if you have 100 images with\r\n// 100s of shapes, it would lead to significant memory usage\r\nfunction makePredictionsForAllImages(nextViewCallback, setMachineLearningData, coverage) {\r\n  const allImageData = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_0__[\"getAllImageData\"])();\r\n  const predictionIdToImageId = [];\r\n  imagesToBeAnalysedByML = [];\r\n  // optimisation for not generating shapes on untouched images taken out\r\n  // as when displaying the generated label names, only the new name label\r\n  // names were shown, but when looked at image, all of them were there\r\n  // this did not look right in terms of UX\r\n  // Optimisation description:\r\n  // only predicting images with no highlighted shapes and current image\r\n  // as it can have partial highlighting, so predicting all again\r\n  // 12/01/2020\r\n  for (let i = 0; i < allImageData.length; i += 1) {\r\n    const image = allImageData[i];\r\n    if (coverage === 'all' || (coverage === 'new' && !image.analysedByML)) {\r\n      image.analysedByML = true;\r\n      imagesToBeAnalysedByML.push(image);\r\n      predictionIdToImageId.push(i);\r\n    }\r\n  }\r\n  const images = [...imagesToBeAnalysedByML];\r\n  executeModel(images, [], predictionIdToImageId,\r\n    nextViewCallback, setMachineLearningData, coverage);\r\n}\r\n\r\nfunction markScriptDownloadSuccessfull(status) {\r\n  status.download = 'complete';\r\n}\r\n\r\nfunction loadModel(status) {\r\n  markScriptDownloadSuccessfull(status);\r\n  return new Promise((resolve, reject) => {\r\n    if (isCancelled) return;\r\n    const { cocoSsd } = window;\r\n    if (!modelLoadingInitiated) {\r\n      modelLoadingInitiated = true;\r\n      cocoSsd.load().then((model) => {\r\n        tfModel = model;\r\n        if (isCancelled) return;\r\n        resolve();\r\n      }).catch(() => {\r\n        modelLoadingInitiated = false;\r\n        reject();\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction downloadScript(script, url, resolve, reject) {\r\n  if (isCancelled) return;\r\n  if (script.status.download === 'complete') {\r\n    resolve(script.status);\r\n    return;\r\n  }\r\n  if (script.status.download === 'in_progress') {\r\n    document.head.removeChild(script.element);\r\n    script.element = document.createElement('script');\r\n  }\r\n  script.element.onload = resolve.bind(this, script.status);\r\n  script.element.onerror = reject;\r\n  script.status.download = 'in_progress';\r\n  script.element.src = url;\r\n  document.head.appendChild(script.element);\r\n}\r\n\r\nfunction downloadCOCOSSD(status) {\r\n  markScriptDownloadSuccessfull(status);\r\n  return new Promise((resolve, reject) => {\r\n    downloadScript(cocoSSDScript, 'https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd',\r\n      resolve, reject);\r\n  });\r\n}\r\n\r\nfunction downloadTensorflowJS() {\r\n  return new Promise((resolve, reject) => {\r\n    downloadScript(tensorflowJSScript, 'https://cdn.jsdelivr.net/npm/@tensorflow/tfjs',\r\n      resolve, reject);\r\n  });\r\n}\r\n\r\nfunction startMachineLearning(nextViewCallback, setMachineLearningData, coverage) {\r\n  if (isCancelled) { isCancelled = false; }\r\n  const allImageData = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_0__[\"getAllImageData\"])();\r\n  if (allImageData.length > 0) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"changeToLoadingStyle\"])();\r\n    isInProgress = true;\r\n    if (!tfModel) {\r\n      downloadTensorflowJS()\r\n        .then(resultScriptStatus => downloadCOCOSSD(resultScriptStatus))\r\n        .then(resultScriptStatus => loadModel(resultScriptStatus))\r\n        .then(() => makePredictionsForAllImages(nextViewCallback, setMachineLearningData, coverage))\r\n        .catch(() => errorHandler());\r\n    } else {\r\n      makePredictionsForAllImages(nextViewCallback, setMachineLearningData, coverage);\r\n    }\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_3__[\"changeToNoImagesFoundStyle\"])();\r\n  }\r\n}\r\n\r\nfunction isFractionOfImagesAnalysedByML() {\r\n  const images = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_0__[\"getAllImageData\"])();\r\n  let imagesAnalysedByML = false;\r\n  let imagesNotYetAnalysedByML = false;\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    if (images[i].analysedByML) {\r\n      imagesAnalysedByML = true;\r\n    } else {\r\n      imagesNotYetAnalysedByML = true;\r\n    }\r\n    if (imagesAnalysedByML && imagesNotYetAnalysedByML) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cancelMachineLearning() {\r\n  isCancelled = true;\r\n  isInProgress = false;\r\n  imagesToBeAnalysedByML.forEach((image) => { image.analysedByML = false; });\r\n}\r\n\r\nfunction getProgressStatus() {\r\n  return isInProgress;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/initiateMachineLearning/machineLearning.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/initiateMachineLearning/style.js":
/*!**********************************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/initiateMachineLearning/style.js ***!
  \**********************************************************************************/
/*! exports provided: hideInitiateMachineLearningViewAssets, displayNextButton, removeNoImagesFoundOnMLModalStyle, removeErrorMessage, changeToLoadingStyle, removeCancelButton, removeRetryButton, displayLoaderWheel, removeLoadingContent, displayRetryButton, removeStartButton, disableStartButton, changeToNoImagesFoundStyle, prepareInstantiateMachineLearningView, displayUploadImagesButton, assignInitiateMachineLearningViewLocalVariables, enableStartButton, displayMLCoverageSelectionButtons, removeMLCoverageSelectionButtons, displayErrorMessage, changeToMLCompleteStyle, highlightCancelButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideInitiateMachineLearningViewAssets\", function() { return hideInitiateMachineLearningViewAssets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayNextButton\", function() { return displayNextButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeNoImagesFoundOnMLModalStyle\", function() { return removeNoImagesFoundOnMLModalStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeErrorMessage\", function() { return removeErrorMessage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeToLoadingStyle\", function() { return changeToLoadingStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeCancelButton\", function() { return removeCancelButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeRetryButton\", function() { return removeRetryButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayLoaderWheel\", function() { return displayLoaderWheel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeLoadingContent\", function() { return removeLoadingContent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayRetryButton\", function() { return displayRetryButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeStartButton\", function() { return removeStartButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disableStartButton\", function() { return disableStartButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeToNoImagesFoundStyle\", function() { return changeToNoImagesFoundStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareInstantiateMachineLearningView\", function() { return prepareInstantiateMachineLearningView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayUploadImagesButton\", function() { return displayUploadImagesButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignInitiateMachineLearningViewLocalVariables\", function() { return assignInitiateMachineLearningViewLocalVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enableStartButton\", function() { return enableStartButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayMLCoverageSelectionButtons\", function() { return displayMLCoverageSelectionButtons; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeMLCoverageSelectionButtons\", function() { return removeMLCoverageSelectionButtons; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayErrorMessage\", function() { return displayErrorMessage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeToMLCompleteStyle\", function() { return changeToMLCompleteStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"highlightCancelButton\", function() { return highlightCancelButton; });\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\n\r\nlet isNoImagesFoundInfoDisplayed = false;\r\n\r\nlet checkmarkElement = null;\r\nlet nextButtonElement = null;\r\nlet modalParentElement = null;\r\nlet descriptionElement = null;\r\nlet loadingTextElement = null;\r\nlet loadingWheelElement = null;\r\nlet buttonsGroupElement = null;\r\nlet submitButtonElement = null;\r\nlet cancelButtonElement = null;\r\nlet infoMessagesElement = null;\r\nlet errorMessagesElement = null;\r\nlet checkmarkParentElement = null;\r\nlet allImagesButtonElement = null;\r\nlet newImagesButtonElement = null;\r\nlet progressMessagesElement = null;\r\nlet toolkitUploadImagesButton = null;\r\n\r\nfunction removeProgressMessage() {\r\n  progressMessagesElement.style.display = 'none';\r\n  progressMessagesElement.style.color = '';\r\n  progressMessagesElement.innerHTML = '';\r\n}\r\n\r\nfunction changeProgressMessageColor(colorHex) {\r\n  progressMessagesElement.style.color = colorHex;\r\n}\r\n\r\nfunction displayCheckMarkWthAnimation() {\r\n  checkmarkParentElement.style.display = '';\r\n  checkmarkElement.classList.toggle('checkmark');\r\n}\r\n\r\n// bug fix where the yet not displayed checkmark would get toggled via esc\r\n// and cause it to not display when needed\r\nfunction removeCheckMark() {\r\n  if (checkmarkParentElement.style.display === '') {\r\n    checkmarkParentElement.style.display = 'none';\r\n    checkmarkElement.classList.toggle('checkmark');\r\n  }\r\n}\r\n\r\nfunction displayErrorMessage(errorMessage) {\r\n  removeProgressMessage();\r\n  errorMessagesElement.style.display = '';\r\n  errorMessagesElement.innerHTML = errorMessage;\r\n  buttonsGroupElement.style.marginTop = `${4 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction removeErrorMessage() {\r\n  errorMessagesElement.style.display = 'none';\r\n  errorMessagesElement.innerHTML = '';\r\n  buttonsGroupElement.style.marginTop = '';\r\n}\r\n\r\nfunction displayRetryButton() {\r\n  document.getElementById('machine-learning-modal-initiate-retry-button').style.display = '';\r\n  descriptionElement.style.marginBottom = `${6 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction removeRetryButton() {\r\n  document.getElementById('machine-learning-modal-initiate-retry-button').style.display = 'none';\r\n  descriptionElement.style.marginBottom = '';\r\n}\r\n\r\nfunction updateProgressMessage(progressMessage) {\r\n  removeErrorMessage();\r\n  progressMessagesElement.innerHTML = progressMessage;\r\n  progressMessagesElement.style.display = '';\r\n}\r\n\r\nfunction displayInfoMessage(message) {\r\n  infoMessagesElement.innerHTML = message;\r\n  buttonsGroupElement.style.marginTop = `${4 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction removeInfoMessage() {\r\n  infoMessagesElement.innerHTML = '';\r\n  buttonsGroupElement.style.marginTop = '';\r\n}\r\n\r\nfunction displayDescription() {\r\n  descriptionElement.style.display = '';\r\n}\r\n\r\nfunction displayAllButtons() {\r\n  buttonsGroupElement.style.marginTop = `${-4 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n  buttonsGroupElement.style.display = '';\r\n}\r\n\r\nfunction removeAllButtons() {\r\n  buttonsGroupElement.style.marginTop = '';\r\n  buttonsGroupElement.style.display = 'none';\r\n}\r\n\r\nfunction removeDescription() {\r\n  descriptionElement.style.display = 'none';\r\n}\r\n\r\nfunction displayLoadingText() {\r\n  loadingTextElement.style.display = '';\r\n}\r\n\r\nfunction removeLoadingText() {\r\n  loadingTextElement.style.display = 'none';\r\n}\r\n\r\nfunction displayLoaderWheel() {\r\n  removeErrorMessage();\r\n  loadingWheelElement.style.display = '';\r\n  cancelButtonElement.style.marginRight = `${3 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n  descriptionElement.style.marginBottom = `${2 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction removeLoadingWheel() {\r\n  loadingWheelElement.style.display = 'none';\r\n  cancelButtonElement.style.marginRight = '';\r\n  descriptionElement.style.marginBottom = '';\r\n}\r\n\r\nfunction removeLoadingContent() {\r\n  removeLoadingWheel();\r\n  removeLoadingText();\r\n}\r\n\r\nfunction displayMLCoverageSelectionButtons() {\r\n  allImagesButtonElement.style.display = '';\r\n  newImagesButtonElement.style.display = '';\r\n}\r\n\r\nfunction removeMLCoverageSelectionButtons() {\r\n  allImagesButtonElement.style.display = 'none';\r\n  newImagesButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction displayNextButton() {\r\n  nextButtonElement.style.display = '';\r\n  descriptionElement.style.marginBottom = `${7 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction removeNextButton() {\r\n  nextButtonElement.style.display = 'none';\r\n  descriptionElement.style.marginBottom = `${7 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction displayCancelButton() {\r\n  cancelButtonElement.style.marginRight = '';\r\n  cancelButtonElement.style.display = '';\r\n}\r\n\r\nfunction removeCancelButton() {\r\n  cancelButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction displayStartButton() {\r\n  submitButtonElement.style.display = '';\r\n}\r\n\r\nfunction removeStartButton() {\r\n  submitButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction replaceCancelButtonGreyClassToOriginal() {\r\n  cancelButtonElement.classList.replace('popup-dimmed-cancel-button', 'popup-cancel-button');\r\n  cancelButtonElement.removeEventListener('mouseover', replaceCancelButtonGreyClassToOriginal);\r\n}\r\n\r\nfunction disableImmediateCancelButtonHoverEffect() {\r\n  cancelButtonElement.classList.replace('popup-cancel-button', 'popup-dimmed-cancel-button');\r\n  setTimeout(() => {\r\n    cancelButtonElement.addEventListener('mouseover', replaceCancelButtonGreyClassToOriginal);\r\n  }, 100);\r\n}\r\n\r\nfunction disableStartButton() {\r\n  setTimeout(() => {\r\n    submitButtonElement.classList.replace('popup-label-button', 'popup-label-button-disabled');\r\n  });\r\n}\r\n\r\nfunction enableStartButton() {\r\n  submitButtonElement.classList.replace('popup-label-button-disabled', 'popup-label-button');\r\n}\r\n\r\nfunction highlightCancelButton() {\r\n  cancelButtonElement.style.backgroundColor = '#e2acac';\r\n}\r\n\r\n// will potentially need to refactor this for different screen size\r\nfunction displayUploadImagesButton() {\r\n  toolkitUploadImagesButton.style.zIndex = 3;\r\n  toolkitUploadImagesButton.style.border = '2px solid rgb(73, 178, 218)';\r\n  toolkitUploadImagesButton.style.marginTop = '0px';\r\n  toolkitUploadImagesButton.style.height = '23px';\r\n  toolkitUploadImagesButton.style.marginRight = '-2px';\r\n  toolkitUploadImagesButton.childNodes[1].style.paddingTop = '3px';\r\n}\r\n\r\nfunction hideUploadImagesButton() {\r\n  toolkitUploadImagesButton.style.zIndex = 1;\r\n  toolkitUploadImagesButton.style.border = '';\r\n  toolkitUploadImagesButton.style.marginTop = '';\r\n  toolkitUploadImagesButton.style.height = '';\r\n  toolkitUploadImagesButton.style.marginRight = '';\r\n  toolkitUploadImagesButton.childNodes[1].style.paddingTop = '';\r\n}\r\n\r\nfunction setModalHeight(height) {\r\n  modalParentElement.style.height = height;\r\n}\r\n\r\nfunction setDefaultModalHeight() {\r\n  modalParentElement.style.height = '';\r\n}\r\n\r\nfunction setDescriptionElementMarginBottom(height) {\r\n  descriptionElement.style.marginBottom = height;\r\n}\r\n\r\nfunction setDefaultDescriptionElementMarginBottom() {\r\n  descriptionElement.style.marginBottom = '';\r\n}\r\n\r\nfunction changeToLoadingStyle() {\r\n  displayLoadingText();\r\n  displayCancelButton();\r\n  removeDescription();\r\n  disableImmediateCancelButtonHoverEffect();\r\n  displayLoaderWheel();\r\n  removeStartButton();\r\n}\r\n\r\nfunction changeToMLCompleteStyle() {\r\n  displayCheckMarkWthAnimation();\r\n  changeProgressMessageColor('#1e6d1e');\r\n  updateProgressMessage('Finished!');\r\n}\r\n\r\nfunction changeToNoImagesFoundStyle() {\r\n  displayUploadImagesButton();\r\n  disableStartButton();\r\n  displayInfoMessage('Please upload an image to get started.');\r\n  setDescriptionElementMarginBottom(`${3 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`);\r\n  const newModalHeight = _utils_browserType__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ? `${277 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px` : `${273 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n  setModalHeight(newModalHeight);\r\n  isNoImagesFoundInfoDisplayed = true;\r\n}\r\n\r\nfunction removeNoImagesFoundOnMLModalStyle() {\r\n  if (isNoImagesFoundInfoDisplayed) {\r\n    hideUploadImagesButton();\r\n    removeInfoMessage();\r\n    enableStartButton();\r\n    setDefaultModalHeight();\r\n    setDefaultDescriptionElementMarginBottom();\r\n    isNoImagesFoundInfoDisplayed = false;\r\n  }\r\n}\r\n\r\nfunction hideInitiateMachineLearningViewAssets() {\r\n  removeErrorMessage();\r\n  removeRetryButton();\r\n  removeNextButton();\r\n  removeProgressMessage();\r\n  removeCheckMark();\r\n  removeAllButtons();\r\n  descriptionElement.style.marginBottom = '';\r\n}\r\n\r\nfunction getDefaultDescriptionMarkup() {\r\n  return `\r\n    You can use a pre-trained Machine Learning model to automatically annotate objects with bounding boxes!\r\n    <div class=\"upload-datasets-modal-description-break\"></div>\r\n    Click 'Start' to download the 'COCO-SSD' model and use it to generate bounding boxes for your images.\r\n    <div class=\"upload-datasets-modal-description-break\"></div>\r\n    In addition, because this model operates locally on the browser, your data will never leave the privacy of your computer.`;\r\n}\r\n\r\nfunction prepareInstantiateMachineLearningView() {\r\n  setDefaultDescriptionElementMarginBottom();\r\n  descriptionElement.innerHTML = getDefaultDescriptionMarkup();\r\n  displayDescription();\r\n  displayStartButton();\r\n  displayCancelButton();\r\n  displayAllButtons();\r\n  removeLoadingContent();\r\n}\r\n\r\nfunction assignInitiateMachineLearningViewLocalVariables() {\r\n  toolkitUploadImagesButton = document.getElementById('upload-images-button');\r\n  modalParentElement = document.getElementById('machine-learning-modal-parent');\r\n  checkmarkElement = document.getElementById('machine-learning-modal-check-mark');\r\n  loadingWheelElement = document.getElementById('machine-learning-modal-loading-wheel');\r\n  loadingTextElement = document.getElementById('machine-learning-modal-loading-text');\r\n  descriptionElement = document.getElementById('machine-learning-modal-description');\r\n  submitButtonElement = document.getElementById('machine-learning-modal-initiate-start-button');\r\n  nextButtonElement = document.getElementById('machine-learning-modal-initiate-next-button');\r\n  cancelButtonElement = document.getElementById('machine-learning-modal-initiate-cancel-button');\r\n  buttonsGroupElement = document.getElementById('machine-learning-modal-initiate-machine-learning-buttons');\r\n  errorMessagesElement = document.getElementById('machine-learning-modal-error-messages');\r\n  infoMessagesElement = document.getElementById('machine-learning-modal-info-messages');\r\n  checkmarkParentElement = document.getElementById('machine-learning-modal-check-mark-parent');\r\n  progressMessagesElement = document.getElementById('machine-learning-modal-progress-messages');\r\n  allImagesButtonElement = document.getElementById('machine-learning-modal-initiate-all-images-button');\r\n  newImagesButtonElement = document.getElementById('machine-learning-modal-initiate-new-images-button');\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/initiateMachineLearning/style.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/noObjectsFound/buttonEvents.js":
/*!********************************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/noObjectsFound/buttonEvents.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerButtonEventHandlers; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/machineLearningModal/views/noObjectsFound/style.js\");\n/* harmony import */ var _canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates */ \"./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js\");\n\r\n\r\n\r\nfunction closeModal(closeModalCallback) {\r\n  Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_1__[\"resetCursor\"])();\r\n  closeModalCallback(true);\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideNoObjectsFoundViewAssets\"])();\r\n}\r\n\r\nfunction registerButtonEventHandlers(closeModalCallback) {\r\n  window.closeMachineLearningModal = closeModal.bind(this, closeModalCallback);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/noObjectsFound/buttonEvents.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/noObjectsFound/style.js":
/*!*************************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/noObjectsFound/style.js ***!
  \*************************************************************************/
/*! exports provided: assignNoObjectsFoundViewLocalVariables, displayNoObjectsFoundView, hideNoObjectsFoundViewAssets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignNoObjectsFoundViewLocalVariables\", function() { return assignNoObjectsFoundViewLocalVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayNoObjectsFoundView\", function() { return displayNoObjectsFoundView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideNoObjectsFoundViewAssets\", function() { return hideNoObjectsFoundViewAssets; });\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\nlet descriptionElement = null;\r\nlet buttonGroupElement = null;\r\n\r\nfunction changeModalDescription() {\r\n  descriptionElement.innerHTML = 'The model has not identified any objects within the uploaded images.';\r\n}\r\n\r\nfunction displayDescription() {\r\n  descriptionElement.style.display = '';\r\n}\r\n\r\nfunction setDescriptionElementMargins(top, bottom) {\r\n  descriptionElement.style.marginTop = top;\r\n  descriptionElement.style.marginBottom = bottom;\r\n}\r\n\r\nfunction setDefaultDescriptionElementMargins() {\r\n  descriptionElement.style.marginTop = '';\r\n  descriptionElement.style.marginBottom = '';\r\n}\r\n\r\nfunction displayButtonGroupElement() {\r\n  buttonGroupElement.style.display = '';\r\n}\r\n\r\nfunction displayNoObjectsFoundView() {\r\n  setDescriptionElementMargins(`${19 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__[\"getScreenSizeDelta\"])()}px`, `${15 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__[\"getScreenSizeDelta\"])()}px`);\r\n  changeModalDescription();\r\n  displayDescription();\r\n  displayButtonGroupElement();\r\n}\r\n\r\nfunction hideNoObjectsFoundViewAssets() {\r\n  setDefaultDescriptionElementMargins();\r\n  buttonGroupElement.style.display = 'none';\r\n}\r\n\r\n\r\nfunction assignNoObjectsFoundViewLocalVariables() {\r\n  descriptionElement = document.getElementById('machine-learning-modal-description');\r\n  buttonGroupElement = document.getElementById('machine-learning-modal-no-objects-buttons');\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/noObjectsFound/style.js?");

/***/ }),

/***/ "./src/js/tools/machineLearningModal/views/viewManager.js":
/*!****************************************************************!*\
  !*** ./src/js/tools/machineLearningModal/views/viewManager.js ***!
  \****************************************************************/
/*! exports provided: displayModal, initialiseMachineLearningModal, closeModalViaKeyboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayModal\", function() { return displayModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseMachineLearningModal\", function() { return initialiseMachineLearningModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeModalViaKeyboard\", function() { return closeModalViaKeyboard; });\n/* harmony import */ var _initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initiateMachineLearning/style */ \"./src/js/tools/machineLearningModal/views/initiateMachineLearning/style.js\");\n/* harmony import */ var _generatedLabels_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generatedLabels/style */ \"./src/js/tools/machineLearningModal/views/generatedLabels/style.js\");\n/* harmony import */ var _generatedLabels_changeLabels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./generatedLabels/changeLabels */ \"./src/js/tools/machineLearningModal/views/generatedLabels/changeLabels.js\");\n/* harmony import */ var _noObjectsFound_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./noObjectsFound/style */ \"./src/js/tools/machineLearningModal/views/noObjectsFound/style.js\");\n/* harmony import */ var _initiateMachineLearning_buttonEvents__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./initiateMachineLearning/buttonEvents */ \"./src/js/tools/machineLearningModal/views/initiateMachineLearning/buttonEvents.js\");\n/* harmony import */ var _initiateMachineLearning_machineLearning__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./initiateMachineLearning/machineLearning */ \"./src/js/tools/machineLearningModal/views/initiateMachineLearning/machineLearning.js\");\n/* harmony import */ var _generatedLabels_buttonEvents__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./generatedLabels/buttonEvents */ \"./src/js/tools/machineLearningModal/views/generatedLabels/buttonEvents.js\");\n/* harmony import */ var _noObjectsFound_buttonEvents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./noObjectsFound/buttonEvents */ \"./src/js/tools/machineLearningModal/views/noObjectsFound/buttonEvents.js\");\n/* harmony import */ var _dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../dimWindow/dimWindowService */ \"./src/js/tools/dimWindow/dimWindowService.js\");\n/* harmony import */ var _dimWindow_consts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../dimWindow/consts */ \"./src/js/tools/dimWindow/consts.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates */ \"./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet currentViewNumber = 1;\r\nlet machineLearningData = {};\r\nlet modalElement = null;\r\nlet closeModalFunc = null;\r\n\r\nfunction setMachineLearningData(machineLearningDataArg) {\r\n  machineLearningData = machineLearningDataArg;\r\n}\r\n\r\nfunction isMachineLearningObjectEmpty() {\r\n  if (Object.keys(machineLearningData).length === 0 && machineLearningData.constructor === Object) {\r\n    return true;\r\n  }\r\n  let isEmpty = true;\r\n  Object.keys(machineLearningData).forEach((key) => {\r\n    if (machineLearningData[key].length > 0) {\r\n      isEmpty = false;\r\n    }\r\n  });\r\n  return isEmpty;\r\n}\r\n\r\nfunction displayNextView() {\r\n  switch (currentViewNumber) {\r\n    case 1:\r\n      Object(_initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_0__[\"prepareInstantiateMachineLearningView\"])();\r\n      closeModalFunc = () => {\r\n        if (Object(_initiateMachineLearning_machineLearning__WEBPACK_IMPORTED_MODULE_5__[\"getProgressStatus\"])()) {\r\n          Object(_initiateMachineLearning_machineLearning__WEBPACK_IMPORTED_MODULE_5__[\"cancelMachineLearning\"])();\r\n          return false;\r\n        }\r\n        Object(_initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_0__[\"hideInitiateMachineLearningViewAssets\"])();\r\n        Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_11__[\"resetCursor\"])();\r\n        Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_11__[\"removeTempShapes\"])();\r\n        Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_11__[\"removeImageThumbnails\"])();\r\n        return true;\r\n      };\r\n      currentViewNumber += 1;\r\n      break;\r\n    case 2:\r\n      if (isMachineLearningObjectEmpty()) {\r\n        Object(_noObjectsFound_style__WEBPACK_IMPORTED_MODULE_3__[\"displayNoObjectsFoundView\"])();\r\n        closeModalFunc = () => {\r\n          Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_11__[\"resetCursor\"])();\r\n          Object(_noObjectsFound_style__WEBPACK_IMPORTED_MODULE_3__[\"hideNoObjectsFoundViewAssets\"])();\r\n          return true;\r\n        };\r\n      } else {\r\n        Object(_generatedLabels_changeLabels__WEBPACK_IMPORTED_MODULE_2__[\"displayGeneratedLabelsView\"])(machineLearningData);\r\n        closeModalFunc = () => {\r\n          Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_11__[\"resetCursor\"])();\r\n          Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_11__[\"removeTempShapes\"])();\r\n          Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_11__[\"removeImageThumbnails\"])();\r\n          Object(_generatedLabels_style__WEBPACK_IMPORTED_MODULE_1__[\"hideGeneratedLabelsViewAssets\"])();\r\n          return true;\r\n        };\r\n      }\r\n      currentViewNumber += 1;\r\n      break;\r\n    case 3:\r\n      currentViewNumber += 1;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction displayModal() {\r\n  setTimeout(() => {\r\n    modalElement.style.display = '';\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setMachineLearningModalDisplayedState\"])(true);\r\n  }, 60);\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_8__[\"dimWindow\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_9__[\"SLOW_DIM_SECONDS\"], _dimWindow_consts__WEBPACK_IMPORTED_MODULE_9__[\"THICK_DIM\"]);\r\n}\r\n\r\n// need to use window functions because when the escape button is clicked after\r\n// the temp shapes have been drawn, the existing shapes are still selecatble\r\nfunction resetContinuousShapeButtons() {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"getContinuousDrawingState\"])()) {\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"getLastDrawingModeState\"])() === 'polygon') {\r\n      window.createNewPolygon();\r\n    } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"getLastDrawingModeState\"])() === 'boundingBox') {\r\n      window.createNewBndBox();\r\n    }\r\n  }\r\n}\r\n\r\nfunction setButtons(isCancel) {\r\n  if (isCancel) {\r\n    resetContinuousShapeButtons();\r\n  } else {\r\n    window.editShapes();\r\n  }\r\n}\r\n\r\nfunction closeModal(isCancel) {\r\n  setButtons(isCancel);\r\n  modalElement.style.display = 'none';\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_8__[\"lightUpWindow\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_9__[\"SLOW_LIGHTUP_MILLISECONDS\"]);\r\n  currentViewNumber = 1;\r\n  displayNextView();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setMachineLearningModalDisplayedState\"])(false);\r\n}\r\n\r\nfunction closeModalViaKeyboard() {\r\n  const shouldCloseModal = closeModalFunc();\r\n  if (shouldCloseModal) {\r\n    closeModal(true);\r\n  } else {\r\n    currentViewNumber = 1;\r\n    displayNextView();\r\n  }\r\n}\r\n\r\nfunction assignViewManagerLocalVariables() {\r\n  modalElement = document.getElementById('machine-learning-modal-parent');\r\n}\r\n\r\nfunction initialiseMachineLearningModal() {\r\n  assignViewManagerLocalVariables();\r\n  Object(_initiateMachineLearning_buttonEvents__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(displayNextView,\r\n    setMachineLearningData, closeModal);\r\n  Object(_initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_0__[\"assignInitiateMachineLearningViewLocalVariables\"])();\r\n  Object(_generatedLabels_buttonEvents__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(closeModal);\r\n  Object(_generatedLabels_style__WEBPACK_IMPORTED_MODULE_1__[\"assignGeneratedLabelsViewLocalVariables\"])();\r\n  Object(_noObjectsFound_buttonEvents__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(closeModal);\r\n  Object(_noObjectsFound_style__WEBPACK_IMPORTED_MODULE_3__[\"assignNoObjectsFoundViewLocalVariables\"])();\r\n  displayNextView();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/machineLearningModal/views/viewManager.js?");

/***/ }),

/***/ "./src/js/tools/passiveEventListeners/passiveEventListeners.js":
/*!*********************************************************************!*\
  !*** ./src/js/tools/passiveEventListeners/passiveEventListeners.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignPassiveEventListeners; });\n/* harmony import */ var _toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../toolkit/buttonClickEvents/facadeWorkers/zoomWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js\");\n\r\n\r\nfunction assignWheelEvents() {\r\n  const canvasWrapperParentElement = document.getElementById('canvas-wrapper-parent');\r\n  canvasWrapperParentElement.addEventListener('wheel', _toolkit_buttonClickEvents_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_0__[\"initiateZoomOverflowScroll\"], { passive: true });\r\n}\r\n\r\nfunction assignPassiveEventListeners() {\r\n  assignWheelEvents();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/passiveEventListeners/passiveEventListeners.js?");

/***/ }),

/***/ "./src/js/tools/settingsPopup/buttonClickEvents.js":
/*!*********************************************************!*\
  !*** ./src/js/tools/settingsPopup/buttonClickEvents.js ***!
  \*********************************************************/
/*! exports provided: assignSettingsPopupButtonEventHandlers, assignCanvasForSettingsPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignSettingsPopupButtonEventHandlers\", function() { return assignSettingsPopupButtonEventHandlers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasForSettingsPopup\", function() { return assignCanvasForSettingsPopup; });\n/* harmony import */ var _options_movableObjects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./options/movableObjects */ \"./src/js/tools/settingsPopup/options/movableObjects.js\");\n/* harmony import */ var _options_continuousDrawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./options/continuousDrawing */ \"./src/js/tools/settingsPopup/options/continuousDrawing.js\");\n/* harmony import */ var _options_labelsVisibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./options/labelsVisibility */ \"./src/js/tools/settingsPopup/options/labelsVisibility.js\");\n\r\n\r\n\r\n\r\nlet canvas = null;\r\n\r\nfunction assignCanvasForSettingsPopup(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\nfunction assignSettingsPopupButtonEventHandlers() {\r\n  window.toggleMovableObjects = _options_movableObjects__WEBPACK_IMPORTED_MODULE_0__[\"changeMovaleObjectsSetting\"];\r\n  window.toggleContinuousDrawing = _options_continuousDrawing__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind({ canvas });\r\n  window.toggleLabelsVisibility = _options_labelsVisibility__WEBPACK_IMPORTED_MODULE_2__[\"default\"].bind({ canvas });\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/settingsPopup/buttonClickEvents.js?");

/***/ }),

/***/ "./src/js/tools/settingsPopup/init.js":
/*!********************************************!*\
  !*** ./src/js/tools/settingsPopup/init.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseSettingsPopup; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/settingsPopup/style.js\");\n/* harmony import */ var _buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buttonClickEvents */ \"./src/js/tools/settingsPopup/buttonClickEvents.js\");\n\r\n\r\n\r\nfunction initialiseSettingsPopup() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"initialiseSettingsPopupStyling\"])();\r\n  Object(_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__[\"assignSettingsPopupButtonEventHandlers\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/settingsPopup/init.js?");

/***/ }),

/***/ "./src/js/tools/settingsPopup/options/continuousDrawing.js":
/*!*****************************************************************!*\
  !*** ./src/js/tools/settingsPopup/options/continuousDrawing.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return changeContinuousDrawingSetting; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _labellerModal_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../labellerModal/style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dimWindow/consts */ \"./src/js/tools/dimWindow/consts.js\");\n\r\n\r\n\r\n\r\nfunction changeContinuousDrawingSetting() {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getContinuousDrawingState\"])()) {\r\n    Object(_labellerModal_style__WEBPACK_IMPORTED_MODULE_1__[\"setLabellerPopupDimProperties\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"SLOW_LIGHTUP_MILLISECONDS\"], _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"SLOW_DIM_SECONDS\"], _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"THICK_DIM\"]);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setContinuousDrawingState\"])(false);\r\n  } else {\r\n    Object(_labellerModal_style__WEBPACK_IMPORTED_MODULE_1__[\"setLabellerPopupDimProperties\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"QUICK_LIGHTUP_MILLISECONDS\"], _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"QUICK_DIM_SECONDS\"], _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"THIN_DIM\"]);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setContinuousDrawingState\"])(true);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/settingsPopup/options/continuousDrawing.js?");

/***/ }),

/***/ "./src/js/tools/settingsPopup/options/labelsVisibility.js":
/*!****************************************************************!*\
  !*** ./src/js/tools/settingsPopup/options/labelsVisibility.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return changeLabelsVisibilitySetting; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../canvas/objects/label/label */ \"./src/js/canvas/objects/label/label.js\");\n\r\n\r\n\r\nfunction changeLabelsVisibilitySetting() {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getLabelsVisibilityState\"])()) {\r\n    Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_1__[\"setAllLabelsVisibilityProperty\"])(false, this.canvas);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setLabelsVisibilityState\"])(false);\r\n  } else {\r\n    Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_1__[\"setAllLabelsVisibilityProperty\"])(true, this.canvas);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setLabelsVisibilityState\"])(true);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/settingsPopup/options/labelsVisibility.js?");

/***/ }),

/***/ "./src/js/tools/settingsPopup/options/movableObjects.js":
/*!**************************************************************!*\
  !*** ./src/js/tools/settingsPopup/options/movableObjects.js ***!
  \**************************************************************/
/*! exports provided: changeMovaleObjectsSetting, changeExistingImagesMovability */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeMovaleObjectsSetting\", function() { return changeMovaleObjectsSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeExistingImagesMovability\", function() { return changeExistingImagesMovability; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n\r\n\r\n\r\nfunction changeExistingImagesMovability(shapes) {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getMovableObjectsState\"])()) {\r\n    Object.keys(shapes).forEach((key) => {\r\n      const object = shapes[key].shapeRef;\r\n      if (object.shapeName === 'polygon' || object.shapeName === 'bndBox') {\r\n        object.lockMovementX = false;\r\n        object.lockMovementY = false;\r\n        object.hoverCursor = 'move';\r\n      }\r\n    });\r\n  } else {\r\n    Object.keys(shapes).forEach((key) => {\r\n      const object = shapes[key].shapeRef;\r\n      if (object.shapeName === 'polygon' || object.shapeName === 'bndBox') {\r\n        object.lockMovementX = true;\r\n        object.lockMovementY = true;\r\n        object.hoverCursor = 'default';\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction changeMovaleObjectsSetting() {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getMovableObjectsState\"])()) {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setMovableObjectsState\"])(false);\r\n  } else {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setMovableObjectsState\"])(true);\r\n  }\r\n  const currentCanvasShapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_1__[\"getAllExistingShapes\"])();\r\n  changeExistingImagesMovability(currentCanvasShapes);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/settingsPopup/options/movableObjects.js?");

/***/ }),

/***/ "./src/js/tools/settingsPopup/style.js":
/*!*********************************************!*\
  !*** ./src/js/tools/settingsPopup/style.js ***!
  \*********************************************/
/*! exports provided: initialiseSettingsPopupStyling, hideSettingsPopup, displaySettingsPopup, setStickySettingsPopupProperties */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseSettingsPopupStyling\", function() { return initialiseSettingsPopupStyling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideSettingsPopup\", function() { return hideSettingsPopup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displaySettingsPopup\", function() { return displaySettingsPopup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setStickySettingsPopupProperties\", function() { return setStickySettingsPopupProperties; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _utils_popups_stickyPopup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/popups/stickyPopup */ \"./src/js/tools/utils/popups/stickyPopup.js\");\n\r\n\r\n\r\nlet settingsPopupElement = null;\r\nlet settingsToolkitButtonElement = null;\r\nconst stickyProperties = { isPopupSticky: false, stickCoordinates: 0 };\r\n\r\nfunction setStickySettingsPopupProperties() {\r\n  Object(_utils_popups_stickyPopup__WEBPACK_IMPORTED_MODULE_1__[\"setStickyPopupProperties\"])(settingsPopupElement,\r\n    settingsToolkitButtonElement, stickyProperties);\r\n}\r\n\r\nfunction displayPopup() {\r\n  settingsPopupElement.style.display = 'block';\r\n}\r\n\r\nfunction hidePopup() {\r\n  settingsPopupElement.style.display = 'none';\r\n  settingsPopupElement.style.bottom = '';\r\n}\r\n\r\nfunction displaySettingsPopup() {\r\n  Object(_utils_popups_stickyPopup__WEBPACK_IMPORTED_MODULE_1__[\"setPopupPosition\"])(settingsPopupElement, settingsToolkitButtonElement);\r\n  displayPopup();\r\n  setStickySettingsPopupProperties();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setSettingsPopupOpenState\"])(true);\r\n}\r\n\r\nfunction hideSettingsPopup() {\r\n  hidePopup();\r\n  stickyProperties.isPopupSticky = false;\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setSettingsPopupOpenState\"])(false);\r\n}\r\n\r\nfunction setInitialCheckBoxInputValues() {\r\n  document.getElementById('settings-popup-movable-objects-checkbox').checked = true;\r\n  document.getElementById('settings-popup-continuous-drawing-checkbox').checked = true;\r\n  document.getElementById('settings-popup-labels-visibility-checkbox').checked = true;\r\n}\r\n\r\nfunction assignSettingsPopupElementLocalVariables() {\r\n  settingsPopupElement = document.getElementById('settings-popup');\r\n  settingsToolkitButtonElement = document.getElementById('settings-button');\r\n}\r\n\r\nfunction initialiseSettingsPopupStyling() {\r\n  assignSettingsPopupElementLocalVariables();\r\n  setInitialCheckBoxInputValues();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/settingsPopup/style.js?");

/***/ }),

/***/ "./src/js/tools/stateMachine.js":
/*!**************************************!*\
  !*** ./src/js/tools/stateMachine.js ***!
  \**************************************/
/*! exports provided: getDefaultState, setDefaultState, getCurrentImageId, setCurrentImageId, getEditingLabelId, setEditingLabelId, getShapeMovingState, setShapeMovingState, getCurrentZoomState, setCurrentZoomState, getHasDrawnShapeState, setHasDrawnShapeState, getMovableObjectsState, setMovableObjectsState, getLastDrawingModeState, setLastDrawingModeState, getReadyToDrawShapeState, setReadyToDrawShapeState, getLabelsVisibilityState, setLabelsVisibilityState, getSettingsPopupOpenState, setSettingsPopupOpenState, getContinuousDrawingState, setContinuousDrawingState, getBoundingBoxScalingState, setBoundingBoxScalingState, getDoubleScrollCanvasState, setDoubleScrollCanvasState, getAddingPolygonPointsState, setAddingPolygonPointsState, getCancelledReadyToDrawState, setCancelledReadyToDrawState, getWelcomeModalDisplayedState, setWelcomeModalDisplayedState, getAlteringPolygonPointsState, setAlteringPolygonPointsState, getRemovingPolygonPointsState, setRemovingPolygonPointsState, getLabellerModalDisplayedState, setLabellerModalDisplayedState, getExportDatasetsPopupOpenState, setExportDatasetsPopupOpenState, getLastPolygonActionWasMoveState, setLastPolygonActionWasMoveState, getPolygonDrawingInProgressState, setPolygonDrawingInProgressState, getRemoveImageModalDisplayedState, setRemoveImageModalDisplayedState, getUploadDatasetsModalDisplayedState, setUploadDatasetsModalDisplayedState, getNewShapeSelectedViaLabelListState, setNewShapeSelectedViaLabelListState, getBoundingBoxDrawingInProgressState, setBoundingBoxDrawingInProgressState, getMachineLearningModalDisplayedState, setMachineLearningModalDisplayedState, getRemovingPointsAfterCancelDrawState, setRemovingPointsAfterCancelDrawState, getChangingMLGeneratedLabelNamesState, setChangingMLGeneratedLabelNamesState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDefaultState\", function() { return getDefaultState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDefaultState\", function() { return setDefaultState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentImageId\", function() { return getCurrentImageId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCurrentImageId\", function() { return setCurrentImageId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEditingLabelId\", function() { return getEditingLabelId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEditingLabelId\", function() { return setEditingLabelId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getShapeMovingState\", function() { return getShapeMovingState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setShapeMovingState\", function() { return setShapeMovingState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentZoomState\", function() { return getCurrentZoomState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCurrentZoomState\", function() { return setCurrentZoomState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHasDrawnShapeState\", function() { return getHasDrawnShapeState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setHasDrawnShapeState\", function() { return setHasDrawnShapeState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMovableObjectsState\", function() { return getMovableObjectsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMovableObjectsState\", function() { return setMovableObjectsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLastDrawingModeState\", function() { return getLastDrawingModeState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setLastDrawingModeState\", function() { return setLastDrawingModeState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getReadyToDrawShapeState\", function() { return getReadyToDrawShapeState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setReadyToDrawShapeState\", function() { return setReadyToDrawShapeState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLabelsVisibilityState\", function() { return getLabelsVisibilityState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setLabelsVisibilityState\", function() { return setLabelsVisibilityState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSettingsPopupOpenState\", function() { return getSettingsPopupOpenState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSettingsPopupOpenState\", function() { return setSettingsPopupOpenState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContinuousDrawingState\", function() { return getContinuousDrawingState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setContinuousDrawingState\", function() { return setContinuousDrawingState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBoundingBoxScalingState\", function() { return getBoundingBoxScalingState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setBoundingBoxScalingState\", function() { return setBoundingBoxScalingState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDoubleScrollCanvasState\", function() { return getDoubleScrollCanvasState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDoubleScrollCanvasState\", function() { return setDoubleScrollCanvasState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAddingPolygonPointsState\", function() { return getAddingPolygonPointsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAddingPolygonPointsState\", function() { return setAddingPolygonPointsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCancelledReadyToDrawState\", function() { return getCancelledReadyToDrawState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCancelledReadyToDrawState\", function() { return setCancelledReadyToDrawState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWelcomeModalDisplayedState\", function() { return getWelcomeModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setWelcomeModalDisplayedState\", function() { return setWelcomeModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAlteringPolygonPointsState\", function() { return getAlteringPolygonPointsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAlteringPolygonPointsState\", function() { return setAlteringPolygonPointsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRemovingPolygonPointsState\", function() { return getRemovingPolygonPointsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemovingPolygonPointsState\", function() { return setRemovingPolygonPointsState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLabellerModalDisplayedState\", function() { return getLabellerModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setLabellerModalDisplayedState\", function() { return setLabellerModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getExportDatasetsPopupOpenState\", function() { return getExportDatasetsPopupOpenState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setExportDatasetsPopupOpenState\", function() { return setExportDatasetsPopupOpenState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLastPolygonActionWasMoveState\", function() { return getLastPolygonActionWasMoveState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setLastPolygonActionWasMoveState\", function() { return setLastPolygonActionWasMoveState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPolygonDrawingInProgressState\", function() { return getPolygonDrawingInProgressState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPolygonDrawingInProgressState\", function() { return setPolygonDrawingInProgressState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRemoveImageModalDisplayedState\", function() { return getRemoveImageModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemoveImageModalDisplayedState\", function() { return setRemoveImageModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUploadDatasetsModalDisplayedState\", function() { return getUploadDatasetsModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setUploadDatasetsModalDisplayedState\", function() { return setUploadDatasetsModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getNewShapeSelectedViaLabelListState\", function() { return getNewShapeSelectedViaLabelListState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setNewShapeSelectedViaLabelListState\", function() { return setNewShapeSelectedViaLabelListState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBoundingBoxDrawingInProgressState\", function() { return getBoundingBoxDrawingInProgressState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setBoundingBoxDrawingInProgressState\", function() { return setBoundingBoxDrawingInProgressState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMachineLearningModalDisplayedState\", function() { return getMachineLearningModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMachineLearningModalDisplayedState\", function() { return setMachineLearningModalDisplayedState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRemovingPointsAfterCancelDrawState\", function() { return getRemovingPointsAfterCancelDrawState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemovingPointsAfterCancelDrawState\", function() { return setRemovingPointsAfterCancelDrawState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getChangingMLGeneratedLabelNamesState\", function() { return getChangingMLGeneratedLabelNamesState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setChangingMLGeneratedLabelNamesState\", function() { return setChangingMLGeneratedLabelNamesState; });\nlet defaultState = false;\r\nlet removingPolygonPointsState = false;\r\nlet addingPolygonPointsState = false;\r\nlet movableObjectsState = true;\r\nlet continuousDrawingState = true;\r\nlet lastDrawingModeState = null;\r\nlet readyToDrawShapeState = false;\r\nlet hasDrawnShapeState = false;\r\nlet cancelledReadyToDrawState = null;\r\nlet removingPointsAfterCancelDrawState = null;\r\nlet labelsVisibilityState = true;\r\nlet editingLabelId = null;\r\nlet lastPolygonActionWasMoveState = false;\r\nlet newShapeSelectedViaLabelListState = false;\r\nlet currentZoomState = 1;\r\nlet doubleScrollCanvasState = false;\r\nlet settingsPopupOpenState = false;\r\nlet exportDatasetsPopupOpenState = false;\r\nlet changingMLGeneratedLabelNamesState = false;\r\nlet currentImageId = false;\r\nlet labellerModalDisplayed = false;\r\nlet uploadDatasetsModalDisplayedState = false;\r\nlet machineLearningModalDisplayedState = false;\r\nlet boundingBoxScalingState = false;\r\nlet shapeMovingState = false;\r\nlet polygonDrawingInProgressState = false;\r\nlet boundingBoxDrawingInProgressState = false;\r\nlet removeImageModalDisplayedState = false;\r\nlet welcomeModalDisplayedState = false;\r\n\r\nfunction getDefaultState() {\r\n  return defaultState;\r\n}\r\n\r\nfunction getAlteringPolygonPointsState() {\r\n  return removingPolygonPointsState || addingPolygonPointsState;\r\n}\r\n\r\nfunction getRemovingPolygonPointsState() {\r\n  return removingPolygonPointsState;\r\n}\r\n\r\nfunction getAddingPolygonPointsState() {\r\n  return addingPolygonPointsState;\r\n}\r\n\r\nfunction getMovableObjectsState() {\r\n  return movableObjectsState;\r\n}\r\n\r\nfunction getContinuousDrawingState() {\r\n  return continuousDrawingState;\r\n}\r\n\r\nfunction getLastDrawingModeState() {\r\n  return lastDrawingModeState;\r\n}\r\n\r\nfunction getReadyToDrawShapeState() {\r\n  return readyToDrawShapeState;\r\n}\r\n\r\nfunction getHasDrawnShapeState() {\r\n  return hasDrawnShapeState;\r\n}\r\n\r\nfunction getCancelledReadyToDrawState() {\r\n  return cancelledReadyToDrawState;\r\n}\r\n\r\nfunction getRemovingPointsAfterCancelDrawState() {\r\n  return removingPointsAfterCancelDrawState;\r\n}\r\n\r\nfunction getLabelsVisibilityState() {\r\n  return labelsVisibilityState;\r\n}\r\n\r\nfunction getEditingLabelId() {\r\n  return editingLabelId;\r\n}\r\n\r\nfunction getLastPolygonActionWasMoveState() {\r\n  return lastPolygonActionWasMoveState;\r\n}\r\n\r\nfunction getNewShapeSelectedViaLabelListState() {\r\n  return newShapeSelectedViaLabelListState;\r\n}\r\n\r\nfunction getCurrentZoomState() {\r\n  return currentZoomState;\r\n}\r\n\r\nfunction getDoubleScrollCanvasState() {\r\n  return doubleScrollCanvasState;\r\n}\r\n\r\nfunction getSettingsPopupOpenState() {\r\n  return settingsPopupOpenState;\r\n}\r\n\r\nfunction getExportDatasetsPopupOpenState() {\r\n  return exportDatasetsPopupOpenState;\r\n}\r\n\r\nfunction getCurrentImageId() {\r\n  return currentImageId;\r\n}\r\n\r\nfunction getChangingMLGeneratedLabelNamesState() {\r\n  return changingMLGeneratedLabelNamesState;\r\n}\r\n\r\nfunction getLabellerModalDisplayedState() {\r\n  return labellerModalDisplayed;\r\n}\r\n\r\nfunction getBoundingBoxScalingState() {\r\n  return boundingBoxScalingState;\r\n}\r\n\r\nfunction getShapeMovingState() {\r\n  return shapeMovingState;\r\n}\r\n\r\nfunction getPolygonDrawingInProgressState() {\r\n  return polygonDrawingInProgressState;\r\n}\r\n\r\nfunction getBoundingBoxDrawingInProgressState() {\r\n  return boundingBoxDrawingInProgressState;\r\n}\r\n\r\nfunction getUploadDatasetsModalDisplayedState() {\r\n  return uploadDatasetsModalDisplayedState;\r\n}\r\n\r\nfunction getMachineLearningModalDisplayedState() {\r\n  return machineLearningModalDisplayedState;\r\n}\r\n\r\nfunction getRemoveImageModalDisplayedState() {\r\n  return removeImageModalDisplayedState;\r\n}\r\n\r\nfunction getWelcomeModalDisplayedState() {\r\n  return welcomeModalDisplayedState;\r\n}\r\n\r\nfunction setDefaultState(state) {\r\n  defaultState = state;\r\n}\r\n\r\nfunction setAlteringPolygonPointsState(state) {\r\n  removingPolygonPointsState = state;\r\n  addingPolygonPointsState = state;\r\n}\r\n\r\nfunction setRemovingPolygonPointsState(state) {\r\n  removingPolygonPointsState = state;\r\n}\r\n\r\nfunction setAddingPolygonPointsState(state) {\r\n  addingPolygonPointsState = state;\r\n}\r\n\r\nfunction setMovableObjectsState(state) {\r\n  movableObjectsState = state;\r\n}\r\n\r\nfunction setContinuousDrawingState(state) {\r\n  continuousDrawingState = state;\r\n}\r\n\r\nfunction setLastDrawingModeState(state) {\r\n  lastDrawingModeState = state;\r\n}\r\n\r\nfunction setReadyToDrawShapeState(state) {\r\n  readyToDrawShapeState = state;\r\n}\r\n\r\nfunction setHasDrawnShapeState(state) {\r\n  hasDrawnShapeState = state;\r\n}\r\n\r\nfunction setCancelledReadyToDrawState(state) {\r\n  cancelledReadyToDrawState = state;\r\n}\r\n\r\nfunction setRemovingPointsAfterCancelDrawState(state) {\r\n  removingPointsAfterCancelDrawState = state;\r\n}\r\n\r\nfunction setLabelsVisibilityState(state) {\r\n  labelsVisibilityState = state;\r\n}\r\n\r\nfunction setEditingLabelId(state) {\r\n  editingLabelId = state;\r\n}\r\n\r\nfunction setLastPolygonActionWasMoveState(state) {\r\n  lastPolygonActionWasMoveState = state;\r\n}\r\n\r\nfunction setNewShapeSelectedViaLabelListState(state) {\r\n  newShapeSelectedViaLabelListState = state;\r\n}\r\n\r\nfunction setCurrentZoomState(state) {\r\n  currentZoomState = state;\r\n}\r\n\r\nfunction setDoubleScrollCanvasState(state) {\r\n  doubleScrollCanvasState = state;\r\n}\r\n\r\nfunction setSettingsPopupOpenState(state) {\r\n  settingsPopupOpenState = state;\r\n}\r\n\r\nfunction setExportDatasetsPopupOpenState(state) {\r\n  exportDatasetsPopupOpenState = state;\r\n}\r\n\r\nfunction setCurrentImageId(id) {\r\n  currentImageId = id;\r\n}\r\n\r\nfunction setChangingMLGeneratedLabelNamesState(state) {\r\n  changingMLGeneratedLabelNamesState = state;\r\n}\r\n\r\nfunction setLabellerModalDisplayedState(state) {\r\n  labellerModalDisplayed = state;\r\n}\r\n\r\nfunction setBoundingBoxScalingState(state) {\r\n  boundingBoxScalingState = state;\r\n}\r\n\r\nfunction setShapeMovingState(state) {\r\n  shapeMovingState = state;\r\n}\r\n\r\nfunction setPolygonDrawingInProgressState(state) {\r\n  polygonDrawingInProgressState = state;\r\n}\r\n\r\nfunction setBoundingBoxDrawingInProgressState(state) {\r\n  boundingBoxDrawingInProgressState = state;\r\n}\r\n\r\nfunction setUploadDatasetsModalDisplayedState(state) {\r\n  uploadDatasetsModalDisplayedState = state;\r\n}\r\n\r\nfunction setMachineLearningModalDisplayedState(state) {\r\n  machineLearningModalDisplayedState = state;\r\n}\r\n\r\nfunction setRemoveImageModalDisplayedState(state) {\r\n  removeImageModalDisplayedState = state;\r\n}\r\n\r\nfunction setWelcomeModalDisplayedState(state) {\r\n  welcomeModalDisplayedState = state;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/stateMachine.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/buttonClickEvents.js":
/*!*********************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/buttonClickEvents.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignToolkitButtonEventHandlers; });\n/* harmony import */ var _facade__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./facade */ \"./src/js/tools/toolkit/buttonClickEvents/facade.js\");\n/* harmony import */ var _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./eventMiddleware/buttonEventMiddleware */ \"./src/js/tools/toolkit/buttonClickEvents/eventMiddleware/buttonEventMiddleware.js\");\n\r\n\r\n\r\nfunction assignToolkitButtonEventHandlers() {\r\n  window.editShapes = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"doNothingIfLabellingInProgress\"].bind(this, _facade__WEBPACK_IMPORTED_MODULE_0__[\"editShapesBtnClick\"]);\r\n  window.createNewBndBox = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEventsBeforeFunc\"].bind(this, _facade__WEBPACK_IMPORTED_MODULE_0__[\"createNewBndBoxBtnClick\"]);\r\n  window.createNewPolygon = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"func1IfDrawRemovePointsElseInterruptAllWthFunc2\"].bind(this,\r\n    _facade__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPointBtnClick\"], _facade__WEBPACK_IMPORTED_MODULE_0__[\"createNewPolygonBtnClick\"]);\r\n  window.addPoints = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"doNothingIfLabellingOrAddingNewPoints\"].bind(this, _facade__WEBPACK_IMPORTED_MODULE_0__[\"addPointsBtnClick\"]);\r\n  window.removePoint = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"doNothingIfLabellingInProgress\"].bind(this, _facade__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPointBtnClick\"]);\r\n  window.cancel = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEventsBeforeFunc\"].bind(this, _facade__WEBPACK_IMPORTED_MODULE_0__[\"resetCanvasEventsToDefault\"]);\r\n  window.exportDatasets = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"removeButtonPopoverIfActive\"].bind(this, _facade__WEBPACK_IMPORTED_MODULE_0__[\"exportDatasetsBtnClick\"]);\r\n  window.uploadDatasets = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEventsBeforeMultipleFunc\"].bind(this,\r\n    _facade__WEBPACK_IMPORTED_MODULE_0__[\"resetCanvasEventsToDefault\"], _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"removeButtonPopoverIfActive\"], _facade__WEBPACK_IMPORTED_MODULE_0__[\"uploadDatasetsBtnClick\"]);\r\n  window.displayMachineLearningModal = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEventsBeforeMultipleFunc\"].bind(this,\r\n    _facade__WEBPACK_IMPORTED_MODULE_0__[\"resetCanvasEventsToDefault\"], _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"removeButtonPopoverIfActive\"], _facade__WEBPACK_IMPORTED_MODULE_0__[\"machineLearningBtnClick\"]);\r\n  window.removeShape = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"interruptNewShapeDrawingWthFunc1OrExecFunc2\"].bind(this,\r\n    _facade__WEBPACK_IMPORTED_MODULE_0__[\"resetCanvasEventsToDefault\"], _facade__WEBPACK_IMPORTED_MODULE_0__[\"removeActiveShapeBtnClick\"]);\r\n  window.zoom = _facade__WEBPACK_IMPORTED_MODULE_0__[\"zoomBtnClick\"];\r\n  window.displaySettingsPopup = _eventMiddleware_buttonEventMiddleware__WEBPACK_IMPORTED_MODULE_1__[\"removeButtonPopoverIfActive\"].bind(this, _facade__WEBPACK_IMPORTED_MODULE_0__[\"settingsBtnClick\"]);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/buttonClickEvents.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/eventMiddleware/buttonEventMiddleware.js":
/*!*****************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/eventMiddleware/buttonEventMiddleware.js ***!
  \*****************************************************************************************/
/*! exports provided: removeButtonPopoverIfActive, doNothingIfLabellingInProgress, interruptAllCanvasEventsBeforeFunc, doNothingIfLabellingOrAddingNewPoints, interruptAllCanvasEventsBeforeMultipleFunc, interruptNewShapeDrawingWthFunc1OrExecFunc2, interruptAllCanvasEventsIfLabellingInProgress, func1IfDrawRemovePointsElseInterruptAllWthFunc2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeButtonPopoverIfActive\", function() { return removeButtonPopoverIfActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doNothingIfLabellingInProgress\", function() { return doNothingIfLabellingInProgress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interruptAllCanvasEventsBeforeFunc\", function() { return interruptAllCanvasEventsBeforeFunc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doNothingIfLabellingOrAddingNewPoints\", function() { return doNothingIfLabellingOrAddingNewPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interruptAllCanvasEventsBeforeMultipleFunc\", function() { return interruptAllCanvasEventsBeforeMultipleFunc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interruptNewShapeDrawingWthFunc1OrExecFunc2\", function() { return interruptNewShapeDrawingWthFunc1OrExecFunc2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interruptAllCanvasEventsIfLabellingInProgress\", function() { return interruptAllCanvasEventsIfLabellingInProgress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"func1IfDrawRemovePointsElseInterruptAllWthFunc2\", function() { return func1IfDrawRemovePointsElseInterruptAllWthFunc2; });\n/* harmony import */ var _labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../labellerModal/labellingProcess */ \"./src/js/tools/labellerModal/labellingProcess.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasState */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasState.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../globalStyling/buttons/popovers */ \"./src/js/tools/globalStyling/buttons/popovers.js\");\n\r\n\r\n\r\n\r\n\r\nfunction interruptAllCanvasEventsBeforeFunc(func) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveButtonPopover\"])();\r\n  Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEvents\"])();\r\n  if (func) func();\r\n}\r\n\r\nfunction func1IfDrawRemovePointsElseInterruptAllWthFunc2(func1, func2) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveButtonPopover\"])();\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getRemovingPolygonPointsState\"])() && Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getPolygonDrawingInProgressState\"])()) {\r\n    if (func1) func1();\r\n  } else if (func2) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEvents\"])();\r\n    func2();\r\n  }\r\n}\r\n\r\nfunction interruptAllCanvasEventsBeforeMultipleFunc(...funcs) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveButtonPopover\"])();\r\n  Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEvents\"])();\r\n  funcs.forEach((func) => { func(); });\r\n}\r\n\r\nfunction interruptNewShapeDrawingWthFunc1OrExecFunc2(func1, func2) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveButtonPopover\"])();\r\n  if ((Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getPolygonDrawingInProgressState\"])() || Object(_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_0__[\"isLabelling\"])()) && !Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getContinuousDrawingState\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEvents\"])();\r\n    func1();\r\n  } else if (func2) {\r\n    func2();\r\n  }\r\n}\r\n\r\nfunction isElement(element) {\r\n  return element instanceof Element || element instanceof HTMLDocument;\r\n}\r\n\r\nfunction doNothingIfLabellingInProgress(func, element) {\r\n  if (isElement(element) && element.classList.contains('toolkit-button-disabled')) return;\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveButtonPopover\"])();\r\n  if (!Object(_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_0__[\"isLabelling\"])()) {\r\n    if (func) func();\r\n  }\r\n}\r\n\r\nfunction doNothingIfLabellingOrAddingNewPoints(func, element) {\r\n  if (isElement(element) && element.classList.contains('toolkit-button-disabled')) return;\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveButtonPopover\"])();\r\n  if (!Object(_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_0__[\"isLabelling\"])() && !Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"getPolygonDrawingInProgressState\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__[\"interruptCanvasToStartAddPoints\"])();\r\n    if (func) func();\r\n  }\r\n}\r\n\r\nfunction interruptAllCanvasEventsIfLabellingInProgress(func) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveButtonPopover\"])();\r\n  if (Object(_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_0__[\"isLabelling\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasState__WEBPACK_IMPORTED_MODULE_1__[\"interruptAllCanvasEvents\"])();\r\n  }\r\n  if (func) func();\r\n}\r\n\r\nfunction removeButtonPopoverIfActive(func) {\r\n  Object(_globalStyling_buttons_popovers__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveButtonPopover\"])();\r\n  if (func) func();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/eventMiddleware/buttonEventMiddleware.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facade.js":
/*!**********************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facade.js ***!
  \**********************************************************/
/*! exports provided: assignCanvasMouseEvents, createNewBndBoxBtnClick, createNewPolygonBtnClick, resetCanvasEventsToDefault, removeActiveShapeBtnClick, removePolygonPointBtnClick, exportDatasetsBtnClick, uploadDatasetsBtnClick, machineLearningBtnClick, addPointsBtnClick, zoomBtnClick, settingsBtnClick, editShapesBtnClick */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignCanvasMouseEvents\", function() { return assignCanvasMouseEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNewBndBoxBtnClick\", function() { return createNewBndBoxBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNewPolygonBtnClick\", function() { return createNewPolygonBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetCanvasEventsToDefault\", function() { return resetCanvasEventsToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeActiveShapeBtnClick\", function() { return removeActiveShapeBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removePolygonPointBtnClick\", function() { return removePolygonPointBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exportDatasetsBtnClick\", function() { return exportDatasetsBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uploadDatasetsBtnClick\", function() { return uploadDatasetsBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"machineLearningBtnClick\", function() { return machineLearningBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPointsBtnClick\", function() { return addPointsBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"zoomBtnClick\", function() { return zoomBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"settingsBtnClick\", function() { return settingsBtnClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editShapesBtnClick\", function() { return editShapesBtnClick; });\n/* harmony import */ var _facadeWorkers_createNewBndBoxWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./facadeWorkers/createNewBndBoxWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/createNewBndBoxWorker.js\");\n/* harmony import */ var _facadeWorkers_createNewPolygonWorker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./facadeWorkers/createNewPolygonWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/createNewPolygonWorker.js\");\n/* harmony import */ var _facadeWorkers_removeActiveShapeWorker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./facadeWorkers/removeActiveShapeWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removeActiveShapeWorker.js\");\n/* harmony import */ var _facadeWorkers_addPolygonPointsWorker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./facadeWorkers/addPolygonPointsWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/addPolygonPointsWorker.js\");\n/* harmony import */ var _facadeWorkers_resetCanvasEventsToDefaultWorker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./facadeWorkers/resetCanvasEventsToDefaultWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/resetCanvasEventsToDefaultWorker.js\");\n/* harmony import */ var _facadeWorkers_removePolygonPointsWorker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./facadeWorkers/removePolygonPointsWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removePolygonPointsWorker.js\");\n/* harmony import */ var _facadeWorkers_toggleExportDatasetsPopupWorker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./facadeWorkers/toggleExportDatasetsPopupWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/toggleExportDatasetsPopupWorker.js\");\n/* harmony import */ var _facadeWorkers_displayMLModalWorker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./facadeWorkers/displayMLModalWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/displayMLModalWorker.js\");\n/* harmony import */ var _facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./facadeWorkers/zoomWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js\");\n/* harmony import */ var _facadeWorkers_toggleSettingsPopupWorker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./facadeWorkers/toggleSettingsPopupWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/toggleSettingsPopupWorker.js\");\n/* harmony import */ var _facadeWorkers_editShapesWorker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./facadeWorkers/editShapesWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/editShapesWorker.js\");\n/* harmony import */ var _facadeWorkers_displayUploadDatasetsModalWorker__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./facadeWorkers/displayUploadDatasetsModalWorker */ \"./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/displayUploadDatasetsModalWorker.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet canvas = null;\r\n\r\nfunction createNewBndBoxBtnClick() {\r\n  Object(_facadeWorkers_createNewBndBoxWorker__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n}\r\n\r\nfunction createNewPolygonBtnClick() {\r\n  Object(_facadeWorkers_createNewPolygonWorker__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(canvas);\r\n}\r\n\r\nfunction addPointsBtnClick() {\r\n  Object(_facadeWorkers_addPolygonPointsWorker__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(canvas);\r\n}\r\n\r\nfunction removeActiveShapeBtnClick() {\r\n  Object(_facadeWorkers_removeActiveShapeWorker__WEBPACK_IMPORTED_MODULE_2__[\"removeActiveShapeEvent\"])(canvas);\r\n}\r\n\r\nfunction resetCanvasEventsToDefault() {\r\n  Object(_facadeWorkers_resetCanvasEventsToDefaultWorker__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(canvas);\r\n}\r\n\r\nfunction removePolygonPointBtnClick() {\r\n  Object(_facadeWorkers_removePolygonPointsWorker__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(canvas);\r\n}\r\n\r\nfunction assignCanvasMouseEvents(canvasObj) {\r\n  canvas = canvasObj;\r\n}\r\n\r\nfunction exportDatasetsBtnClick() {\r\n  Object(_facadeWorkers_toggleExportDatasetsPopupWorker__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(canvas);\r\n}\r\n\r\nfunction uploadDatasetsBtnClick() {\r\n  Object(_facadeWorkers_displayUploadDatasetsModalWorker__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\r\n}\r\n\r\nfunction machineLearningBtnClick() {\r\n  Object(_facadeWorkers_displayMLModalWorker__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(canvas);\r\n}\r\n\r\nfunction zoomBtnClick(activity) {\r\n  Object(_facadeWorkers_zoomWorker__WEBPACK_IMPORTED_MODULE_8__[\"zoomCanvas\"])(canvas, activity);\r\n}\r\n\r\nfunction settingsBtnClick() {\r\n  Object(_facadeWorkers_toggleSettingsPopupWorker__WEBPACK_IMPORTED_MODULE_9__[\"default\"])();\r\n}\r\n\r\nfunction editShapesBtnClick() {\r\n  Object(_facadeWorkers_editShapesWorker__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(canvas);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facade.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/addPolygonPointsWorker.js":
/*!****************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/addPolygonPointsWorker.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initiateAddPolygonPointsEvents; });\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_addPointsEventHandlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode */ \"./src/js/canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/defaultMode */ \"./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/addPointsEventsWorker.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js\");\n/* harmony import */ var _canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers.js\");\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Originally designed to be turned off after the points have been successfully added to a polygon\r\n\r\nfunction discardAddPointsEvents(canvas) {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getContinuousDrawingState\"])()\r\n  && (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getCancelledReadyToDrawState\"])() || Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getRemovingPointsAfterCancelDrawState\"])())) {\r\n    Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_7__[\"removePolygonPoints\"])();\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getLastDrawingModeState\"])() === 'polygon') {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(canvas);\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setCreatePolygonButtonToActive\"])();\r\n    } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getLastDrawingModeState\"])() === 'boundingBox') {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(canvas);\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setCreateBoundingBoxButtonToActive\"])();\r\n    }\r\n  } else {\r\n    Object(_canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_4__[\"setDefaultCursorModeAfterAlteringPolygonPoints\"])(canvas);\r\n    const currentlySelectedPolygonId = Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_addPointsEventsWorker__WEBPACK_IMPORTED_MODULE_5__[\"getSelectedPolygonIdForAddPoints\"])();\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(canvas, currentlySelectedPolygonId);\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setEditShapesButtonToActive\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultState\"])(true);\r\n  }\r\n}\r\n\r\nfunction initiateAddPolygonPointsEvents(canvas) {\r\n  canvas.discardActiveObject();\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getAddingPolygonPointsState\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_addPointsEventHandlers__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas);\r\n    Object(_canvas_mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(canvas);\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setAddPointsButtonToActive\"])();\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setEditShapesButtonToDefault\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultState\"])(false);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setAddingPolygonPointsState\"])(true);\r\n  } else if (Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_7__[\"isAddingPointsToPolygon\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_addPointsEventHandlers__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas);\r\n    Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_7__[\"resetAddPoints\"])();\r\n    Object(_canvas_mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(canvas);\r\n  } else {\r\n    Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_7__[\"resetAddPoints\"])();\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_10__[\"setAddPointsButtonToDefault\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setAddingPolygonPointsState\"])(false);\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    discardAddPointsEvents(canvas);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/addPolygonPointsWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/createNewBndBoxWorker.js":
/*!***************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/createNewBndBoxWorker.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initiateCreateNewBndBoxEvents; });\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers.js\");\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\nfunction initiateCreateNewBndBoxEvents(canvas) {\r\n  // cancel drawing polygon\r\n  // or hold on since polygons will not be drawin with no canvas\r\n  if (canvas.backgroundImage) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(canvas);\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setEditShapesButtonToDefault\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setDefaultState\"])(false);\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setCreateBoundingBoxButtonToActive\"])();\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setPolygonEditingButtonsToDefault\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setAlteringPolygonPointsState\"])(false);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setLastDrawingModeState\"])('boundingBox');\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setHasDrawnShapeState\"])(false);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/createNewBndBoxWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/createNewPolygonWorker.js":
/*!****************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/createNewPolygonWorker.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initiateCreateNewPolygonEvents; });\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\nfunction initiateCreateNewPolygonEvents(canvas) {\r\n  if (canvas.backgroundImage) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(canvas);\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setCreatePolygonButtonToActive\"])();\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setEditShapesButtonToDefault\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setDefaultState\"])(false);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setAlteringPolygonPointsState\"])(false);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setLastDrawingModeState\"])('polygon');\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setHasDrawnShapeState\"])(false);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/createNewPolygonWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/displayMLModalWorker.js":
/*!**************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/displayMLModalWorker.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return displayMachineLearningModal; });\n/* harmony import */ var _machineLearningModal_views_viewManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../machineLearningModal/views/viewManager */ \"./src/js/tools/machineLearningModal/views/viewManager.js\");\n\r\n\r\nfunction displayMachineLearningModal() {\r\n  Object(_machineLearningModal_views_viewManager__WEBPACK_IMPORTED_MODULE_0__[\"displayModal\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/displayMLModalWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/displayUploadDatasetsModalWorker.js":
/*!**************************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/displayUploadDatasetsModalWorker.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return displayUploadDatasetsModal; });\n/* harmony import */ var _uploadDatasetsModal_views_viewManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../uploadDatasetsModal/views/viewManager */ \"./src/js/tools/uploadDatasetsModal/views/viewManager.js\");\n\r\n\r\nfunction displayUploadDatasetsModal() {\r\n  Object(_uploadDatasetsModal_views_viewManager__WEBPACK_IMPORTED_MODULE_0__[\"displayModal\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/displayUploadDatasetsModalWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/editShapesWorker.js":
/*!**********************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/editShapesWorker.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initiateEditShapesEvent; });\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/defaultMode */ \"./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode */ \"./src/js/canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_addPointsEventHandlers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers.js\");\n/* harmony import */ var _canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../canvas/objects/boundingBox/boundingBox */ \"./src/js/canvas/objects/boundingBox/boundingBox.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction dismissAddPointsEvents(canvas) {\r\n  if (Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_4__[\"isAddingPointsToPolygon\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_addPointsEventHandlers__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(canvas);\r\n    Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_4__[\"resetAddPoints\"])();\r\n    Object(_canvas_mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(canvas);\r\n  }\r\n  Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_4__[\"resetAddPoints\"])();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setAddingPolygonPointsState\"])(false);\r\n  Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n  Object(_canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultCursorModeAfterAlteringPolygonPoints\"])(canvas);\r\n  Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas, Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_4__[\"getPolygonIdIfEditing\"])());\r\n}\r\n\r\nfunction dismissRemovePointsEvents(canvas) {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getPolygonDrawingInProgressState\"])()) {\r\n    Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_7__[\"resetNewPolygonData\"])();\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setRemoveShapeButtonToDisabled\"])();\r\n  }\r\n  Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n  Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_4__[\"cleanPolygonPointsArray\"])();\r\n  Object(_canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultCursorModeAfterAlteringPolygonPoints\"])(canvas);\r\n  Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas, Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_4__[\"getPolygonIdIfEditing\"])());\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setRemovingPolygonPointsState\"])(false);\r\n}\r\n\r\nfunction dismissOtherEvents(canvas) {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReadyToDrawShapeState\"])()) {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setCancelledReadyToDrawState\"])(true);\r\n  } else {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setCancelledReadyToDrawState\"])(false);\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getPolygonDrawingInProgressState\"])()) {\r\n    Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_7__[\"resetNewPolygonData\"])();\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setRemoveShapeButtonToDisabled\"])();\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getBoundingBoxDrawingInProgressState\"])()) {\r\n    Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_9__[\"clearBoundingBoxData\"])();\r\n  }\r\n  Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n  Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas, null, Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])());\r\n  Object(_canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultCursorMode\"])(canvas);\r\n}\r\n\r\nfunction initiateEditShapesEvent(canvas) {\r\n  canvas.discardActiveObject();\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getDefaultState\"])()) {\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAddingPolygonPointsState\"])()) {\r\n      dismissAddPointsEvents(canvas);\r\n    } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getRemovingPolygonPointsState\"])()) {\r\n      dismissRemovePointsEvents(canvas);\r\n    } else {\r\n      dismissOtherEvents(canvas);\r\n    }\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getAlteringPolygonPointsState\"])()) {\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setAlteringPolygonPointsState\"])(false);\r\n    }\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setEditShapesButtonToActive\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setReadyToDrawShapeState\"])(false);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setDefaultState\"])(true);\r\n  }\r\n  Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_8__[\"setPolygonEditingButtonsToDefault\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/editShapesWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removeActiveShapeWorker.js":
/*!*****************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removeActiveShapeWorker.js ***!
  \*****************************************************************************************/
/*! exports provided: removeActiveShapeEvent, removeBoundingBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeActiveShapeEvent\", function() { return removeActiveShapeEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeBoundingBox\", function() { return removeBoundingBox; });\n/* harmony import */ var _canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n/* harmony import */ var _canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../canvas/objects/boundingBox/boundingBox */ \"./src/js/canvas/objects/boundingBox/boundingBox.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_addPointsEventHandlers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/addPointsEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode */ \"./src/js/canvas/mouseInteractions/cursorModes/initialiseAddPointsOnExistingPolygonMode.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../labellerModal/labellingProcess */ \"./src/js/tools/labellerModal/labellingProcess.js\");\n/* harmony import */ var _labellerModal_style__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../labellerModal/style */ \"./src/js/tools/labellerModal/style.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js\");\n/* harmony import */ var _canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../canvas/objects/label/label */ \"./src/js/canvas/objects/label/label.js\");\n/* harmony import */ var _labelList_labelList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../labelList/labelList */ \"./src/js/tools/labelList/labelList.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction removeBoundingBox(canvas, mLGeneratedObject) {\r\n  const activeObject = mLGeneratedObject || canvas.getActiveObject()\r\n    || Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_12__[\"getCurrentlySelectedLabelShape\"])();\r\n  if (activeObject && activeObject.shapeName === 'bndBox') {\r\n    Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_13__[\"removeShape\"])(activeObject.id);\r\n    Object(_canvas_objects_label_label__WEBPACK_IMPORTED_MODULE_11__[\"removeLabel\"])(activeObject.id, canvas);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_3__[\"removeActiveLabelObject\"])();\r\n    Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_12__[\"removeLabelFromListOnShapeDelete\"])(activeObject.id);\r\n    Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_2__[\"clearBoundingBoxData\"])();\r\n    return true;\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"getBoundingBoxDrawingInProgressState\"])()) {\r\n    Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_2__[\"clearBoundingBoxData\"])();\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction removeIfContinuousDrawing(canvas) {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"getContinuousDrawingState\"])()) {\r\n    if (Object(_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_8__[\"isLabelling\"])()) {\r\n      if (Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__[\"isPolygonDrawingFinished\"])()) {\r\n        Object(_labellerModal_style__WEBPACK_IMPORTED_MODULE_9__[\"hideLabellerModal\"])();\r\n        Object(_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_8__[\"removeTargetShape\"])();\r\n        Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__[\"resetDrawPolygonMode\"])();\r\n      } else if (Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_2__[\"isBoundingBoxDrawingFinished\"])()) {\r\n        Object(_labellerModal_style__WEBPACK_IMPORTED_MODULE_9__[\"hideLabellerModal\"])();\r\n        Object(_labellerModal_labellingProcess__WEBPACK_IMPORTED_MODULE_8__[\"removeTargetShape\"])();\r\n        Object(_canvas_objects_boundingBox_boundingBox__WEBPACK_IMPORTED_MODULE_2__[\"resetDrawBoundingBoxMode\"])();\r\n      }\r\n      return true;\r\n    }\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"getPolygonDrawingInProgressState\"])()) {\r\n      if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"getRemovingPolygonPointsState\"])()) {\r\n        Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_15__[\"setRemovePointsButtonToDefault\"])();\r\n        Object(_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"setRemovingPolygonPointsState\"])(false);\r\n      }\r\n      Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_1__[\"resetNewPolygonData\"])();\r\n      Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(canvas);\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(canvas);\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction removeActiveShapeEvent(canvas) {\r\n  if (!removeIfContinuousDrawing(canvas) && !removeBoundingBox(canvas)) {\r\n    if (Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"isAddingPointsToPolygon\"])()) {\r\n      Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(canvas);\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_addPointsEventHandlers__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(canvas);\r\n      Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"clearAllAddPointsData\"])();\r\n      Object(_canvas_mouseInteractions_cursorModes_initialiseAddPointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(canvas);\r\n    } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"getAddingPolygonPointsState\"])()) {\r\n      Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"clearAllAddPointsData\"])();\r\n    }\r\n    const polygonId = Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygon\"])(Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_12__[\"getCurrentlySelectedLabelShape\"])());\r\n    Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_12__[\"removeLabelFromListOnShapeDelete\"])(polygonId);\r\n    Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_0__[\"removePolygonPoints\"])();\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_3__[\"removeEditedPolygonId\"])();\r\n    if (Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_15__[\"setPolygonEditingButtonsToDisabled\"])()) window.editShapes();\r\n  }\r\n  if (Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_14__[\"getAllImageData\"])().length > 0 && Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_13__[\"getNumberOfShapes\"])() === 0) {\r\n    Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_14__[\"removeTickSVGOverImageThumbnail\"])(Object(_stateMachine__WEBPACK_IMPORTED_MODULE_7__[\"getCurrentImageId\"])());\r\n  }\r\n  Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_15__[\"setRemoveShapeButtonToDisabled\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removeActiveShapeWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removePolygonPointsWorker.js":
/*!*******************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removePolygonPointsWorker.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initiateRemovePolygonPointsEvents; });\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_removePointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/removePointsOnExistingPolygonMode */ \"./src/js/canvas/mouseInteractions/cursorModes/removePointsOnExistingPolygonMode.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_removePointsOnDrawNewPolygonMode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/removePointsOnDrawNewPolygonMode */ \"./src/js/canvas/mouseInteractions/cursorModes/removePointsOnDrawNewPolygonMode.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_removePointsEventHandlers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventWorkers/editPolygonEventsWorker.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_removePointsOnDrawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsOnDrawPolygonEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/removePointsOnDrawPolygonEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/defaultMode */ \"./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js\");\n/* harmony import */ var _canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/alterPolygon/alterPolygon */ \"./src/js/canvas/objects/polygon/alterPolygon/alterPolygon.js\");\n/* harmony import */ var _labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../labelList/labelListHighlightUtils */ \"./src/js/tools/labelList/labelListHighlightUtils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction setRemovePointsCursorMode(canvas) {\r\n  const isDrawingPolygon = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonDrawingInProgressState\"])();\r\n  if (isDrawingPolygon) {\r\n    Object(_canvas_mouseInteractions_cursorModes_removePointsOnDrawNewPolygonMode__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(canvas);\r\n  } else if (!isDrawingPolygon) {\r\n    Object(_canvas_mouseInteractions_cursorModes_removePointsOnExistingPolygonMode__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(canvas);\r\n  }\r\n}\r\n\r\nfunction assignRemovePointsEvents(canvas) {\r\n  const isDrawingPolygon = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonDrawingInProgressState\"])();\r\n  if (isDrawingPolygon) {\r\n    Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_3__[\"removeInvisiblePoint\"])();\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_removePointsOnDrawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(canvas);\r\n  } else if (!isDrawingPolygon) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_removePointsEventHandlers__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(canvas);\r\n  }\r\n}\r\n\r\nfunction discardRemovePointsEvents(canvas) {\r\n  // is this still drawing after manually removing all polygon points\r\n  const isDrawingPolygon = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonDrawingInProgressState\"])();\r\n  if (isDrawingPolygon) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(canvas, true);\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setEditShapesButtonToDefault\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultState\"])(false);\r\n  } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getContinuousDrawingState\"])() && Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getCancelledReadyToDrawState\"])()) {\r\n    Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_13__[\"cleanPolygonPointsArray\"])();\r\n    Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_13__[\"removePolygonPoints\"])();\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getLastDrawingModeState\"])() === 'polygon') {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(canvas);\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setCreatePolygonButtonToActive\"])();\r\n    } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getLastDrawingModeState\"])() === 'boundingBox') {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(canvas);\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setCreateBoundingBoxButtonToActive\"])();\r\n    }\r\n  } else {\r\n    Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_13__[\"cleanPolygonPointsArray\"])();\r\n    Object(_canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_12__[\"setDefaultCursorModeAfterAlteringPolygonPoints\"])(canvas);\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(canvas, Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_13__[\"getPolygonIdIfEditing\"])());\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setEditShapesButtonToActive\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultState\"])(true);\r\n  }\r\n}\r\n\r\n// split up to more readable\r\nfunction initiateRemovePolygonPointsEvents(canvas) {\r\n  canvas.discardActiveObject();\r\n  Object(_labelList_labelListHighlightUtils__WEBPACK_IMPORTED_MODULE_14__[\"removeHighlightOfListLabel\"])();\r\n  Object(_canvas_mouseInteractions_mouseEvents_eventWorkers_editPolygonEventsWorker__WEBPACK_IMPORTED_MODULE_7__[\"removeEditedPolygonId\"])();\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getRemovingPolygonPointsState\"])()) {\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getAddingPolygonPointsState\"])()) {\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setAddingPolygonPointsState\"])(false);\r\n      Object(_canvas_objects_polygon_alterPolygon_alterPolygon__WEBPACK_IMPORTED_MODULE_13__[\"resetAddPoints\"])();\r\n    }\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    assignRemovePointsEvents(canvas);\r\n    setRemovePointsCursorMode(canvas);\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getReadyToDrawShapeState\"])()) {\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setCancelledReadyToDrawState\"])(true);\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setRemovingPointsAfterCancelDrawState\"])(true);\r\n    }\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setRemovePointsButtonToActive\"])();\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setEditShapesButtonToDefault\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultState\"])(false);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setReadyToDrawShapeState\"])(false);\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setRemovingPolygonPointsState\"])(true);\r\n  } else {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    discardRemovePointsEvents(canvas);\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_2__[\"setRemovePointsButtonToDefault\"])();\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setRemovingPolygonPointsState\"])(false);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/removePolygonPointsWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/resetCanvasEventsToDefaultWorker.js":
/*!**************************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/resetCanvasEventsToDefaultWorker.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initiateResetCanvasEventsToDefaultEvent; });\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/purgeAllMouseHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/cursorModes/defaultMode */ \"./src/js/canvas/mouseInteractions/cursorModes/defaultMode.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/defaultEventHandlers.js\");\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawBndBoxEventHandlers.js\");\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers */ \"./src/js/canvas/mouseInteractions/mouseEvents/eventHandlers/drawPolygonEventHandlers.js\");\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction setNewState(canvas) {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getContinuousDrawingState\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getLastDrawingModeState\"])() === 'polygon') {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawPolygonEventHandlers__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(canvas);\r\n    } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getLastDrawingModeState\"])() === 'boundingBox') {\r\n      Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_drawBndBoxEventHandlers__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(canvas);\r\n    }\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setDefaultState\"])(false);\r\n  } else {\r\n    Object(_canvas_mouseInteractions_mouseEvents_eventHandlers_defaultEventHandlers__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(canvas, null, Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getAddingPolygonPointsState\"])());\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setDefaultState\"])(true);\r\n    if (Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_7__[\"getCurrentImage\"])()) {\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setEditShapesButtonToActive\"])();\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setCreatePolygonButtonToDefault\"])();\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setCreateBoundingBoxButtonToDefault\"])();\r\n    }\r\n  }\r\n}\r\n\r\nfunction initiateResetCanvasEventsToDefaultEvent(canvas) {\r\n  canvas.discardActiveObject();\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getDefaultState\"])()) {\r\n    Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_purgeAllMouseHandlers__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas);\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getAddingPolygonPointsState\"])()) {\r\n      Object(_canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultCursorModeAfterAlteringPolygonPoints\"])(canvas);\r\n    } else {\r\n      Object(_canvas_mouseInteractions_cursorModes_defaultMode__WEBPACK_IMPORTED_MODULE_1__[\"setDefaultCursorMode\"])(canvas);\r\n    }\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getAlteringPolygonPointsState\"])()) {\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"setPolygonEditingButtonsToDefault\"])();\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"setAlteringPolygonPointsState\"])(false);\r\n    }\r\n    setNewState(canvas);\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/resetCanvasEventsToDefaultWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/toggleExportDatasetsPopupWorker.js":
/*!*************************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/toggleExportDatasetsPopupWorker.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return toggleExportDatasetsPopup; });\n/* harmony import */ var _exportDatasetsPopup_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../exportDatasetsPopup/style */ \"./src/js/tools/exportDatasetsPopup/style.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n\r\n\r\n\r\nfunction toggleExportDatasetsPopup() {\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getExportDatasetsPopupOpenState\"])()) {\r\n    Object(_exportDatasetsPopup_style__WEBPACK_IMPORTED_MODULE_0__[\"displayExportDatasetsPopup\"])();\r\n  } else {\r\n    Object(_exportDatasetsPopup_style__WEBPACK_IMPORTED_MODULE_0__[\"hideExportDatasetsPopup\"])();\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/toggleExportDatasetsPopupWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/toggleSettingsPopupWorker.js":
/*!*******************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/toggleSettingsPopupWorker.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return toggleSettingsPopup; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _settingsPopup_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../settingsPopup/style */ \"./src/js/tools/settingsPopup/style.js\");\n\r\n\r\n\r\nfunction toggleSettingsPopup() {\r\n  if (!Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getSettingsPopupOpenState\"])()) {\r\n    Object(_settingsPopup_style__WEBPACK_IMPORTED_MODULE_1__[\"displaySettingsPopup\"])();\r\n  } else {\r\n    Object(_settingsPopup_style__WEBPACK_IMPORTED_MODULE_1__[\"hideSettingsPopup\"])();\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/toggleSettingsPopupWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js":
/*!****************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js ***!
  \****************************************************************************/
/*! exports provided: zoomOutObjectOnImageSelect, zoomCanvas, resetZoom, initialiseZoomVariables, initiateZoomOverflowScroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"zoomOutObjectOnImageSelect\", function() { return zoomOutObjectOnImageSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"zoomCanvas\", function() { return zoomCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetZoom\", function() { return resetZoom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseZoomVariables\", function() { return initialiseZoomVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initiateZoomOverflowScroll\", function() { return initiateZoomOverflowScroll; });\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _canvas_objects_polygon_alterPolygon_resetCoordinatesAfterMove__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/alterPolygon/resetCoordinatesAfterMove */ \"./src/js/canvas/objects/polygon/alterPolygon/resetCoordinatesAfterMove.js\");\n/* harmony import */ var _canvas_objects_polygon_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/properties */ \"./src/js/canvas/objects/polygon/properties.js\");\n/* harmony import */ var _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../canvas/objects/label/properties */ \"./src/js/canvas/objects/label/properties.js\");\n/* harmony import */ var _canvas_objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../canvas/objects/objectsProperties/changeProperties */ \"./src/js/canvas/objects/objectsProperties/changeProperties.js\");\n/* harmony import */ var _canvas_objects_boundingBox_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../canvas/objects/boundingBox/properties */ \"./src/js/canvas/objects/boundingBox/properties.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../canvas/objects/polygon/polygon */ \"./src/js/canvas/objects/polygon/polygon.js\");\n/* harmony import */ var _zoom_chromium__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../zoom/chromium */ \"./src/js/tools/zoom/chromium.js\");\n/* harmony import */ var _zoom_firefox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../zoom/firefox */ \"./src/js/tools/zoom/firefox.js\");\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n/* harmony import */ var _canvas_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../canvas/utils/canvasUtils */ \"./src/js/canvas/utils/canvasUtils.js\");\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet currentZoom = null;\r\nlet canvas = null;\r\nlet canvasProperties = null;\r\nlet imageProperties = null;\r\n\r\nlet stubElement;\r\nlet zoomOverflowElement;\r\nlet zoomOverflowWrapperElement;\r\nlet changeElementPropertiesOnZoomFunc = null;\r\n\r\nlet timesZoomedIn = 0;\r\nlet scrollWheelUsed = false;\r\nlet movedPolygonPathOffsetReduced = false;\r\n\r\nconst reduceShapeSizeRatios = {};\r\nconst increaseShapeSizeRatios = {\r\n  polygon: 0.104, point: 0.1, label: 0.08, bndBox: 0.104, popup: 0.1,\r\n};\r\n\r\nfunction updateShapesPropertiesForZoomOut() {\r\n  _canvas_objects_polygon_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setZoomOutProperties(\r\n    reduceShapeSizeRatios.point, reduceShapeSizeRatios.polygon,\r\n  );\r\n  _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setZoomOutProperties(reduceShapeSizeRatios.label);\r\n  _canvas_objects_boundingBox_properties__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setZoomOutProperties(reduceShapeSizeRatios.bndBox);\r\n}\r\n\r\nfunction calculateNewShapeSizeRatios() {\r\n  _canvas_objects_polygon_properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setZoomInProperties(\r\n    increaseShapeSizeRatios.point, increaseShapeSizeRatios.polygon,\r\n  );\r\n  _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setZoomInProperties(increaseShapeSizeRatios.label);\r\n  _canvas_objects_boundingBox_properties__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setZoomInProperties(increaseShapeSizeRatios.bndBox);\r\n}\r\n\r\nfunction zoomInObjects() {\r\n  calculateNewShapeSizeRatios();\r\n  canvas.forEachObject((iteratedObj) => {\r\n    switch (iteratedObj.shapeName) {\r\n      case 'polygon':\r\n        iteratedObj.strokeWidth -= iteratedObj.strokeWidth * increaseShapeSizeRatios.polygon;\r\n        iteratedObj.labelOffsetTop = iteratedObj.top\r\n        - (iteratedObj.points[0].y - _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].pointOffsetProperties().top);\r\n        break;\r\n      case 'tempPolygon':\r\n      case 'addPointsLine':\r\n        iteratedObj.strokeWidth -= iteratedObj.strokeWidth * increaseShapeSizeRatios.polygon;\r\n        break;\r\n      case 'point':\r\n      case 'invisiblePoint':\r\n      case 'firstPoint':\r\n      case 'tempPoint':\r\n      case 'initialAddPoint':\r\n        iteratedObj.radius -= iteratedObj.radius * increaseShapeSizeRatios.point;\r\n        iteratedObj.strokeWidth -= iteratedObj.strokeWidth * increaseShapeSizeRatios.point;\r\n        if (iteratedObj.polygonMoved) {\r\n          iteratedObj.left -= 0.05;\r\n          iteratedObj.top -= 0.05;\r\n        }\r\n        break;\r\n      case 'label':\r\n        iteratedObj.fontSize -= iteratedObj.fontSize * increaseShapeSizeRatios.label;\r\n        if (iteratedObj.attachedShape === 'polygon') {\r\n          iteratedObj.top += 0.5;\r\n        }\r\n        break;\r\n      case 'bndBox':\r\n        iteratedObj.strokeWidth -= iteratedObj.strokeWidth * increaseShapeSizeRatios.bndBox;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction zoomOutLabel(label) {\r\n  label.fontSize *= reduceShapeSizeRatios.label;\r\n  if (label.attachedShape === 'polygon') {\r\n    label.top -= 0.5;\r\n  }\r\n}\r\n\r\nfunction zoomOutObject(object) {\r\n  switch (object.shapeName) {\r\n    case 'polygon':\r\n      object.strokeWidth *= reduceShapeSizeRatios.polygon;\r\n      object.labelOffsetTop = object.top\r\n      - (object.points[0].y - _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].pointOffsetProperties().top);\r\n      break;\r\n    case 'tempPolygon':\r\n    case 'addPointsLine':\r\n      object.strokeWidth *= reduceShapeSizeRatios.polygon;\r\n      break;\r\n    case 'point':\r\n    case 'invisiblePoint':\r\n    case 'firstPoint':\r\n    case 'tempPoint':\r\n    case 'initialAddPoint':\r\n      object.radius *= reduceShapeSizeRatios.point;\r\n      object.strokeWidth *= reduceShapeSizeRatios.point;\r\n      if (object.polygonMoved) {\r\n        object.left += 0.05;\r\n        object.top += 0.05;\r\n      }\r\n      break;\r\n    case 'label':\r\n      zoomOutLabel(object);\r\n      break;\r\n    case 'bndBox':\r\n      object.strokeWidth *= reduceShapeSizeRatios.bndBox;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction zoomOutObjects() {\r\n  updateShapesPropertiesForZoomOut();\r\n  canvas.forEachObject((iteratedObj) => {\r\n    zoomOutObject(iteratedObj);\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction zoomOutObjectsOnImageSelect(previousShapes, previousLabels) {\r\n  Object.keys(previousShapes).forEach((key) => {\r\n    zoomOutObject(previousShapes[key].shapeRef);\r\n    zoomOutLabel(previousLabels[key]);\r\n  });\r\n}\r\n\r\n// show the zoom percentage as a little fade just like google chrome resolution on resize\r\nfunction displayZoomMetrics() {\r\n  //\r\n}\r\n\r\n// explore zoomToPoint\r\n// option to always highlight\r\n// need to click twice on polygon for points to be above label\r\n\r\nfunction setNewCanvasDimensions(changeElements) {\r\n  let heightOverflowed = false;\r\n  let widthOverflowed = false;\r\n  let newCanvasWidth = imageProperties.width * currentZoom;\r\n  const originalWidth = newCanvasWidth;\r\n  let newCanvasHeight = imageProperties.height * currentZoom;\r\n  const originalHeight = newCanvasHeight;\r\n  if (canvasProperties.maximumCanvasHeight < newCanvasHeight) {\r\n    newCanvasHeight = canvasProperties.maximumCanvasHeight;\r\n    heightOverflowed = true;\r\n  }\r\n  if (canvasProperties.maximumCanvasWidth < newCanvasWidth) {\r\n    newCanvasWidth = canvasProperties.maximumCanvasWidth;\r\n    widthOverflowed = true;\r\n  }\r\n  if (currentZoom === 1) {\r\n    newCanvasWidth = Math.ceil(newCanvasWidth);\r\n    newCanvasHeight = Math.ceil(newCanvasHeight);\r\n  }\r\n  if (changeElements) {\r\n    changeElementPropertiesOnZoomFunc(heightOverflowed, widthOverflowed, originalWidth,\r\n      originalHeight, newCanvasWidth, newCanvasHeight, canvasProperties, currentZoom);\r\n  }\r\n  return !widthOverflowed && !heightOverflowed;\r\n}\r\n\r\nfunction resetObjectsCoordinates() {\r\n  canvas.forEachObject((iteratedObj) => {\r\n    iteratedObj.setCoords();\r\n  });\r\n  canvas.renderAll();\r\n}\r\n\r\nfunction changeCanvas() {\r\n  setNewCanvasDimensions(true);\r\n  resetObjectsCoordinates();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"setCurrentZoomState\"])(currentZoom);\r\n}\r\n\r\nfunction reduceMovePolygonPathOffset() {\r\n  if (currentZoom > 2 && !movedPolygonPathOffsetReduced) {\r\n    Object(_canvas_objects_polygon_alterPolygon_resetCoordinatesAfterMove__WEBPACK_IMPORTED_MODULE_1__[\"changeMovePolygonPathOffset\"])(0.6);\r\n    movedPolygonPathOffsetReduced = true;\r\n  }\r\n}\r\n\r\nfunction increaseMovePolygonPathOffset() {\r\n  if (currentZoom <= 2 && movedPolygonPathOffsetReduced) {\r\n    Object(_canvas_objects_polygon_alterPolygon_resetCoordinatesAfterMove__WEBPACK_IMPORTED_MODULE_1__[\"changeMovePolygonPathOffset\"])(0);\r\n    movedPolygonPathOffsetReduced = false;\r\n  }\r\n}\r\n\r\nfunction resetCanvasToDefault() {\r\n  Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"enableCanvasOuterMargin\"])();\r\n  currentZoom = 1;\r\n  canvas.setZoom(currentZoom);\r\n  while (timesZoomedIn !== 0) {\r\n    timesZoomedIn -= 1;\r\n    zoomOutObjects();\r\n    increaseMovePolygonPathOffset();\r\n  }\r\n  const newFileSizeRatio = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"resizeCanvasAndImage\"])();\r\n  _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updatePolygonOffsetProperties(newFileSizeRatio);\r\n  Object(_canvas_objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_4__[\"resizeAllObjectsDimensionsByDoubleScale\"])(newFileSizeRatio, canvas);\r\n  Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_12__[\"setZoomInButtonToDefault\"])();\r\n  Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_12__[\"setZoomOutButtonToDisabled\"])();\r\n  movedPolygonPathOffsetReduced = false;\r\n}\r\n\r\nfunction zoomOut() {\r\n  if (!stubElement.style.marginTop && imageProperties.scaleX < 1) {\r\n    resetCanvasToDefault();\r\n  } else {\r\n    timesZoomedIn -= 1;\r\n    currentZoom -= 0.2;\r\n    zoomOutObjects();\r\n    increaseMovePolygonPathOffset();\r\n    if (currentZoom < 1.0001) {\r\n      Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"enableCanvasOuterMargin\"])();\r\n      const newFileSizeRatio = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"resizeCanvasAndImage\"])();\r\n      _canvas_objects_label_properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updatePolygonOffsetProperties(newFileSizeRatio);\r\n      Object(_canvas_objects_objectsProperties_changeProperties__WEBPACK_IMPORTED_MODULE_4__[\"resizeAllObjectsDimensionsByDoubleScale\"])(newFileSizeRatio, canvas);\r\n      canvas.setZoom(currentZoom);\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_12__[\"setZoomOutButtonToDisabled\"])();\r\n    } else if (setNewCanvasDimensions() && imageProperties.scaleX < 1) {\r\n      resetCanvasToDefault();\r\n    } else {\r\n      Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_12__[\"setZoomInButtonToDefault\"])();\r\n      canvas.setZoom(currentZoom);\r\n    }\r\n  }\r\n  changeCanvas();\r\n}\r\n\r\nfunction zoomIn() {\r\n  if (currentZoom < 1.0001) Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"removeCanvasOuterMargin\"])();\r\n  timesZoomedIn += 1;\r\n  currentZoom += 0.2;\r\n  canvas.setZoom(currentZoom);\r\n  zoomInObjects();\r\n  reduceMovePolygonPathOffset();\r\n  changeCanvas();\r\n  Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_12__[\"setZoomOutButtonToDefault\"])();\r\n  if (currentZoom >= 3.69999) {\r\n    Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_12__[\"setZoomInButtonToDisabled\"])();\r\n  }\r\n}\r\n\r\nfunction calculateReduceShapeSizeFactor() {\r\n  Object.keys(increaseShapeSizeRatios).forEach((key) => {\r\n    const ratioToOriginalShapeSize = (1 / increaseShapeSizeRatios[key]);\r\n    const originalShapeSizeToReducedShape = ratioToOriginalShapeSize - 1;\r\n    reduceShapeSizeRatios[key] = ratioToOriginalShapeSize / originalShapeSizeToReducedShape;\r\n  });\r\n}\r\n\r\n// first parameter still required?\r\nfunction zoomCanvas(canvasObj, action, windowResize) {\r\n  if (windowResize) {\r\n    canvasProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getCanvasProperties\"])();\r\n    imageProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getImageProperties\"])();\r\n    setNewCanvasDimensions(true);\r\n  } else {\r\n    canvasProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getCanvasProperties\"])();\r\n    imageProperties = Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"getImageProperties\"])();\r\n    calculateReduceShapeSizeFactor();\r\n    if (action === 'in' && currentZoom < 3.7) {\r\n      zoomIn();\r\n    } else if (action === 'out' && currentZoom > 1.0001) {\r\n      zoomOut();\r\n    }\r\n  }\r\n}\r\n\r\nfunction setCanvasElementProperties(left, top) {\r\n  const canvasContainerElement = Object(_canvas_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_11__[\"getCurrentCanvasContainerElement\"])();\r\n  canvasContainerElement.style.left = left || '50%';\r\n  canvasContainerElement.style.top = top || '50%';\r\n}\r\n\r\nfunction setZoomOverFlowElementProperties(width, maxWidth, maxHeight) {\r\n  zoomOverflowElement.style.width = width;\r\n  zoomOverflowElement.style.maxWidth = maxWidth;\r\n  zoomOverflowElement.style.maxHeight = maxHeight;\r\n}\r\n\r\nfunction setZoomOverFlowWrapperElementProperties(width, height, left, marginLeft, marginTop) {\r\n  zoomOverflowWrapperElement.style.width = width;\r\n  zoomOverflowWrapperElement.style.height = height;\r\n  zoomOverflowWrapperElement.style.marginLeft = marginLeft;\r\n  zoomOverflowWrapperElement.style.marginTop = marginTop;\r\n  zoomOverflowWrapperElement.style.left = left || '50%';\r\n}\r\n\r\nfunction setStubElementProperties(width, height, marginLeft, marginTop) {\r\n  stubElement.style.width = width;\r\n  stubElement.style.height = height;\r\n  stubElement.style.marginLeft = marginLeft;\r\n  stubElement.style.marginTop = marginTop;\r\n}\r\n\r\nfunction setDefaultZoomOverflowBackground() {\r\n  zoomOverflowElement.style.backgroundColor = '';\r\n}\r\n\r\nfunction setAllElementPropertiesToDefault(switchImage) {\r\n  setZoomOverFlowElementProperties('', '', '');\r\n  setStubElementProperties('', '', '', '');\r\n  setZoomOverFlowWrapperElementProperties('', '', '', '', '');\r\n  if (!switchImage) {\r\n    setCanvasElementProperties('', '');\r\n  }\r\n  setDefaultZoomOverflowBackground();\r\n}\r\n\r\nfunction resetZoom(switchImage) {\r\n  currentZoom = 1;\r\n  const timesNeededToZoomOut = timesZoomedIn;\r\n  while (timesZoomedIn !== 0) {\r\n    timesZoomedIn -= 1;\r\n    updateShapesPropertiesForZoomOut();\r\n    increaseMovePolygonPathOffset();\r\n  }\r\n  setAllElementPropertiesToDefault(switchImage);\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"setDoubleScrollCanvasState\"])(false);\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"setCurrentZoomState\"])(currentZoom);\r\n  Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_0__[\"enableCanvasOuterMargin\"])();\r\n  Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_12__[\"setZoomOutButtonToDisabled\"])();\r\n  return timesNeededToZoomOut;\r\n}\r\n\r\nfunction zoomOutObjectOnImageSelect(previousShapes, previousLabels, timesToZoomOut) {\r\n  while (timesToZoomOut !== 0) {\r\n    timesToZoomOut -= 1;\r\n    zoomOutObjectsOnImageSelect(previousShapes, previousLabels);\r\n  }\r\n}\r\n\r\nfunction loadCanvasElements(browserSpecificSetterCallback) {\r\n  stubElement = document.getElementById('stub');\r\n  zoomOverflowElement = document.getElementById('zoom-overflow');\r\n  zoomOverflowWrapperElement = document.getElementById('zoom-overflow-wrapper');\r\n  browserSpecificSetterCallback(stubElement, zoomOverflowElement, zoomOverflowWrapperElement);\r\n}\r\n\r\nfunction initialiseZoomVariables(canvasObj) {\r\n  canvas = canvasObj;\r\n  currentZoom = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_6__[\"getCurrentZoomState\"])();\r\n  if (_utils_browserType__WEBPACK_IMPORTED_MODULE_10__[\"default\"]) {\r\n    Object(_zoom_firefox__WEBPACK_IMPORTED_MODULE_9__[\"initialiseVariablesFirefox\"])(canvas);\r\n    loadCanvasElements(_zoom_firefox__WEBPACK_IMPORTED_MODULE_9__[\"setDOMElementsFirefox\"]);\r\n    changeElementPropertiesOnZoomFunc = _zoom_firefox__WEBPACK_IMPORTED_MODULE_9__[\"changeElementPropertiesFirefox\"];\r\n  } else {\r\n    Object(_zoom_chromium__WEBPACK_IMPORTED_MODULE_8__[\"initialiseVariablesChromium\"])(canvas);\r\n    loadCanvasElements(_zoom_chromium__WEBPACK_IMPORTED_MODULE_8__[\"setDOMElementsChromium\"]);\r\n    changeElementPropertiesOnZoomFunc = _zoom_chromium__WEBPACK_IMPORTED_MODULE_8__[\"changeElementPropertiesChromium\"];\r\n  }\r\n}\r\n\r\nfunction initiateZoomOverflowScroll(event) {\r\n  zoomOverflowElement.scrollTop += event.deltaY;\r\n  zoomOverflowElement.scrollTop += event.deltaX;\r\n  scrollWheelUsed = true;\r\n}\r\n\r\nwindow.zoomOverflowScroll = (element) => {\r\n  canvas.viewportTransform[4] = -element.scrollLeft;\r\n  canvas.viewportTransform[5] = -element.scrollTop;\r\n  if (!scrollWheelUsed) {\r\n    Object(_canvas_objects_polygon_polygon__WEBPACK_IMPORTED_MODULE_7__[\"moveDrawCrosshair\"])(element);\r\n  } else {\r\n    scrollWheelUsed = false;\r\n  }\r\n  resetObjectsCoordinates();\r\n};\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkers/zoomWorker.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/buttonClickEvents/facadeWorkersUtils/resetCanvasEvents.js":
/*!****************************************************************************************!*\
  !*** ./src/js/tools/toolkit/buttonClickEvents/facadeWorkersUtils/resetCanvasEvents.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignResetCanvasEventsFuncToMouseEvents; });\n/* harmony import */ var _canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasEventsFacade__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasEventsFacade */ \"./src/js/canvas/mouseInteractions/mouseEvents/resetCanvasUtils/resetCanvasEventsFacade.js\");\n/* harmony import */ var _facade__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../facade */ \"./src/js/tools/toolkit/buttonClickEvents/facade.js\");\n\r\n\r\n\r\nfunction assignResetCanvasEventsFuncToMouseEvents(canvas) {\r\n  Object(_canvas_mouseInteractions_mouseEvents_resetCanvasUtils_resetCanvasEventsFacade__WEBPACK_IMPORTED_MODULE_0__[\"setResetCanvasEventsToDefaultFunc\"])(_facade__WEBPACK_IMPORTED_MODULE_1__[\"resetCanvasEventsToDefault\"], canvas);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/buttonClickEvents/facadeWorkersUtils/resetCanvasEvents.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/init.js":
/*!**************************************!*\
  !*** ./src/js/tools/toolkit/init.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseToolkit; });\n/* harmony import */ var _styling_stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _buttonClickEvents_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buttonClickEvents/buttonClickEvents */ \"./src/js/tools/toolkit/buttonClickEvents/buttonClickEvents.js\");\n\r\n\r\n\r\nfunction initialiseToolkit() {\r\n  Object(_styling_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"initiateToolkitButtonsStyling\"])();\r\n  Object(_buttonClickEvents_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/init.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/styling/stateMachine.js":
/*!******************************************************!*\
  !*** ./src/js/tools/toolkit/styling/stateMachine.js ***!
  \******************************************************/
/*! exports provided: getAddPointsButtonState, getEditShapesButtonState, setZoomInButtonToDefault, setZoomInButtonToDisabled, setZoomOutButtonToDefault, getRemovePointsButtonState, setZoomOutButtonToDisabled, setAddPointsButtonToActive, getCreatePolygonButtonState, setAddPointsButtonToDefault, setEditShapesButtonToActive, setRemoveImagesButtonDefault, setEditShapesButtonToDefault, setRemovePointsButtonToActive, setEditShapesButtonToDisabled, initiateToolkitButtonsStyling, setRemoveShapeButtonToDefault, setRemoveShapeButtonToDisabled, setRemoveImagesButtonsDisabled, setRemovePointsButtonToDefault, setCreatePolygonButtonToActive, getCreateBoundingBoxButtonState, setCreatePolygonButtonToDefault, setCreatePolygonButtonToDisabled, setPolygonEditingButtonsToDefault, setPolygonEditingButtonsToDisabled, setCreateBoundingBoxButtonToActive, setCreateBoundingBoxButtonToDefault, setCreateBoundingBoxButtonToDisabled */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAddPointsButtonState\", function() { return getAddPointsButtonState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEditShapesButtonState\", function() { return getEditShapesButtonState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setZoomInButtonToDefault\", function() { return setZoomInButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setZoomInButtonToDisabled\", function() { return setZoomInButtonToDisabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setZoomOutButtonToDefault\", function() { return setZoomOutButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRemovePointsButtonState\", function() { return getRemovePointsButtonState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setZoomOutButtonToDisabled\", function() { return setZoomOutButtonToDisabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAddPointsButtonToActive\", function() { return setAddPointsButtonToActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCreatePolygonButtonState\", function() { return getCreatePolygonButtonState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAddPointsButtonToDefault\", function() { return setAddPointsButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEditShapesButtonToActive\", function() { return setEditShapesButtonToActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemoveImagesButtonDefault\", function() { return setRemoveImagesButtonDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEditShapesButtonToDefault\", function() { return setEditShapesButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemovePointsButtonToActive\", function() { return setRemovePointsButtonToActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEditShapesButtonToDisabled\", function() { return setEditShapesButtonToDisabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initiateToolkitButtonsStyling\", function() { return initiateToolkitButtonsStyling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemoveShapeButtonToDefault\", function() { return setRemoveShapeButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemoveShapeButtonToDisabled\", function() { return setRemoveShapeButtonToDisabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemoveImagesButtonsDisabled\", function() { return setRemoveImagesButtonsDisabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRemovePointsButtonToDefault\", function() { return setRemovePointsButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCreatePolygonButtonToActive\", function() { return setCreatePolygonButtonToActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCreateBoundingBoxButtonState\", function() { return getCreateBoundingBoxButtonState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCreatePolygonButtonToDefault\", function() { return setCreatePolygonButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCreatePolygonButtonToDisabled\", function() { return setCreatePolygonButtonToDisabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPolygonEditingButtonsToDefault\", function() { return setPolygonEditingButtonsToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPolygonEditingButtonsToDisabled\", function() { return setPolygonEditingButtonsToDisabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCreateBoundingBoxButtonToActive\", function() { return setCreateBoundingBoxButtonToActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCreateBoundingBoxButtonToDefault\", function() { return setCreateBoundingBoxButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCreateBoundingBoxButtonToDisabled\", function() { return setCreateBoundingBoxButtonToDisabled; });\n/* harmony import */ var _styling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styling */ \"./src/js/tools/toolkit/styling/styling.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../canvas/objects/allShapes/allShapes */ \"./src/js/canvas/objects/allShapes/allShapes.js\");\n\r\n\r\n\r\n\r\nconst state = { ACTIVE: 'active', DEFAULT: 'default', DISABLED: 'disabled' };\r\nlet removePointsState = state.DEFAULT;\r\nlet addPointsState = state.DEFAULT;\r\nlet createBoundingBoxState = state.DEFAULT;\r\nlet createPolygonState = state.DEFAULT;\r\nlet editShapesState = state.DEFAULT;\r\nlet removePolygonPointsButtonElement = null;\r\nlet addPolygonPointsButtonElement = null;\r\nlet removeShapeButtonElement = null;\r\nlet editShapesButtonElement = null;\r\nlet zoomInButtonElement = null;\r\nlet zoomOutButtonElement = null;\r\nlet createBoundingBoxButtonElement = null;\r\nlet createPolygonButtonElement = null;\r\nlet removeImagesButtonElement = null;\r\n\r\nfunction polygonsPresentInCurrentImage() {\r\n  const currentShapes = Object(_canvas_objects_allShapes_allShapes__WEBPACK_IMPORTED_MODULE_2__[\"getAllExistingShapes\"])();\r\n  const shapeIds = Object.keys(currentShapes);\r\n  for (let i = 0; i < shapeIds.length; i += 1) {\r\n    if (currentShapes[shapeIds[i]].shapeRef.shapeName === 'polygon') return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction setEditShapesButtonToDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDefault\"])(editShapesButtonElement);\r\n  editShapesState = state.DEFAULT;\r\n}\r\n\r\nfunction setEditShapesButtonToDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(editShapesButtonElement);\r\n  editShapesState = state.DISABLED;\r\n}\r\n\r\nfunction getEditShapesButtonState() {\r\n  return editShapesState;\r\n}\r\n\r\nfunction setCreateBoundingBoxButtonToDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDefault\"])(createBoundingBoxButtonElement);\r\n  createBoundingBoxState = state.DEFAULT;\r\n}\r\n\r\nfunction setCreateBoundingBoxButtonToDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(createBoundingBoxButtonElement);\r\n  createBoundingBoxState = state.DISABLED;\r\n}\r\n\r\nfunction getCreateBoundingBoxButtonState() {\r\n  return createBoundingBoxState;\r\n}\r\n\r\nfunction setCreatePolygonButtonToDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDefault\"])(createPolygonButtonElement);\r\n  createPolygonState = state.DEFAULT;\r\n}\r\n\r\nfunction setCreatePolygonButtonToDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(createPolygonButtonElement);\r\n  createPolygonState = state.DISABLED;\r\n}\r\n\r\nfunction getCreatePolygonButtonState() {\r\n  return createPolygonState;\r\n}\r\n\r\nfunction setRemoveImagesButtonDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToGreyDefault\"])(removeImagesButtonElement);\r\n}\r\n\r\nfunction setRemoveImagesButtonsDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(removeImagesButtonElement);\r\n}\r\n\r\nfunction setAddPointsDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDefault\"])(addPolygonPointsButtonElement);\r\n  addPointsState = state.DEFAULT;\r\n}\r\n\r\nfunction setAddPointsDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(addPolygonPointsButtonElement);\r\n  addPointsState = state.DISABLED;\r\n}\r\n\r\nfunction setAddPointsActive() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToActive\"])(addPolygonPointsButtonElement);\r\n  addPointsState = state.ACTIVE;\r\n}\r\n\r\nfunction getAddPointsButtonState() {\r\n  return addPointsState;\r\n}\r\n\r\nfunction setRemovePointsDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDefault\"])(removePolygonPointsButtonElement);\r\n  removePointsState = state.DEFAULT;\r\n}\r\n\r\nfunction setRemovePointsDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(removePolygonPointsButtonElement);\r\n  removePointsState = state.DISABLED;\r\n}\r\n\r\nfunction setRemovePointsActive() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToActive\"])(removePolygonPointsButtonElement);\r\n  removePointsState = state.ACTIVE;\r\n}\r\n\r\nfunction getRemovePointsButtonState() {\r\n  return removePointsState;\r\n}\r\n\r\nfunction setRemoveShapeButtonToDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDefault\"])(removeShapeButtonElement);\r\n}\r\n\r\nfunction setRemoveShapeButtonToDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(removeShapeButtonElement);\r\n}\r\n\r\nfunction setZoomInButtonToDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDefault\"])(zoomInButtonElement);\r\n}\r\n\r\nfunction setZoomInButtonToDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(zoomInButtonElement);\r\n}\r\n\r\nfunction setZoomOutButtonToDefault() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDefault\"])(zoomOutButtonElement);\r\n}\r\n\r\nfunction setZoomOutButtonToDisabled() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToDisabled\"])(zoomOutButtonElement);\r\n}\r\n\r\nfunction setPolygonEditingButtonsToDisabled() {\r\n  if (!polygonsPresentInCurrentImage()) {\r\n    setRemovePointsDisabled();\r\n    setAddPointsDisabled();\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction setAddPointsButtonToDefault() {\r\n  if (polygonsPresentInCurrentImage() && !Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonDrawingInProgressState\"])()) {\r\n    setAddPointsDefault();\r\n  } else {\r\n    setAddPointsDisabled();\r\n  }\r\n}\r\n\r\nfunction setRemovePointsButtonToDefault() {\r\n  if (polygonsPresentInCurrentImage() || Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonDrawingInProgressState\"])()) {\r\n    setRemovePointsDefault();\r\n  } else {\r\n    setRemovePointsDisabled();\r\n  }\r\n}\r\n\r\nfunction setPolygonEditingButtonsToDefault() {\r\n  setAddPointsButtonToDefault();\r\n  setRemovePointsButtonToDefault();\r\n}\r\n\r\nfunction setCreatePolygonButtonToActive() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToActive\"])(createPolygonButtonElement);\r\n  createPolygonState = state.ACTIVE;\r\n  if (createBoundingBoxState === state.ACTIVE) setCreateBoundingBoxButtonToDefault();\r\n  if (editShapesState === state.ACTIVE) setEditShapesButtonToDefault();\r\n}\r\n\r\nfunction setEditShapesButtonToActive() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToActive\"])(editShapesButtonElement);\r\n  editShapesState = state.ACTIVE;\r\n  if (createBoundingBoxState === state.ACTIVE) setCreateBoundingBoxButtonToDefault();\r\n  if (createPolygonState === state.ACTIVE) setCreatePolygonButtonToDefault();\r\n}\r\n\r\nfunction setCreateBoundingBoxButtonToActive() {\r\n  Object(_styling__WEBPACK_IMPORTED_MODULE_0__[\"setButtonToActive\"])(createBoundingBoxButtonElement);\r\n  createBoundingBoxState = state.ACTIVE;\r\n  if (editShapesState === state.ACTIVE) setEditShapesButtonToDefault();\r\n  if (createPolygonState === state.ACTIVE) setCreatePolygonButtonToDefault();\r\n}\r\n\r\nfunction setAddPointsButtonToActive() {\r\n  setAddPointsActive();\r\n  if (createBoundingBoxState === state.ACTIVE) setCreateBoundingBoxButtonToDefault();\r\n  if (createPolygonState === state.ACTIVE) setCreatePolygonButtonToDefault();\r\n  if (removePointsState === state.ACTIVE) setRemovePointsDefault();\r\n}\r\n\r\nfunction setRemovePointsButtonToActive() {\r\n  setRemovePointsActive();\r\n  if (createBoundingBoxState === state.ACTIVE) setCreateBoundingBoxButtonToDefault();\r\n  if (createPolygonState === state.ACTIVE\r\n    && !Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getPolygonDrawingInProgressState\"])()) setCreatePolygonButtonToDefault();\r\n  if (addPointsState === state.ACTIVE) setAddPointsDefault();\r\n}\r\n\r\nfunction setInitialToolkitButtonStyling() {\r\n  setAddPointsDisabled();\r\n  setRemovePointsDisabled();\r\n  setZoomInButtonToDisabled();\r\n  setZoomOutButtonToDisabled();\r\n  setEditShapesButtonToDisabled();\r\n  setRemoveImagesButtonsDisabled();\r\n  setCreatePolygonButtonToActive();\r\n  setRemoveShapeButtonToDisabled();\r\n  setCreatePolygonButtonToDisabled();\r\n  setCreateBoundingBoxButtonToDisabled();\r\n}\r\n\r\nfunction identifyToolkitButtons() {\r\n  editShapesButtonElement = document.getElementById('edit-shapes-button');\r\n  removePolygonPointsButtonElement = document.getElementById('remove-points-button');\r\n  addPolygonPointsButtonElement = document.getElementById('add-points-button');\r\n  removeShapeButtonElement = document.getElementById('remove-shape-button');\r\n  zoomInButtonElement = document.getElementById('zoom-in-button');\r\n  zoomOutButtonElement = document.getElementById('zoom-out-button');\r\n  createBoundingBoxButtonElement = document.getElementById('create-bounding-box-button');\r\n  createPolygonButtonElement = document.getElementById('create-polygon-button');\r\n  removeImagesButtonElement = document.getElementById('remove-images-button');\r\n}\r\n\r\nfunction initiateToolkitButtonsStyling() {\r\n  identifyToolkitButtons();\r\n  setInitialToolkitButtonStyling();\r\n}\r\n\r\n\r\n\r\n\r\n// function getSetterFunc(newState) {\r\n//   if (newState === state.ACTIVE) {\r\n//     return setButtonToActive;\r\n//   }\r\n//   if (newState === state.DEFAULT) {\r\n//     return setButtonToDefault;\r\n//   }\r\n//   return setButtonToDisabled;\r\n// }\r\n\r\n// function setPolygonEditingButtonsState(newState) {\r\n//   const setterFunc = getSetterFunc(state);\r\n//   setterFunc(removePolygonPointsButtonElement);\r\n//   removePointsState = newState;\r\n//   setterFunc(addPolygonPointsButtonElement);\r\n//   addPointsState = newState;\r\n// }\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/styling/stateMachine.js?");

/***/ }),

/***/ "./src/js/tools/toolkit/styling/styling.js":
/*!*************************************************!*\
  !*** ./src/js/tools/toolkit/styling/styling.js ***!
  \*************************************************/
/*! exports provided: setButtonToDefault, setButtonToDisabled, setButtonToActive, setButtonToGreyDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setButtonToDefault\", function() { return setButtonToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setButtonToDisabled\", function() { return setButtonToDisabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setButtonToActive\", function() { return setButtonToActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setButtonToGreyDefault\", function() { return setButtonToGreyDefault; });\nconst INDEX_OF_BUTTON_STATE_CLASS = 1;\r\n\r\nfunction isElement(element) {\r\n  return element instanceof Element || element instanceof HTMLDocument;\r\n}\r\n\r\nfunction setButtonToActive(button) {\r\n  if (isElement(button) && button.classList[INDEX_OF_BUTTON_STATE_CLASS] === 'toolkit-button-active') return;\r\n  button.classList.replace(button.classList[1], 'toolkit-button-active');\r\n  button.childNodes[INDEX_OF_BUTTON_STATE_CLASS].style.filter = 'invert(54%) sepia(52%) saturate(682%) hue-rotate(163deg) brightness(95%) contrast(87%)';\r\n  // 'invert(77%) sepia(0%) saturate(716%) hue-rotate(155deg) brightness(92%) contrast(83%)';\r\n  // filter: invert(65%) sepia(86%) saturate(962%) hue-rotate(165deg) brightness(92%) contrast(95%);\r\n  // filter: invert(84%) sepia(34%) saturate(5416%) hue-rotate(165deg) brightness(97%) contrast(96%);\r\n  // filter: invert(65%) sepia(14%) saturate(4825%) hue-rotate(172deg) brightness(109%) contrast(92%);\r\n  // filter: invert(57%) sepia(80%) saturate(406%) hue-rotate(165deg) brightness(89%) contrast(91%);\r\n  // filter: invert(72%) sepia(43%) saturate(5332%) hue-rotate(179deg) brightness(103%) contrast(101%);\r\n  // filter: invert(78%) sepia(33%) saturate(7497%) hue-rotate(176deg) brightness(99%) contrast(95%);\r\n  // filter: invert(54%) sepia(52%) saturate(682%) hue-rotate(163deg) brightness(95%) contrast(87%);\r\n  button.style.backgroundColor = '#f1f5fd';\r\n}\r\n\r\nfunction setButtonToDefault(button) {\r\n  if (isElement(button) && button.classList[INDEX_OF_BUTTON_STATE_CLASS] === 'toolkit-button-default') return;\r\n  button.classList.replace(button.classList[1], 'toolkit-button-default');\r\n  button.childNodes[INDEX_OF_BUTTON_STATE_CLASS].style.filter = '';\r\n  button.style.backgroundColor = '';\r\n}\r\n\r\nfunction setButtonToGreyDefault(button) {\r\n  if (isElement(button) && button.classList[INDEX_OF_BUTTON_STATE_CLASS] === 'toolkit-button-default') return;\r\n  button.classList.replace(button.classList[1], 'toolkit-button-default');\r\n  button.childNodes[INDEX_OF_BUTTON_STATE_CLASS].style.filter = 'invert(42%) sepia(0%) saturate(1409%) hue-rotate(134deg) brightness(100%) contrast(77%)';\r\n  // filter: invert(49%) sepia(0%) saturate(1%) hue-rotate(200deg) brightness(88%) contrast(87%);\r\n  // filter: invert(42%) sepia(0%) saturate(1409%) hue-rotate(134deg) brightness(100%) contrast(77%);\r\n  button.style.backgroundColor = '';\r\n}\r\n\r\nfunction setButtonToDisabled(button) {\r\n  if (isElement(button) && button.classList[INDEX_OF_BUTTON_STATE_CLASS] === 'toolkit-button-disabled') return;\r\n  button.classList.replace(button.classList[1], 'toolkit-button-disabled');\r\n  button.childNodes[INDEX_OF_BUTTON_STATE_CLASS].style.filter = 'invert(77%) sepia(0%) saturate(716%) hue-rotate(155deg) brightness(92%) contrast(83%)';\r\n  // invert(79%) sepia(6%) saturate(211%) hue-rotate(169deg) brightness(82%) contrast(88%)\r\n  // invert(85%) sepia(10%) saturate(143%) hue-rotate(165deg) brightness(85%) contrast(81%)\r\n  button.style.backgroundColor = '';\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/toolkit/styling/styling.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/consts.js":
/*!****************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/consts.js ***!
  \****************************************************/
/*! exports provided: ONE_ANNOTATION_FILE_ALLOWED_ERROR_MESSAGE, ONE_CLASSES_FILE_ALLOWED_ERROR_MESSAGE, ANNOTATION_FILE_INDICATOR, CLASSES_FILE_INDICATOR, IMAGE_FILE_INDICATOR, CLASSES_TABLE_INDICATOR, ANNOTATIONS_TABLE_INDICATOR, IMAGES_TABLE_INDICATOR, ACTIVE_ANNOTATION_FILE, VALID_ANNOTATION_FILES_ARRAY, FALTY_ANNOTATION_FILES_ARRAY, CLASSES_FILES_ARRAY, ACTIVE_CLASSES_FILE, IMAGE_FILES_OBJECT, COCO_JSON_FORMAT, VGG_JSON_FORMAT, CSV_FORMAT, VOC_XML_FORMAT, YOLO_TXT_FORMAT, ACCEPT_JSON_AND_IMG_FILES, ACCEPT_CSV_AND_IMG_FILES, ACCEPT_XML_AND_IMG_FILES, ACCEPT_TXT_AND_IMG_FILES, JSON_POSTFIX, XML_POSTFIX, TXT_POSTFIX, CSV_POSTFIX, TWO_TABLE_STRATEGY, THREE_TABLE_STRATEGY, PROPERTIES_STRING, ATTRIBUTES_STRING, TAGS_STRING */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ONE_ANNOTATION_FILE_ALLOWED_ERROR_MESSAGE\", function() { return ONE_ANNOTATION_FILE_ALLOWED_ERROR_MESSAGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ONE_CLASSES_FILE_ALLOWED_ERROR_MESSAGE\", function() { return ONE_CLASSES_FILE_ALLOWED_ERROR_MESSAGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANNOTATION_FILE_INDICATOR\", function() { return ANNOTATION_FILE_INDICATOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CLASSES_FILE_INDICATOR\", function() { return CLASSES_FILE_INDICATOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IMAGE_FILE_INDICATOR\", function() { return IMAGE_FILE_INDICATOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CLASSES_TABLE_INDICATOR\", function() { return CLASSES_TABLE_INDICATOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANNOTATIONS_TABLE_INDICATOR\", function() { return ANNOTATIONS_TABLE_INDICATOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IMAGES_TABLE_INDICATOR\", function() { return IMAGES_TABLE_INDICATOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACTIVE_ANNOTATION_FILE\", function() { return ACTIVE_ANNOTATION_FILE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VALID_ANNOTATION_FILES_ARRAY\", function() { return VALID_ANNOTATION_FILES_ARRAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FALTY_ANNOTATION_FILES_ARRAY\", function() { return FALTY_ANNOTATION_FILES_ARRAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CLASSES_FILES_ARRAY\", function() { return CLASSES_FILES_ARRAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACTIVE_CLASSES_FILE\", function() { return ACTIVE_CLASSES_FILE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IMAGE_FILES_OBJECT\", function() { return IMAGE_FILES_OBJECT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"COCO_JSON_FORMAT\", function() { return COCO_JSON_FORMAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VGG_JSON_FORMAT\", function() { return VGG_JSON_FORMAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CSV_FORMAT\", function() { return CSV_FORMAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VOC_XML_FORMAT\", function() { return VOC_XML_FORMAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"YOLO_TXT_FORMAT\", function() { return YOLO_TXT_FORMAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACCEPT_JSON_AND_IMG_FILES\", function() { return ACCEPT_JSON_AND_IMG_FILES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACCEPT_CSV_AND_IMG_FILES\", function() { return ACCEPT_CSV_AND_IMG_FILES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACCEPT_XML_AND_IMG_FILES\", function() { return ACCEPT_XML_AND_IMG_FILES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACCEPT_TXT_AND_IMG_FILES\", function() { return ACCEPT_TXT_AND_IMG_FILES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JSON_POSTFIX\", function() { return JSON_POSTFIX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XML_POSTFIX\", function() { return XML_POSTFIX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TXT_POSTFIX\", function() { return TXT_POSTFIX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CSV_POSTFIX\", function() { return CSV_POSTFIX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TWO_TABLE_STRATEGY\", function() { return TWO_TABLE_STRATEGY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"THREE_TABLE_STRATEGY\", function() { return THREE_TABLE_STRATEGY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PROPERTIES_STRING\", function() { return PROPERTIES_STRING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ATTRIBUTES_STRING\", function() { return ATTRIBUTES_STRING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TAGS_STRING\", function() { return TAGS_STRING; });\nconst ONE_ANNOTATION_FILE_ALLOWED_ERROR_MESSAGE = 'Only one annotation file is allowed per dataset (app version 1.0)';\r\nconst ONE_CLASSES_FILE_ALLOWED_ERROR_MESSAGE = 'Only one classes file is allowed per dataset (app version 1.0)';\r\nconst ANNOTATION_FILE_INDICATOR = 'annotation';\r\nconst CLASSES_FILE_INDICATOR = 'classes';\r\nconst IMAGE_FILE_INDICATOR = 'image';\r\nconst CLASSES_TABLE_INDICATOR = 'classes';\r\nconst ANNOTATIONS_TABLE_INDICATOR = 'annotations';\r\nconst IMAGES_TABLE_INDICATOR = 'images';\r\nconst ACTIVE_ANNOTATION_FILE = 'activeAnnotationFile';\r\nconst VALID_ANNOTATION_FILES_ARRAY = 'validAnnotationFiles';\r\nconst FALTY_ANNOTATION_FILES_ARRAY = 'faltyAnnotationFiles';\r\nconst CLASSES_FILES_ARRAY = 'classesFiles';\r\nconst ACTIVE_CLASSES_FILE = 'activeClassesFile';\r\nconst IMAGE_FILES_OBJECT = 'imageFiles';\r\nconst COCO_JSON_FORMAT = 'COCO JSON';\r\nconst VGG_JSON_FORMAT = 'VGG JSON';\r\nconst CSV_FORMAT = 'CSV';\r\nconst VOC_XML_FORMAT = 'VOC XML';\r\nconst YOLO_TXT_FORMAT = 'YOLO TXT';\r\nconst ACCEPT_JSON_AND_IMG_FILES = '.json, image/*';\r\nconst ACCEPT_CSV_AND_IMG_FILES = '.csv, image/*';\r\nconst ACCEPT_XML_AND_IMG_FILES = '.xml, image/*';\r\nconst ACCEPT_TXT_AND_IMG_FILES = '.txt, image/*';\r\nconst JSON_POSTFIX = '.json';\r\nconst XML_POSTFIX = '.xml';\r\nconst TXT_POSTFIX = '.txt';\r\nconst CSV_POSTFIX = '.csv';\r\nconst TWO_TABLE_STRATEGY = 'two tables';\r\nconst THREE_TABLE_STRATEGY = 'three tables';\r\nconst PROPERTIES_STRING = 'properties';\r\nconst ATTRIBUTES_STRING = 'attributes';\r\nconst TAGS_STRING = 'tag(s)';\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/consts.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/stateMachine.js":
/*!**********************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/stateMachine.js ***!
  \**********************************************************/
/*! exports provided: setFormatState, getFormatState, getAvailableFormats, setAllStatesToDefault, setReuseAlreadyUploadedImagesState, getReuseAlreadyUploadedImagesState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFormatState\", function() { return setFormatState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFormatState\", function() { return getFormatState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAvailableFormats\", function() { return getAvailableFormats; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAllStatesToDefault\", function() { return setAllStatesToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setReuseAlreadyUploadedImagesState\", function() { return setReuseAlreadyUploadedImagesState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getReuseAlreadyUploadedImagesState\", function() { return getReuseAlreadyUploadedImagesState; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\nconst availableFormats = [\r\n  _consts__WEBPACK_IMPORTED_MODULE_0__[\"COCO_JSON_FORMAT\"],\r\n  _consts__WEBPACK_IMPORTED_MODULE_0__[\"VGG_JSON_FORMAT\"],\r\n  _consts__WEBPACK_IMPORTED_MODULE_0__[\"CSV_FORMAT\"],\r\n  _consts__WEBPACK_IMPORTED_MODULE_0__[\"VOC_XML_FORMAT\"],\r\n  _consts__WEBPACK_IMPORTED_MODULE_0__[\"YOLO_TXT_FORMAT\"],\r\n];\r\nconst defaultState = _consts__WEBPACK_IMPORTED_MODULE_0__[\"COCO_JSON_FORMAT\"];\r\nlet currentlySelectedFormat = defaultState;\r\nlet reuseAlreadyUploadedImages = false;\r\n\r\nfunction setFormatState(formatState) {\r\n  currentlySelectedFormat = currentlySelectedFormat === formatState ? defaultState : formatState;\r\n}\r\n\r\nfunction setReuseAlreadyUploadedImagesState(reuseAlreadyUploadedImagesState) {\r\n  reuseAlreadyUploadedImages = reuseAlreadyUploadedImagesState;\r\n}\r\n\r\nfunction getFormatState() {\r\n  return currentlySelectedFormat;\r\n}\r\n\r\nfunction getReuseAlreadyUploadedImagesState() {\r\n  return reuseAlreadyUploadedImages;\r\n}\r\n\r\nfunction getAvailableFormats() {\r\n  return availableFormats;\r\n}\r\n\r\nfunction setAllStatesToDefault() {\r\n  currentlySelectedFormat = defaultState;\r\n  reuseAlreadyUploadedImages = false;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/stateMachine.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/description/buttonEvents.js":
/*!****************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/description/buttonEvents.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerButtonEventHandlers; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/uploadDatasetsModal/views/description/style.js\");\n\r\n\r\nfunction moveToNextView(nextViewCallback) {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideDescriptionViewAssets\"])();\r\n  nextViewCallback();\r\n}\r\n\r\nfunction registerButtonEventHandlers(nextViewCallback) {\r\n  window.moveToSelectFormatView = moveToNextView.bind(\r\n    this, nextViewCallback,\r\n  );\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/description/buttonEvents.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/description/style.js":
/*!*********************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/description/style.js ***!
  \*********************************************************************/
/*! exports provided: assignDescriptionViewLocalVariables, prepareDescriptionView, hideDescriptionViewAssets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignDescriptionViewLocalVariables\", function() { return assignDescriptionViewLocalVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareDescriptionView\", function() { return prepareDescriptionView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideDescriptionViewAssets\", function() { return hideDescriptionViewAssets; });\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\nlet descriptionElement = null;\r\nlet startButtonElement = null;\r\nlet cancelButtonElement = null;\r\nlet buttonsGroupElement = null;\r\n\r\nfunction displayCancelButtonElement() {\r\n  cancelButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideCancelButtonElement() {\r\n  cancelButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction displayStartButtonElement() {\r\n  startButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideStartButtonElement() {\r\n  startButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction moveButtonsGroupElementToLowerPosition() {\r\n  buttonsGroupElement.style.marginTop = `${18 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction displayDescription() {\r\n  descriptionElement.style.display = '';\r\n}\r\n\r\nfunction hideDescriptionElement() {\r\n  descriptionElement.style.display = 'none';\r\n}\r\n\r\nfunction moveDescriptionToLowerPosition() {\r\n  descriptionElement.style.marginTop = `${20 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction getDefaultDescriptionMarkup() {\r\n  return `\r\n    Upload existing images/datasets and continue working on them in MyVision.\r\n    <br>\r\n    <div class=\"upload-datasets-modal-description-break\"></div>\r\n    It is important to note that everything you upload will never leave the privacy of your computer.`;\r\n}\r\n\r\nfunction prepareDescriptionView() {\r\n  descriptionElement.innerHTML = getDefaultDescriptionMarkup();\r\n  displayDescription();\r\n  moveDescriptionToLowerPosition();\r\n  displayStartButtonElement();\r\n  moveButtonsGroupElementToLowerPosition();\r\n  displayCancelButtonElement();\r\n}\r\n\r\nfunction hideDescriptionViewAssets() {\r\n  hideStartButtonElement();\r\n  hideDescriptionElement();\r\n  hideCancelButtonElement();\r\n}\r\n\r\nfunction assignDescriptionViewLocalVariables() {\r\n  descriptionElement = document.getElementById('upload-datasets-modal-description');\r\n  startButtonElement = document.getElementById('upload-datasets-modal-start-button');\r\n  cancelButtonElement = document.getElementById('upload-datasets-modal-cancel-button');\r\n  buttonsGroupElement = document.getElementById('upload-datasets-modal-buttons');\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/description/style.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/selectFormat/buttonEvents.js":
/*!*****************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/selectFormat/buttonEvents.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerButtonEventHandlers; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/uploadDatasetsModal/views/selectFormat/style.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n\r\n\r\n\r\nfunction moveToNextView(nextViewCallback) {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideSelectFormatViewAssets\"])();\r\n  nextViewCallback();\r\n}\r\n\r\nfunction setFormat(format, targetElement) {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"selectFormat\"])(targetElement);\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setFormatState\"])(format);\r\n}\r\n\r\nfunction registerButtonEventHandlers(nextViewCallback) {\r\n  window.moveToUploadDatasetsView = moveToNextView.bind(\r\n    this, nextViewCallback,\r\n  );\r\n  window.selectUploadDatasetsFormat = setFormat;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/selectFormat/buttonEvents.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/selectFormat/style.js":
/*!**********************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/selectFormat/style.js ***!
  \**********************************************************************/
/*! exports provided: assignSelectFormatViewLocalVariables, selectFormat, populateFormatsTable, hideSelectFormatViewAssets, prepareSelectFormatView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignSelectFormatViewLocalVariables\", function() { return assignSelectFormatViewLocalVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectFormat\", function() { return selectFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"populateFormatsTable\", function() { return populateFormatsTable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideSelectFormatViewAssets\", function() { return hideSelectFormatViewAssets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareSelectFormatView\", function() { return prepareSelectFormatView; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\n\r\nlet descriptionElement = null;\r\nlet cancelButtonElement = null;\r\nlet buttonsGroupElement = null;\r\nlet nextButtonElement = null;\r\nlet tableElement = null;\r\nlet selectFormatOuterContainerElement = null;\r\n\r\nlet isCheckboxSelected = false;\r\nlet isNextButtonActive = false;\r\nlet formatsTablePopulated = false;\r\nlet currentlySelectedCheckboxElement = null;\r\n\r\nconst PROCEED_BUTTON_CLASS = 'popup-proceed-button';\r\nconst ACTIVE_BUTTON_CLASS = 'popup-label-button';\r\nconst DISABLED_BUTTON_CLASS = 'popup-label-button-disabled';\r\n\r\nfunction enableExportButton() {\r\n  if (!isNextButtonActive) {\r\n    nextButtonElement.classList.add(PROCEED_BUTTON_CLASS);\r\n    nextButtonElement.classList.replace(DISABLED_BUTTON_CLASS, ACTIVE_BUTTON_CLASS);\r\n    isNextButtonActive = true;\r\n  }\r\n}\r\n\r\nfunction disableExportButton() {\r\n  nextButtonElement.classList.remove(PROCEED_BUTTON_CLASS);\r\n  nextButtonElement.classList.replace(ACTIVE_BUTTON_CLASS, DISABLED_BUTTON_CLASS);\r\n  isNextButtonActive = false;\r\n}\r\n\r\nfunction uncheckCurrentlySelectedCheckbox() {\r\n  currentlySelectedCheckboxElement.checked = false;\r\n}\r\n\r\nfunction selectFormat(target) {\r\n  if (!isCheckboxSelected) {\r\n    currentlySelectedCheckboxElement = target;\r\n    enableExportButton();\r\n    isCheckboxSelected = true;\r\n  } else if (target === currentlySelectedCheckboxElement) {\r\n    isCheckboxSelected = false;\r\n    disableExportButton();\r\n  } else {\r\n    uncheckCurrentlySelectedCheckbox();\r\n    currentlySelectedCheckboxElement = target;\r\n  }\r\n}\r\n\r\nfunction displaySelectFormatOuterContainerElementView() {\r\n  selectFormatOuterContainerElement.style.display = '';\r\n}\r\n\r\nfunction hideSelectFormatOuterContainerElement() {\r\n  selectFormatOuterContainerElement.style.display = 'none';\r\n}\r\n\r\nfunction displayCancelButtonElement() {\r\n  cancelButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideCancelButtonElement() {\r\n  cancelButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction displayNextButtonElement() {\r\n  nextButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideNextButtonElement() {\r\n  nextButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction hideDescriptionElement() {\r\n  descriptionElement.style.display = 'none';\r\n}\r\n\r\nfunction setButtonGroupElementMarginTop(length) {\r\n  buttonsGroupElement.style.marginTop = `${length / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction resetButtonGroupElementMarginTop() {\r\n  buttonsGroupElement.style.marginTop = '';\r\n}\r\n\r\nfunction createTableRow(format, index) {\r\n  const paddingTop = index === 2 ? 5 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])() : 3 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_1__[\"getScreenSizeDelta\"])();\r\n  return `\r\n    <td style=\"padding-top: ${paddingTop}px\" class=\"data-format-table-row-data\">\r\n      <div class=\"checkbox-text format-option-text upload-data-format-row-text\">\r\n        ${format}\r\n      </div>\r\n      <input class=\"checkbox upload-datasets-format-checkbox\" type=\"checkbox\" name=\"something\" onclick=\"selectUploadDatasetsFormat('${format}', this)\">\r\n    </td>\r\n  `;\r\n}\r\n\r\nfunction populateFormatsTable(formats) {\r\n  formats.forEach((format, index) => {\r\n    const row = tableElement.insertRow(-1);\r\n    row.innerHTML = createTableRow(format, index);\r\n  });\r\n  formatsTablePopulated = true;\r\n}\r\n\r\nfunction prepareSelectFormatView() {\r\n  displayNextButtonElement();\r\n  setButtonGroupElementMarginTop(5);\r\n  displayCancelButtonElement();\r\n  if (!formatsTablePopulated) { populateFormatsTable(Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"getAvailableFormats\"])()); }\r\n  displaySelectFormatOuterContainerElementView();\r\n}\r\n\r\nfunction hideSelectFormatViewAssets() {\r\n  hideNextButtonElement();\r\n  hideDescriptionElement();\r\n  resetButtonGroupElementMarginTop();\r\n  hideCancelButtonElement();\r\n  hideSelectFormatOuterContainerElement();\r\n}\r\n\r\nfunction assignSelectFormatViewLocalVariables() {\r\n  tableElement = document.getElementById('upload-datsets-modal-select-format-table');\r\n  nextButtonElement = document.getElementById('upload-datsets-modal-next-button');\r\n  descriptionElement = document.getElementById('upload-datasets-modal-description');\r\n  cancelButtonElement = document.getElementById('upload-datasets-modal-cancel-button');\r\n  buttonsGroupElement = document.getElementById('upload-datasets-modal-buttons');\r\n  selectFormatOuterContainerElement = document.getElementById('upload-datsets-modal-select-format-outer-container');\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/selectFormat/style.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/buttonEvents.js":
/*!*******************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/buttonEvents.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerButtonEventHandlers; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js\");\n/* harmony import */ var _uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uploadDatasetFilesHandler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/uploadDatasetFilesHandler.js\");\n/* harmony import */ var _drawShapesAndImages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./drawShapesAndImages */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/drawShapesAndImages.js\");\n\r\n\r\n\r\n\r\nfunction triggerUploadDatasetFiles() {\r\n  document.getElementById('upload-datasets-modal-upload-datasets-upload-trigger').click();\r\n}\r\n\r\nfunction removeFile(removeFileHandlerFunc, fileName, objectName) {\r\n  removeFileHandlerFunc(fileName, objectName);\r\n}\r\n\r\nfunction moveToNextView(nextViewCallback, clearDatasetObjectFunc) {\r\n  Object(_drawShapesAndImages__WEBPACK_IMPORTED_MODULE_2__[\"drawShapesAndImages\"])();\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideUploadDatasetsViewAssets\"])();\r\n  clearDatasetObjectFunc();\r\n  nextViewCallback(false);\r\n}\r\n\r\nfunction goBackToSelectFormatView(selectFormatViewCallback, clearDatasetObjectFunc) {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideUploadDatasetsViewAssets\"])();\r\n  clearDatasetObjectFunc();\r\n  selectFormatViewCallback();\r\n}\r\n\r\nfunction registerButtonEventHandlers(nextViewCallback, removeFileHandlerFunc,\r\n  clearDatasetObjectFunc, selectFormatViewCallback) {\r\n  window.triggerUploadDatasetFiles = triggerUploadDatasetFiles;\r\n  window.uploadDatasetFilesHandler = _uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_1__[\"uploadDatasetFilesHandler\"];\r\n  window.drawShapesAndImages = moveToNextView.bind(this, nextViewCallback, clearDatasetObjectFunc);\r\n  window.removeFileFromUploadDatasetFiles = removeFile.bind(this, removeFileHandlerFunc);\r\n  window.goBackToSelectFormatView = goBackToSelectFormatView.bind(this,\r\n    selectFormatViewCallback, clearDatasetObjectFunc);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/buttonEvents.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager.js":
/*!*********************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/datasetObjectManagerBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/builders/datasetObjectManagerBuilder.js\");\n\r\n\r\nconst datasetObjectManager = _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildObjectManagerForOneAnnotationFileStrategy();\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (datasetObjectManager);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager.js":
/*!****************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager.js ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/datasetObjectManagerBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/builders/datasetObjectManagerBuilder.js\");\n\r\n\r\nconst datasetObjectManager = _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildObjectManagerForOneAnnotationFileStrategy();\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (datasetObjectManager);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager.js":
/*!********************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/datasetObjectManagerBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/builders/datasetObjectManagerBuilder.js\");\n\r\n\r\nconst datasetObjectManager = _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildObjectManagerForOneAnnotationFileStrategy();\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (datasetObjectManager);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager.js":
/*!*******************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager.js ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/datasetObjectManagerBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/builders/datasetObjectManagerBuilder.js\");\n\r\n\r\nconst datasetObjectManager = _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildObjectManagerForMultipleAnnotationFilesStrategy();\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (datasetObjectManager);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager.js":
/*!********************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/datasetObjectManagerBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/builders/datasetObjectManagerBuilder.js\");\n\r\n\r\nconst datasetObjectManager = _builders_datasetObjectManagerBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildObjectManagerForMultipleAnnotationFilesInclClassesStrategy();\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (datasetObjectManager);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/builders/datasetObjectManagerBuilder.js":
/*!*****************************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/builders/datasetObjectManagerBuilder.js ***!
  \*****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DatasetObjectManagerBuilder; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\nconst datasetObject = { };\r\ndatasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]] = null;\r\ndatasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]] = [];\r\ndatasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]] = [];\r\ndatasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]] = null;\r\ndatasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"]] = [];\r\ndatasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]] = {};\r\n\r\nfunction clearDatasetObject() {\r\n  datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"]] = [];\r\n  datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]] = null;\r\n  datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]] = [];\r\n  datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]] = [];\r\n  datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]] = {};\r\n}\r\n\r\nfunction getIndexOfFileInArray(fileName, subjectArray) {\r\n  for (let i = 0; i < subjectArray.length; i += 1) {\r\n    if (subjectArray[i].body.fileMetaData.name === fileName) {\r\n      return i;\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\n\r\nfunction removeFile(fileName, objectName) {\r\n  if (Array.isArray(datasetObject[objectName])) {\r\n    const subjectArray = datasetObject[objectName];\r\n    const foundIndex = getIndexOfFileInArray(fileName, subjectArray);\r\n    if (foundIndex !== undefined) {\r\n      subjectArray.splice(\r\n        foundIndex, 1,\r\n      );\r\n    }\r\n  } else if (datasetObject[objectName]) {\r\n    delete datasetObject[objectName][fileName];\r\n  }\r\n}\r\n\r\nfunction replaceActiveFileIfRemoving(fileName, arrayName, activeFileName) {\r\n  if (datasetObject[activeFileName]\r\n    && datasetObject[activeFileName].body.fileMetaData.name === fileName) {\r\n    let newActiveAnnotationFile = null;\r\n    for (let i = 0; i < datasetObject[arrayName].length; i += 1) {\r\n      if (datasetObject[arrayName][i].body.fileMetaData.name !== fileName) {\r\n        newActiveAnnotationFile = datasetObject[arrayName][i];\r\n      }\r\n    }\r\n    datasetObject[activeFileName] = newActiveAnnotationFile;\r\n    if (datasetObject[activeFileName]) {\r\n      datasetObject[activeFileName].newlyActive = true;\r\n    }\r\n  }\r\n}\r\n\r\nfunction addNewClassesFile(fileName, classesFileObj) {\r\n  const existingFileIndex = getIndexOfFileInArray(fileName,\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"]]);\r\n  if (existingFileIndex === undefined) {\r\n    const classesFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"]];\r\n    classesFiles.push(classesFileObj);\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]] = classesFiles[classesFiles.length - 1];\r\n  } else {\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]] = datasetObject[\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"]][existingFileIndex];\r\n  }\r\n}\r\n\r\nfunction addClassesFile(classesFileObj, error) {\r\n  const { name } = classesFileObj.body.fileMetaData;\r\n  if (!error) {\r\n    addNewClassesFile(name, classesFileObj);\r\n  } else {\r\n    replaceActiveFileIfRemoving(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"],\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]);\r\n    removeFile(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"]);\r\n  }\r\n}\r\n\r\nfunction addFaltyAnnotationFile(fileName, annotationFileObj) {\r\n  if (getIndexOfFileInArray(fileName, datasetObject[\r\n    _consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]]) === undefined) {\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]].push(annotationFileObj);\r\n  }\r\n}\r\n\r\nfunction addValidAnnotationFileWhenOneAllowed(fileName, annotationFileObj) {\r\n  const existingFileIndex = getIndexOfFileInArray(fileName,\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]]);\r\n  if (existingFileIndex === undefined) {\r\n    const annotationFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n    annotationFiles.push(annotationFileObj);\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]] = annotationFiles[\r\n      annotationFiles.length - 1];\r\n  } else {\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]] = datasetObject[\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]][existingFileIndex];\r\n  }\r\n}\r\n\r\nfunction addValidAnnotationFileWhenMultipleAllowed(fileName, annotationFileObj) {\r\n  const existingFileIndex = getIndexOfFileInArray(fileName,\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]]);\r\n  if (existingFileIndex === undefined) {\r\n    const annotationFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n    annotationFiles.push(annotationFileObj);\r\n  }\r\n}\r\n\r\nfunction addAnnotationFileWhenOneAllowed(annotationFileObj, error) {\r\n  const { name } = annotationFileObj.body.fileMetaData;\r\n  if (!error) {\r\n    addValidAnnotationFileWhenOneAllowed(name, annotationFileObj);\r\n    removeFile(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]);\r\n  } else {\r\n    replaceActiveFileIfRemoving(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"],\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]);\r\n    removeFile(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]);\r\n    addFaltyAnnotationFile(name, annotationFileObj);\r\n  }\r\n}\r\n\r\nfunction addAnnotationFileWhenMultipleAllowed(annotationFileObj, error) {\r\n  const { name } = annotationFileObj.body.fileMetaData;\r\n  if (!error) {\r\n    addValidAnnotationFileWhenMultipleAllowed(name, annotationFileObj);\r\n  } else {\r\n    removeFile(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]);\r\n  }\r\n}\r\n\r\nfunction addAnnotationFileWhenMultipleAllowedInclClasses(annotationFileObj, erroObj) {\r\n  const { name } = annotationFileObj.body.fileMetaData;\r\n  if (!erroObj.error) {\r\n    addValidAnnotationFileWhenMultipleAllowed(name, annotationFileObj);\r\n  } else {\r\n    if (!erroObj.parsingError) {\r\n      addFaltyAnnotationFile(name, annotationFileObj);\r\n    }\r\n    removeFile(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]);\r\n  }\r\n}\r\n\r\n\r\nfunction moveAnnotationFileToFaltyArray(file) {\r\n  const { name } = file.body.fileMetaData;\r\n  removeFile(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]);\r\n  datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]].push(file);\r\n}\r\n\r\nfunction moveAnnotationFileToValidArray(file) {\r\n  const { name } = file.body.fileMetaData;\r\n  removeFile(name, _consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]);\r\n  datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]].push(file);\r\n}\r\n\r\nfunction isInImagesList(name) {\r\n  return datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][name];\r\n}\r\n\r\nfunction updateImageFileErrorStatus(name, errorStatus) {\r\n  datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][name].error = errorStatus;\r\n}\r\n\r\nfunction addImageFile(imageFileObj, errorObject) {\r\n  if (!isInImagesList(imageFileObj.body.fileMetaData.name)) {\r\n    // the error property is used to draw shapes on valid images only\r\n    imageFileObj.error = errorObject.error;\r\n    imageFileObj.alreadyUploaded = errorObject.alreadyUploaded;\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][\r\n      imageFileObj.body.fileMetaData.name] = imageFileObj;\r\n  }\r\n}\r\n\r\nfunction addFileWhenOneAnnotationFileAllowed(file, errorObject) {\r\n  if (file.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    addImageFile(file, errorObject);\r\n  } else if (file.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n    addAnnotationFileWhenOneAllowed(file, errorObject.error);\r\n  }\r\n}\r\n\r\nfunction addFileWhenMultipleAnnotationFilesAllowed(file, errorObject) {\r\n  if (file.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    addImageFile(file, errorObject);\r\n  } else if (file.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n    addAnnotationFileWhenMultipleAllowed(file, errorObject.error);\r\n  }\r\n}\r\n\r\nfunction addFileWhenMultipleAnnotationsInclClasses(file, errorObject) {\r\n  if (file.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    addImageFile(file, errorObject);\r\n  } else if (file.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n    addAnnotationFileWhenMultipleAllowedInclClasses(file, errorObject);\r\n  } else if (file.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILE_INDICATOR\"]) {\r\n    addClassesFile(file, errorObject.error);\r\n  }\r\n}\r\n\r\nfunction getActiveAnnotationFile() {\r\n  return datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]];\r\n}\r\n\r\nfunction getAnnotationFiles() {\r\n  return datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n}\r\n\r\nfunction getFaltyAnnotationFiles() {\r\n  return datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]];\r\n}\r\n\r\nfunction getImageFiles() {\r\n  return datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]];\r\n}\r\n\r\nfunction getDatasetObject() {\r\n  return datasetObject;\r\n}\r\n\r\nconst oneAnnotationFileStrategyObjectManager = {\r\n  removeFile,\r\n  addImageFile,\r\n  getImageFiles,\r\n  getDatasetObject,\r\n  clearDatasetObject,\r\n  getAnnotationFiles,\r\n  getFaltyAnnotationFiles,\r\n  getActiveAnnotationFile,\r\n  updateImageFileErrorStatus,\r\n  replaceActiveFileIfRemoving,\r\n  addFile: addFileWhenOneAnnotationFileAllowed,\r\n  addAnnotationFile: addAnnotationFileWhenOneAllowed,\r\n};\r\n\r\nconst multipleAnnotationFilesStrategyObjectManager = {\r\n  removeFile,\r\n  addImageFile,\r\n  getImageFiles,\r\n  getDatasetObject,\r\n  getAnnotationFiles,\r\n  clearDatasetObject,\r\n  getActiveAnnotationFile,\r\n  getFaltyAnnotationFiles,\r\n  updateImageFileErrorStatus,\r\n  replaceActiveFileIfRemoving,\r\n  addFile: addFileWhenMultipleAnnotationFilesAllowed,\r\n  addAnnotationFile: addAnnotationFileWhenMultipleAllowed,\r\n};\r\n\r\nconst multipleAnnotationFilesInclClassesStrategyObjectManager = {\r\n  removeFile,\r\n  addImageFile,\r\n  getImageFiles,\r\n  getDatasetObject,\r\n  getAnnotationFiles,\r\n  clearDatasetObject,\r\n  getFaltyAnnotationFiles,\r\n  getActiveAnnotationFile,\r\n  updateImageFileErrorStatus,\r\n  replaceActiveFileIfRemoving,\r\n  moveAnnotationFileToFaltyArray,\r\n  moveAnnotationFileToValidArray,\r\n  addFile: addFileWhenMultipleAnnotationsInclClasses,\r\n  addAnnotationFile: addAnnotationFileWhenMultipleAllowedInclClasses,\r\n};\r\n\r\n\r\nfunction buildObjectManagerForOneAnnotationFileStrategy() {\r\n  return { ...oneAnnotationFileStrategyObjectManager };\r\n}\r\n\r\nfunction buildObjectManagerForMultipleAnnotationFilesStrategy() {\r\n  return { ...multipleAnnotationFilesStrategyObjectManager };\r\n}\r\n\r\nfunction buildObjectManagerForMultipleAnnotationFilesInclClassesStrategy() {\r\n  return { ...multipleAnnotationFilesInclClassesStrategyObjectManager };\r\n}\r\n\r\nconst DatasetObjectManagerBuilder = {\r\n  buildObjectManagerForOneAnnotationFileStrategy,\r\n  buildObjectManagerForMultipleAnnotationFilesStrategy,\r\n  buildObjectManagerForMultipleAnnotationFilesInclClassesStrategy,\r\n};\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/builders/datasetObjectManagerBuilder.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/drawShapesAndImages.js":
/*!**************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/drawShapesAndImages.js ***!
  \**************************************************************************************/
/*! exports provided: drawShapesAndImages, setFinalObjectAssembler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawShapesAndImages\", function() { return drawShapesAndImages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFinalObjectAssembler\", function() { return setFinalObjectAssembler; });\n/* harmony import */ var _canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates */ \"./src/js/canvas/utils/drawShapesViaCoordinates/drawShapesViaCoordinates.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _machineLearningModal_views_initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../machineLearningModal/views/initiateMachineLearning/style */ \"./src/js/tools/machineLearningModal/views/initiateMachineLearning/style.js\");\n/* harmony import */ var _imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../imageList/uploadImages/drawImageOnCanvas */ \"./src/js/tools/imageList/uploadImages/drawImageOnCanvas.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nlet finalObjectAssemblerFunc = null;\r\n\r\nfunction drawImages(images) {\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    if (!images[i].alreadyUploaded) {\r\n      const { fileMetaData, imageElement } = images[i].body;\r\n      const firstImage = i === 0;\r\n      Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_1__[\"addImageFromMultiUploadToList\"])(fileMetaData, imageElement, firstImage);\r\n      Object(_machineLearningModal_views_initiateMachineLearning_style__WEBPACK_IMPORTED_MODULE_2__[\"removeNoImagesFoundOnMLModalStyle\"])();\r\n      if (firstImage) { Object(_imageList_uploadImages_drawImageOnCanvas__WEBPACK_IMPORTED_MODULE_3__[\"onImageLoad\"])(imageElement); }\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawShapesAndImages() {\r\n  const { images, shapes } = finalObjectAssemblerFunc();\r\n  drawImages(images);\r\n  setTimeout(() => {\r\n    const isUsingMachineLearning = false;\r\n    Object(_canvas_utils_drawShapesViaCoordinates_drawShapesViaCoordinates__WEBPACK_IMPORTED_MODULE_0__[\"drawShapesViaCoordinates\"])(shapes, isUsingMachineLearning, Object(_stateMachine__WEBPACK_IMPORTED_MODULE_4__[\"getReuseAlreadyUploadedImagesState\"])());\r\n  }, 0);\r\n}\r\n\r\nfunction setFinalObjectAssembler(finalObjectAssemblerFuncArg) {\r\n  finalObjectAssemblerFunc = finalObjectAssemblerFuncArg;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/drawShapesAndImages.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/fileParser.js":
/*!*****************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/fileParser.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parseAllFiles; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\nfunction parseImageData(fileMetaData, event) {\r\n  const image = new Image();\r\n  image.src = event.target.result;\r\n  return { fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"], body: { fileMetaData, imageElement: image } };\r\n}\r\n\r\nfunction parseJSON(fileMetaData, event) {\r\n  try {\r\n    const JSONObject = JSON.parse(event.target.result);\r\n    return {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"],\r\n      body: { fileMetaData, annotationData: JSONObject },\r\n    };\r\n  } catch (errorMessage) {\r\n    return {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"],\r\n      body: { fileMetaData },\r\n      errorObj: { error: true, message: `Invalid JSON - ${errorMessage}` },\r\n    };\r\n  }\r\n}\r\n\r\nfunction isArrayOfStrings(rowsOfAttributes) {\r\n  for (let i = 0; i < rowsOfAttributes.length; i += 1) {\r\n    if (!Number.isNaN(parseInt(rowsOfAttributes[i], 10))) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n// for clarification - this is for Tensorflow CSV\r\nfunction parseCSV(fileMetaData, event) {\r\n  try {\r\n    const rows = event.target.result.split(/\\r\\n|\\n/);\r\n    const rowsOfAttributes = [];\r\n    rows.forEach((line) => {\r\n      const attributes = line.split(',').filter(entry => entry.trim() !== '');\r\n      if (attributes.length > 0) { rowsOfAttributes.push(attributes); }\r\n    });\r\n    if (rowsOfAttributes[0].length === 8 && isArrayOfStrings(rowsOfAttributes[0])) {\r\n      rowsOfAttributes.shift();\r\n    }\r\n    return {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"],\r\n      body: { fileMetaData, annotationData: rowsOfAttributes },\r\n    };\r\n  } catch (errorMessage) {\r\n    return {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"],\r\n      body: { fileMetaData },\r\n      errorObj: { error: true, message: `Invalid CSV - ${errorMessage}` },\r\n    };\r\n  }\r\n}\r\n\r\nfunction xmlToJson(xml) {\r\n  let resultJSONobject = {};\r\n  if (xml.nodeType === 1) {\r\n    if (xml.attributes.length > 0) {\r\n      resultJSONobject['@attributes'] = {};\r\n      for (let i = 0; i < xml.attributes.length; i += 1) {\r\n        const attribute = xml.attributes.item(i);\r\n        resultJSONobject['@attributes'][attribute.nodeName] = attribute.nodeValue;\r\n      }\r\n    }\r\n  } else if (xml.nodeType === 3) {\r\n    resultJSONobject = xml.nodeValue;\r\n  }\r\n  if (xml.hasChildNodes()) {\r\n    for (let i = 0; i < xml.childNodes.length; i += 1) {\r\n      const item = xml.childNodes.item(i);\r\n      const { nodeName } = item;\r\n      if (typeof (resultJSONobject[nodeName]) === 'undefined') {\r\n        resultJSONobject[nodeName] = xmlToJson(item);\r\n      } else {\r\n        if (typeof (resultJSONobject[nodeName].push) === 'undefined') {\r\n          const oldObject = resultJSONobject[nodeName];\r\n          resultJSONobject[nodeName] = [];\r\n          resultJSONobject[nodeName].push(oldObject);\r\n        }\r\n        resultJSONobject[nodeName].push(xmlToJson(item));\r\n      }\r\n    }\r\n  }\r\n  return resultJSONobject;\r\n}\r\n\r\nfunction parseXML(fileMetaData, event) {\r\n  try {\r\n    const parser = new DOMParser();\r\n    const JSONObject = xmlToJson(parser.parseFromString(event.target.result, 'application/xml'));\r\n    return {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"],\r\n      body: { fileMetaData, annotationData: JSONObject },\r\n    };\r\n  } catch (errorMessage) {\r\n    return {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"],\r\n      body: { fileMetaData },\r\n      errorObj: { error: true, message: `Invalid XML - ${errorMessage}` },\r\n    };\r\n  }\r\n}\r\n\r\nfunction txtToJSON(result, fileMetaData) {\r\n  const lines = result.split('\\n');\r\n  let fileEmpty = true;\r\n  let isAnnotationsFile = true;\r\n  const linesOfAttributes = [];\r\n  lines.forEach((line) => {\r\n    const attributes = line\r\n      .split(' ')\r\n      .filter(entry => entry.trim() !== '')\r\n      .map((entry) => {\r\n        const number = Number.parseFloat(entry, 10);\r\n        if (!Number.isNaN(number)) { return number; }\r\n        return entry;\r\n      });\r\n    if (attributes.length > 0) {\r\n      fileEmpty = false;\r\n      if (attributes.length !== 5) {\r\n        isAnnotationsFile = false;\r\n      }\r\n      linesOfAttributes.push(attributes);\r\n    }\r\n  });\r\n  if (fileEmpty) {\r\n    return {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"],\r\n      body: { fileMetaData },\r\n      errorObj: { error: true, message: 'Text file is empty', parsingError: true },\r\n    };\r\n  }\r\n  const fileFormat = isAnnotationsFile ? _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"] : _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILE_INDICATOR\"];\r\n  return { fileFormat, body: { fileMetaData, annotationData: linesOfAttributes } };\r\n}\r\n\r\nfunction parseTXT(fileMetaData, event) {\r\n  try {\r\n    return txtToJSON(event.target.result, fileMetaData);\r\n  } catch (errorMessage) {\r\n    return {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"],\r\n      body: { fileMetaData },\r\n      errorObj: { error: true, message: `Invalid text file - ${errorMessage}`, parsingError: true },\r\n    };\r\n  }\r\n}\r\n\r\nfunction parseAllFiles(fileMetaData, event) {\r\n  if (fileMetaData.type.startsWith('image/')) {\r\n    return parseImageData(fileMetaData, event);\r\n  }\r\n  if (fileMetaData.name.endsWith('.json')) {\r\n    return parseJSON(fileMetaData, event);\r\n  }\r\n  if (fileMetaData.name.endsWith('.csv')) {\r\n    return parseCSV(fileMetaData, event);\r\n  }\r\n  if (fileMetaData.name.endsWith('.xml')) {\r\n    return parseXML(fileMetaData, event);\r\n  }\r\n  if (fileMetaData.name.endsWith('.txt')) {\r\n    return parseTXT(fileMetaData, event);\r\n  }\r\n  return {};\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/fileParser.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/COCOJSONFinalObjectAssembler.js":
/*!*********************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/COCOJSONFinalObjectAssembler.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assembleFinalObjectFromCOCOJSON; });\n/* harmony import */ var _datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datasetObjectManagers/COCOJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager.js\");\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\n\r\nfunction assembleNewFinalShape(annotationData, datasetObject, imageName, shapes) {\r\n  const shapeObj = {\r\n    type: null, coordinates: {}, imageName,\r\n  };\r\n  const { categories } = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"ACTIVE_ANNOTATION_FILE\"]].body.annotationData;\r\n  for (let i = 0; i < categories.length; i += 1) {\r\n    if (annotationData.category_id === categories[i].id) {\r\n      shapeObj.coordinates.class = categories[i].name.toString();\r\n      break;\r\n    }\r\n  }\r\n  if (annotationData.segmentation.length === 1) {\r\n    shapeObj.coordinates.points = annotationData.segmentation[0];\r\n    shapeObj.type = 'polygon';\r\n    shapes.polygons.push(shapeObj);\r\n  } else {\r\n    shapeObj.coordinates.bbox = annotationData.bbox;\r\n    shapeObj.type = 'boundingBox';\r\n    shapes.boundingBoxes.push(shapeObj);\r\n  }\r\n}\r\n\r\nfunction addShapeToShapesArray(imageId, annotations, shapes, datasetObject, imageName) {\r\n  for (let i = 0; i < annotations.length; i += 1) {\r\n    if (imageId === annotations[i].image_id) {\r\n      assembleNewFinalShape(annotations[i], datasetObject, imageName, shapes);\r\n    }\r\n  }\r\n}\r\n\r\nfunction getShapes(datasetObject, validImages) {\r\n  const shapes = { boundingBoxes: [], polygons: [] };\r\n  const { annotations, images } = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"ACTIVE_ANNOTATION_FILE\"]].body.annotationData;\r\n  validImages.forEach((validImage) => {\r\n    for (let i = 0; i < images.length; i += 1) {\r\n      const imageName = validImage.body.fileMetaData.name;\r\n      if (imageName === images[i].file_name) {\r\n        addShapeToShapesArray(images[i].id, annotations, shapes, datasetObject, imageName);\r\n      }\r\n    }\r\n  });\r\n  return shapes;\r\n}\r\n\r\nfunction getImages(imageFiles) {\r\n  const images = [];\r\n  Object.keys(imageFiles).forEach((key) => {\r\n    if (!imageFiles[key].error) {\r\n      images.push(imageFiles[key]);\r\n    }\r\n  });\r\n  return images;\r\n}\r\n\r\nfunction assembleFinalObjectFromCOCOJSON() {\r\n  const finalObject = { images: [], shapes: [] };\r\n  const datasetObject = _datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDatasetObject();\r\n  finalObject.images = getImages(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"IMAGE_FILES_OBJECT\"]]);\r\n  finalObject.shapes = getShapes(datasetObject, finalObject.images);\r\n  return finalObject;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/COCOJSONFinalObjectAssembler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/CSVFinalObjectAssembler.js":
/*!****************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/CSVFinalObjectAssembler.js ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assembleFinalObjectFromCSV; });\n/* harmony import */ var _datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datasetObjectManagers/CSVDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager.js\");\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\n\r\nfunction addNewShapeToArray(annotationData, imageName, shapes) {\r\n  const shapeObj = { type: null, coordinates: {}, imageName };\r\n  const bbox = [];\r\n  bbox[0] = annotationData[4];\r\n  bbox[1] = annotationData[5];\r\n  bbox[2] = annotationData[6] - annotationData[4];\r\n  bbox[3] = annotationData[7] - annotationData[5];\r\n  shapeObj.coordinates.bbox = bbox;\r\n  shapeObj.coordinates.class = annotationData[3].toString();\r\n  shapeObj.type = 'boundingBox';\r\n  shapes.boundingBoxes.push(shapeObj);\r\n}\r\n\r\nfunction getShapes(datasetObject, validImages) {\r\n  const shapes = { boundingBoxes: [], polygons: [] };\r\n  const { annotationData } = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"ACTIVE_ANNOTATION_FILE\"]].body;\r\n  validImages.forEach((validImage) => {\r\n    for (let i = 0; i < annotationData.length; i += 1) {\r\n      const imageName = validImage.body.fileMetaData.name;\r\n      if (imageName === annotationData[i][0]) {\r\n        addNewShapeToArray(annotationData[i], imageName, shapes);\r\n      }\r\n    }\r\n  });\r\n  return shapes;\r\n}\r\n\r\nfunction getImages(imageFiles) {\r\n  const images = [];\r\n  Object.keys(imageFiles).forEach((key) => {\r\n    if (!imageFiles[key].error) {\r\n      images.push(imageFiles[key]);\r\n    }\r\n  });\r\n  return images;\r\n}\r\n\r\nfunction assembleFinalObjectFromCSV() {\r\n  const finalObject = { images: [], shapes: [] };\r\n  const datasetObject = _datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDatasetObject();\r\n  finalObject.images = getImages(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"IMAGE_FILES_OBJECT\"]]);\r\n  finalObject.shapes = getShapes(datasetObject, finalObject.images);\r\n  return finalObject;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/CSVFinalObjectAssembler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/VGGJSONFinalObjectAssembler.js":
/*!********************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/VGGJSONFinalObjectAssembler.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assembleFinalObjectFromVGGJSON; });\n/* harmony import */ var _datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datasetObjectManagers/VGGJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager.js\");\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\n\r\nfunction assembleShapes(regions, shapes, imageName) {\r\n  for (let i = 0; i < regions.length; i += 1) {\r\n    const shapeObj = {\r\n      type: null, coordinates: {}, imageName,\r\n    };\r\n    const region = regions[i];\r\n    shapeObj.coordinates.class = region.region_attributes.name.toString();\r\n    if (region.shape_attributes.name === 'polygon') {\r\n      const points = [];\r\n      region.shape_attributes.all_points_x.forEach((x, index) => {\r\n        points.push(x);\r\n        points.push(region.shape_attributes.all_points_y[index]);\r\n      });\r\n      shapeObj.coordinates.points = points;\r\n      shapeObj.type = 'polygon';\r\n      shapes.polygons.push(shapeObj);\r\n    } else {\r\n      const bbox = [];\r\n      bbox[0] = region.shape_attributes.x;\r\n      bbox[1] = region.shape_attributes.y;\r\n      bbox[2] = region.shape_attributes.width;\r\n      bbox[3] = region.shape_attributes.height;\r\n      shapeObj.coordinates.bbox = bbox;\r\n      shapeObj.type = 'boundingBox';\r\n      shapes.boundingBoxes.push(shapeObj);\r\n    }\r\n  }\r\n}\r\n\r\nfunction getShapes(datasetObject, validImages) {\r\n  const shapes = { boundingBoxes: [], polygons: [] };\r\n  const annotationObjects = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"ACTIVE_ANNOTATION_FILE\"]].body.annotationData;\r\n  validImages.forEach((validImage) => {\r\n    for (let i = 0; i < Object.keys(annotationObjects).length; i += 1) {\r\n      const imageName = validImage.body.fileMetaData.name;\r\n      if (imageName === annotationObjects[Object.keys(annotationObjects)[i]].filename) {\r\n        const { regions } = annotationObjects[Object.keys(annotationObjects)[i]];\r\n        assembleShapes(regions, shapes, imageName);\r\n      }\r\n    }\r\n  });\r\n  return shapes;\r\n}\r\n\r\nfunction getImages(imageFiles) {\r\n  const images = [];\r\n  Object.keys(imageFiles).forEach((key) => {\r\n    if (!imageFiles[key].error) {\r\n      images.push(imageFiles[key]);\r\n    }\r\n  });\r\n  return images;\r\n}\r\n\r\nfunction assembleFinalObjectFromVGGJSON() {\r\n  const finalObject = { images: [], shapes: [] };\r\n  const datasetObject = _datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDatasetObject();\r\n  finalObject.images = getImages(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"IMAGE_FILES_OBJECT\"]]);\r\n  finalObject.shapes = getShapes(datasetObject, finalObject.images);\r\n  return finalObject;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/VGGJSONFinalObjectAssembler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/VOCXMLFinalObjectAssembler.js":
/*!*******************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/VOCXMLFinalObjectAssembler.js ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assembleFinalObjectFromVOCXML; });\n/* harmony import */ var _datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datasetObjectManagers/VOCXMLDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager.js\");\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\n\r\nfunction assembleShape(object, shapes, imageName) {\r\n  const shapeObj = { type: null, coordinates: {}, imageName };\r\n  const bbox = [];\r\n  bbox[0] = parseInt(object.bndbox.xmin['#text'], 10);\r\n  bbox[1] = parseInt(object.bndbox.ymin['#text'], 10);\r\n  bbox[2] = parseInt(object.bndbox.xmax['#text'], 10) - parseInt(object.bndbox.xmin['#text'], 10);\r\n  bbox[3] = parseInt(object.bndbox.ymax['#text'], 10) - parseInt(object.bndbox.ymin['#text'], 10);\r\n  shapeObj.coordinates.bbox = bbox;\r\n  shapeObj.coordinates.class = object.name['#text'].toString();\r\n  shapeObj.type = 'boundingBox';\r\n  shapes.boundingBoxes.push(shapeObj);\r\n}\r\n\r\nfunction assembleShapes(objects, shapes, imageName) {\r\n  if (Array.isArray(objects)) {\r\n    for (let i = 0; i < objects.length; i += 1) {\r\n      assembleShape(objects[i], shapes, imageName);\r\n    }\r\n  } else {\r\n    assembleShape(objects, shapes, imageName);\r\n  }\r\n}\r\n\r\nfunction getShapes(datasetObject, validImages) {\r\n  const shapes = { boundingBoxes: [], polygons: [] };\r\n  validImages.forEach((validImage) => {\r\n    const imageName = validImage.body.fileMetaData.name;\r\n    const parsedImageName = imageName.substring(0, imageName.indexOf('.'));\r\n    for (let i = 0; i < datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"VALID_ANNOTATION_FILES_ARRAY\"]].length; i += 1) {\r\n      const annotationName = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"VALID_ANNOTATION_FILES_ARRAY\"]][i].body.fileMetaData.name;\r\n      const parsedAnnotationName = annotationName.substring(0, annotationName.indexOf('.'));\r\n      if (parsedImageName === parsedAnnotationName) {\r\n        const { object } = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"VALID_ANNOTATION_FILES_ARRAY\"]][i].body\r\n          .annotationData.annotation;\r\n        assembleShapes(object, shapes, imageName);\r\n      }\r\n    }\r\n  });\r\n  return shapes;\r\n}\r\n\r\nfunction getImages(imageFiles) {\r\n  const images = [];\r\n  Object.keys(imageFiles).forEach((key) => {\r\n    if (!imageFiles[key].error) {\r\n      images.push(imageFiles[key]);\r\n    }\r\n  });\r\n  return images;\r\n}\r\n\r\nfunction assembleFinalObjectFromVOCXML() {\r\n  const finalObject = { images: [], shapes: [] };\r\n  const datasetObject = _datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDatasetObject();\r\n  finalObject.images = getImages(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"IMAGE_FILES_OBJECT\"]]);\r\n  finalObject.shapes = getShapes(datasetObject, finalObject.images);\r\n  return finalObject;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/VOCXMLFinalObjectAssembler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/YOLOTXTFinalObjectAssembler.js":
/*!********************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/YOLOTXTFinalObjectAssembler.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assembleFinalObjectFromYOLOTXT; });\n/* harmony import */ var _datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datasetObjectManagers/YOLOTXTDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager.js\");\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\n\r\nfunction assembleShape(object, shapes, imageName, classes, imageElement) {\r\n  const shapeObj = { type: null, coordinates: {}, imageName };\r\n  const bbox = [];\r\n  const { width, height } = imageElement;\r\n  bbox[0] = (object[1] - object[3] / 2) * width;\r\n  bbox[1] = (object[2] - object[4] / 2) * height;\r\n  bbox[2] = object[3] * width;\r\n  bbox[3] = object[4] * height;\r\n  shapeObj.coordinates.bbox = bbox;\r\n  shapeObj.coordinates.class = classes[object[0]][0].toString();\r\n  shapeObj.type = 'boundingBox';\r\n  shapes.boundingBoxes.push(shapeObj);\r\n}\r\n\r\nfunction assembleShapes(objects, shapes, imageName, classes, imageElement) {\r\n  for (let i = 0; i < objects.length; i += 1) {\r\n    assembleShape(objects[i], shapes, imageName, classes, imageElement);\r\n  }\r\n}\r\n\r\nfunction getShapes(datasetObject, validImages) {\r\n  const shapes = { boundingBoxes: [], polygons: [] };\r\n  const classes = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"ACTIVE_CLASSES_FILE\"]].body.annotationData;\r\n  validImages.forEach((validImage) => {\r\n    const imageName = validImage.body.fileMetaData.name;\r\n    const { imageElement } = validImage.body;\r\n    const parsedImageName = imageName.substring(0, imageName.indexOf('.'));\r\n    for (let i = 0; i < datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"VALID_ANNOTATION_FILES_ARRAY\"]].length; i += 1) {\r\n      const annotationName = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"VALID_ANNOTATION_FILES_ARRAY\"]][i].body.fileMetaData.name;\r\n      const parsedAnnotationName = annotationName.substring(0, annotationName.indexOf('.'));\r\n      if (parsedImageName === parsedAnnotationName) {\r\n        const objects = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"VALID_ANNOTATION_FILES_ARRAY\"]][i].body.annotationData;\r\n        assembleShapes(objects, shapes, imageName, classes, imageElement);\r\n      }\r\n    }\r\n  });\r\n  return shapes;\r\n}\r\n\r\nfunction getImages(imageFiles) {\r\n  const images = [];\r\n  Object.keys(imageFiles).forEach((key) => {\r\n    if (!imageFiles[key].error) {\r\n      images.push(imageFiles[key]);\r\n    }\r\n  });\r\n  return images;\r\n}\r\n\r\nfunction assembleFinalObjectFromYOLOTXT() {\r\n  const finalObject = { images: [], shapes: [] };\r\n  const datasetObject = _datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDatasetObject();\r\n  finalObject.images = getImages(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_1__[\"IMAGE_FILES_OBJECT\"]]);\r\n  finalObject.shapes = getShapes(datasetObject, finalObject.images);\r\n  return finalObject;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/YOLOTXTFinalObjectAssembler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/COCOJSONValidator.js":
/*!*****************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/COCOJSONValidator.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return validateCOCOJSONFormat; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/COCOJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n/* harmony import */ var _sharedUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sharedUtils */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/sharedUtils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction checkAnnotationsMapToCategories(parsedObj) {\r\n  const { annotations, categories } = parsedObj;\r\n  for (let i = 0; i < annotations.length; i += 1) {\r\n    const annotation = annotations[i];\r\n    let categoryIdValid = false;\r\n    for (let y = 0; y < categories.length; y += 1) {\r\n      const category = categories[y];\r\n      if (annotation.category_id === category.id) {\r\n        categoryIdValid = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!categoryIdValid) {\r\n      return { error: true, message: `The following category_id has not been found: ${annotation.category_id} -> in categories` };\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkAnnotationsMapToImages(parsedObj) {\r\n  const { annotations, images } = parsedObj;\r\n  for (let i = 0; i < annotations.length; i += 1) {\r\n    const annotation = annotations[i];\r\n    let imageIdValid = false;\r\n    for (let y = 0; y < images.length; y += 1) {\r\n      const image = images[y];\r\n      if (annotation.image_id === image.id) {\r\n        imageIdValid = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!imageIdValid) {\r\n      return { error: true, message: `The following image_id has not been found: ${annotation.image_id} -> in annotations` };\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkImagesProperty(parsedObj) {\r\n  const requiredProperties = { id: 'number|string', file_name: 'string' };\r\n  const { images } = parsedObj;\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, images[i],\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n    if (result.error) {\r\n      result.message += ' -> in images';\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkSegmentationArray(segmentationArray) {\r\n  const arrayName = 'Segmentation';\r\n  const elementsType = 'array:number';\r\n  if (segmentationArray.length > 1) {\r\n    const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(segmentationArray, arrayName,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], { elementsType, length: 8 });\r\n    if (result.error) { return result; }\r\n  } else if (segmentationArray.length === 1) {\r\n    const polygonCoordinatesArray = segmentationArray[0];\r\n    let result = {};\r\n    result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(polygonCoordinatesArray, arrayName,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], { elementsType: 'array' });\r\n    if (result.error) { return result; }\r\n    result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(polygonCoordinatesArray, arrayName,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], { elementsType, minLength: 6, evenOdd: 'even' });\r\n    if (result.error) { return result; }\r\n  }\r\n  if (segmentationArray.length < 1) {\r\n    return { error: true, message: `${arrayName} array is empty` };\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkAnnotationsProperty(parsedObj) {\r\n  const requiredProperties = {\r\n    id: 'number|string', image_id: 'number|string', category_id: 'number|string', segmentation: 'array', bbox: 'array:number',\r\n  };\r\n  const { annotations } = parsedObj;\r\n  for (let i = 0; i < annotations.length; i += 1) {\r\n    const annotation = annotations[i];\r\n    let result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, annotation,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n    if (result.error) {\r\n      result.message += ' -> in annotations';\r\n      return result;\r\n    }\r\n    result = checkSegmentationArray(annotation.segmentation);\r\n    if (result.error) {\r\n      result.message += ' -> in annotations';\r\n      return result;\r\n    }\r\n    result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(annotation.bbox, 'bbox', _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], { length: 4 });\r\n    if (result.error) {\r\n      result.message += ' -> in annotations';\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkCategoriesProperty(parsedObj) {\r\n  const requiredProperties = { id: 'number|string', name: 'number|string' };\r\n  const { categories } = parsedObj;\r\n  for (let i = 0; i < categories.length; i += 1) {\r\n    const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, categories[i],\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n    if (result.error) {\r\n      result.message += ' -> in categories';\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkParentProperties(parsedObj) {\r\n  const requiredProperties = { images: 'array:object', annotations: 'array:object', categories: 'array:object' };\r\n  let result = {};\r\n  result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, parsedObj,\r\n    _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n  if (result.error) { return result; }\r\n  result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(parsedObj.images, 'images', _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], { minLength: 1 });\r\n  if (result.error) { return result; }\r\n  result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(parsedObj.annotations, 'annotations', _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], { minLength: 1 });\r\n  if (result.error) { return result; }\r\n  result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(parsedObj.categories, 'categories', _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], { minLength: 1 });\r\n  if (result.error) { return result; }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkObject(JSONObject, validators) {\r\n  for (let i = 0; i < validators.length; i += 1) {\r\n    const result = validators[i](JSONObject.annotationData);\r\n    if (result.error) {\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction setCurrentAnnotationFilesToInactive(annotationFiles) {\r\n  annotationFiles.forEach((annotationFile) => {\r\n    annotationFile.active = false;\r\n  });\r\n}\r\n\r\nfunction isImageAlreadyUploaded(newImageName) {\r\n  const images = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_2__[\"getAllImageData\"])();\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    if (newImageName === images[i].name) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction validateImageFile(parsedObj, validAnnotationFiles, activeAnnotationFile) {\r\n  const imageName = parsedObj.body.fileMetaData.name;\r\n  const alreadyUploaded = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    ? isImageAlreadyUploaded(imageName) : false;\r\n  if (validAnnotationFiles.length > 0) {\r\n    const { annotationData } = activeAnnotationFile.body;\r\n    for (let i = 0; i < annotationData.images.length; i += 1) {\r\n      if (imageName === annotationData.images[i].file_name) {\r\n        return {\r\n          error: false, message: '', alreadyUploaded, valid: true,\r\n        };\r\n      }\r\n    }\r\n    return { error: true, message: 'This image is not specified in the annotations file(s)', alreadyUploaded };\r\n  }\r\n  return { error: false, message: '', alreadyUploaded };\r\n}\r\n\r\nfunction validateAnnotationsFile(parsedObj, validAnnotationFiles) {\r\n  const validators = [\r\n    checkParentProperties,\r\n    checkCategoriesProperty,\r\n    checkAnnotationsProperty,\r\n    checkImagesProperty,\r\n    checkAnnotationsMapToImages,\r\n    checkAnnotationsMapToCategories,\r\n  ];\r\n  const validationResult = checkObject(parsedObj.body, validators);\r\n  if (!validationResult.error) {\r\n    setCurrentAnnotationFilesToInactive(validAnnotationFiles);\r\n    parsedObj.active = true;\r\n  }\r\n  return validationResult;\r\n}\r\n\r\nfunction validateCOCOJSONFormat(parsedObj, errorObj) {\r\n  if (!errorObj) {\r\n    const datasetObject = _datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getDatasetObject();\r\n    const activeAnnotationFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]];\r\n    const validAnnotationFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n      return validateAnnotationsFile(parsedObj, validAnnotationFiles);\r\n    }\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n      return validateImageFile(parsedObj, validAnnotationFiles, activeAnnotationFile);\r\n    }\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    && parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    const imageName = parsedObj.body.fileMetaData.name;\r\n    if (isImageAlreadyUploaded(imageName)) {\r\n      return { error: false, message: '', alreadyUploaded: true };\r\n    }\r\n  }\r\n  return errorObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/COCOJSONValidator.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/CSVValidator.js":
/*!************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/CSVValidator.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return validateCSVFormat; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/CSVDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n/* harmony import */ var _sharedUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sharedUtils */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/sharedUtils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction checkObject(JSONObject, validators) {\r\n  for (let i = 0; i < validators.length; i += 1) {\r\n    const result = validators[i](JSONObject.annotationData);\r\n    if (result.error) {\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction setCurrentAnnotationFilesToInactive(annotationFiles) {\r\n  annotationFiles.forEach((annotationFile) => {\r\n    annotationFile.active = false;\r\n  });\r\n}\r\n\r\nfunction isImageAlreadyUploaded(newImageName) {\r\n  const images = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_2__[\"getAllImageData\"])();\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    if (newImageName === images[i].name) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction validateImageFile(parsedObj, validAnnotationFiles, activeAnnotationFile) {\r\n  const imageName = parsedObj.body.fileMetaData.name;\r\n  const alreadyUploaded = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    ? isImageAlreadyUploaded(imageName) : false;\r\n  if (validAnnotationFiles.length > 0) {\r\n    const { annotationData } = activeAnnotationFile.body;\r\n    for (let i = 0; i < annotationData.length; i += 1) {\r\n      if (imageName === annotationData[i][0]) {\r\n        return {\r\n          error: false, message: '', alreadyUploaded, valid: true,\r\n        };\r\n      }\r\n    }\r\n    return { error: true, message: 'This image is not specified in the annotations file(s)', alreadyUploaded };\r\n  }\r\n  return { error: false, message: '', alreadyUploaded };\r\n}\r\n\r\nfunction checkAllRows(rows) {\r\n  for (let i = 0; i < rows.length; i += 1) {\r\n    if (rows[i].length !== 8) {\r\n      return { error: true, message: `Row ${i + 1} contains ${rows[i].length} attributes, but the expected number is 8` };\r\n    }\r\n    const attributes = rows[i];\r\n    const annotationFields = {};\r\n    annotationFields['filename(1)'] = attributes[0];\r\n    annotationFields['width(2)'] = attributes[1];\r\n    annotationFields['height(3)'] = attributes[2];\r\n    annotationFields['class(4)'] = attributes[3];\r\n    annotationFields['xmin(5)'] = attributes[4];\r\n    annotationFields['ymin(6)'] = attributes[5];\r\n    annotationFields['xmax(7)'] = attributes[6];\r\n    annotationFields['ymax(8)'] = attributes[7];\r\n    const requiredProperties = {\r\n      'filename(1)': 'string',\r\n      'width(2)': 'number',\r\n      'height(3)': 'number',\r\n      'class(4)': 'number|string',\r\n      'xmin(5)': 'number',\r\n      'ymin(6)': 'number',\r\n      'xmax(7)': 'number',\r\n      'ymax(8)': 'number',\r\n    };\r\n    const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, annotationFields,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"CSV_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n    if (result.error) {\r\n      result.message += ` -> on row ${i + 1}`;\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction validateAnnotationsFile(parsedObj, validAnnotationFiles) {\r\n  const validators = [\r\n    checkAllRows,\r\n  ];\r\n  const validationResult = checkObject(parsedObj.body, validators);\r\n  if (!validationResult.error) {\r\n    setCurrentAnnotationFilesToInactive(validAnnotationFiles);\r\n    parsedObj.active = true;\r\n  }\r\n  return validationResult;\r\n}\r\n\r\nfunction validateCSVFormat(parsedObj, errorObj) {\r\n  if (!errorObj) {\r\n    const datasetObject = _datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getDatasetObject();\r\n    const activeAnnotationFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]];\r\n    const validAnnotationFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n      return validateAnnotationsFile(parsedObj, validAnnotationFiles);\r\n    }\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n      return validateImageFile(parsedObj, validAnnotationFiles, activeAnnotationFile);\r\n    }\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    && parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    const imageName = parsedObj.body.fileMetaData.name;\r\n    if (isImageAlreadyUploaded(imageName)) {\r\n      return { error: false, message: '', alreadyUploaded: true };\r\n    }\r\n  }\r\n  return errorObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/CSVValidator.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VGGJSONValidator.js":
/*!****************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VGGJSONValidator.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return validateVGGJSONFormat; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/VGGJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n/* harmony import */ var _sharedUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sharedUtils */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/sharedUtils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction setCurrentAnnotationFilesToInactive(annotationFiles) {\r\n  annotationFiles.forEach((annotationFile) => {\r\n    annotationFile.active = false;\r\n  });\r\n}\r\n\r\nfunction isImageAlreadyUploaded(newImageName) {\r\n  const images = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_2__[\"getAllImageData\"])();\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    if (newImageName === images[i].name) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction validateImageFile(parsedObj, validAnnotationFiles, activeAnnotationFile) {\r\n  const imageName = parsedObj.body.fileMetaData.name;\r\n  const alreadyUploaded = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    ? isImageAlreadyUploaded(imageName) : false;\r\n  if (validAnnotationFiles.length > 0) {\r\n    const { annotationData } = activeAnnotationFile.body;\r\n    const annotationDataKeys = Object.keys(annotationData);\r\n    for (let i = 0; i < annotationDataKeys.length; i += 1) {\r\n      const { filename } = annotationData[annotationDataKeys[i]];\r\n      if (imageName === filename) {\r\n        return {\r\n          error: false, message: '', alreadyUploaded, valid: true,\r\n        };\r\n      }\r\n    }\r\n    return { error: true, message: 'This image is not specified in the annotations file(s)', alreadyUploaded };\r\n  }\r\n  return { error: false, message: '', alreadyUploaded };\r\n}\r\n\r\nfunction checkObjectHasProperties(object, objectName) {\r\n  if (Object.keys(object).length > 0) {\r\n    return { error: false, message: '' };\r\n  }\r\n  return { error: true, message: `The ${objectName} object does not contain any properties` };\r\n}\r\n\r\nfunction checkRegionAttributesProperty(parsedObj) {\r\n  const objectKeyNames = Object.keys(parsedObj);\r\n  for (let i = 0; i < objectKeyNames.length; i += 1) {\r\n    const { regions } = parsedObj[objectKeyNames[i]];\r\n    for (let y = 0; y < regions.length; y += 1) {\r\n      const requiredProperties = { name: 'number|string' };\r\n      const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, regions[y].region_attributes,\r\n        _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n      if (result.error) {\r\n        result.message += ' -> in region_attributes';\r\n        return result;\r\n      }\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkShapeAttributesPolygonProperty(region) {\r\n  const elementsType = 'array:number';\r\n  const requiredProperties = {\r\n    all_points_x: elementsType, all_points_y: elementsType,\r\n  };\r\n  let result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, region.shape_attributes,\r\n    _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n  if (result.error) { return result; }\r\n  if (region.shape_attributes.all_points_x.length\r\n      !== region.shape_attributes.all_points_y.length) {\r\n    return { error: true, message: 'all_points_x and all_points_y arrays must have equal size' };\r\n  }\r\n  result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(region.shape_attributes.all_points_x, 'all_points_x', _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"],\r\n    { elementsType, minLength: 3 });\r\n  if (result.error) { return result; }\r\n  result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkArrayElements\"])(region.shape_attributes.all_points_y, 'all_points_y', _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"],\r\n    { elementsType, minLength: 3 });\r\n  if (result.error) { return result; }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkShapeAttributesRectProperty(region) {\r\n  const requiredProperties = {\r\n    x: 'number', y: 'number', width: 'number', height: 'number',\r\n  };\r\n  const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, region.shape_attributes,\r\n    _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n  if (result.error) { return result; }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkShapeAttributesProperty(parsedObj) {\r\n  const objectKeyNames = Object.keys(parsedObj);\r\n  for (let i = 0; i < objectKeyNames.length; i += 1) {\r\n    const { regions } = parsedObj[objectKeyNames[i]];\r\n    for (let y = 0; y < regions.length; y += 1) {\r\n      const region = regions[y];\r\n      const requiredProperties = { name: 'string' };\r\n      let result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, region.shape_attributes,\r\n        _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n      if (result.error) {\r\n        result.message += ' -> in shape_attributes';\r\n        return result;\r\n      }\r\n      if (region.shape_attributes.name === 'rect') {\r\n        result = checkShapeAttributesRectProperty(region);\r\n        if (result.error) {\r\n          result.message += ' -> in shape_attributes';\r\n          return result;\r\n        }\r\n      } else if (region.shape_attributes.name === 'polygon') {\r\n        result = checkShapeAttributesPolygonProperty(region);\r\n        if (result.error) {\r\n          result.message += ' -> in shape_attributes';\r\n          return result;\r\n        }\r\n      } else {\r\n        return { error: true, message: `The following shape type is not supported: ${region.shape_attributes.name} -> in shape_attributes` };\r\n      }\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkRegionsProperty(parsedObj) {\r\n  const requiredProperties = { shape_attributes: 'object', region_attributes: 'object' };\r\n  const objectKeyNames = Object.keys(parsedObj);\r\n  for (let i = 0; i < objectKeyNames.length; i += 1) {\r\n    const { regions } = parsedObj[objectKeyNames[i]];\r\n    for (let y = 0; y < regions.length; y += 1) {\r\n      const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, regions[y],\r\n        _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n      if (result.error) {\r\n        result.message += ' -> in regions';\r\n        return result;\r\n      }\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkAnnotationObjectsProperties(parsedObj) {\r\n  const requiredProperties = { filename: 'string', regions: 'array:object' };\r\n  const objectKeyNames = Object.keys(parsedObj);\r\n  for (let i = 0; i < objectKeyNames.length; i += 1) {\r\n    const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, parsedObj[objectKeyNames[i]],\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"PROPERTIES_STRING\"]);\r\n    if (result.error) {\r\n      result.message += ' -> in annotation object';\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkParentProperties(parsedObj) {\r\n  return checkObjectHasProperties(parsedObj, 'parent');\r\n}\r\n\r\nfunction checkObject(JSONObject, validators) {\r\n  for (let i = 0; i < validators.length; i += 1) {\r\n    const result = validators[i](JSONObject.annotationData);\r\n    if (result.error) {\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction validateAnnotationsFile(parsedObj, validAnnotationFiles) {\r\n  const validators = [\r\n    checkParentProperties,\r\n    checkAnnotationObjectsProperties,\r\n    checkRegionsProperty,\r\n    checkShapeAttributesProperty,\r\n    checkRegionAttributesProperty,\r\n  ];\r\n  const validationResult = checkObject(parsedObj.body, validators);\r\n  if (!validationResult.error) {\r\n    setCurrentAnnotationFilesToInactive(validAnnotationFiles);\r\n    parsedObj.active = true;\r\n  }\r\n  return validationResult;\r\n}\r\n\r\nfunction validateVGGJSONFormat(parsedObj, errorObj) {\r\n  if (!errorObj) {\r\n    const datasetObject = _datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getDatasetObject();\r\n    const activeAnnotationFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]];\r\n    const validAnnotationFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n      return validateAnnotationsFile(parsedObj, validAnnotationFiles);\r\n    }\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n      return validateImageFile(parsedObj, validAnnotationFiles, activeAnnotationFile);\r\n    }\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    && parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    const imageName = parsedObj.body.fileMetaData.name;\r\n    if (isImageAlreadyUploaded(imageName)) {\r\n      return { error: false, message: '', alreadyUploaded: true };\r\n    }\r\n  }\r\n  return errorObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VGGJSONValidator.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VOCXMLValidator.js":
/*!***************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VOCXMLValidator.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return validateVOCXMLFormat; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/VOCXMLDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n/* harmony import */ var _sharedUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sharedUtils */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/sharedUtils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction setCurrentAnnotationFilesToInactive(annotationFiles) {\r\n  annotationFiles.forEach((annotationFile) => {\r\n    annotationFile.active = false;\r\n  });\r\n}\r\n\r\nfunction isImageAlreadyUploaded(newImageName) {\r\n  const images = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_2__[\"getAllImageData\"])();\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    if (newImageName === images[i].name) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction validateImageFile(parsedObj, validAnnotationFiles) {\r\n  const imageName = parsedObj.body.fileMetaData.name;\r\n  const parsedImageName = imageName.substring(0, imageName.indexOf('.'));\r\n  const alreadyUploaded = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    ? isImageAlreadyUploaded(imageName) : false;\r\n  if (validAnnotationFiles.length > 0) {\r\n    for (let i = 0; i < validAnnotationFiles.length; i += 1) {\r\n      const annotationName = validAnnotationFiles[i].body.fileMetaData.name;\r\n      const parsedAnnotationName = annotationName.substring(0, annotationName.indexOf('.xml'));\r\n      if (parsedImageName === parsedAnnotationName) {\r\n        return {\r\n          error: false, message: '', alreadyUploaded, valid: true,\r\n        };\r\n      }\r\n    }\r\n    return { error: true, message: 'This image is not specified in any of the valid annotations file(s)', alreadyUploaded };\r\n  }\r\n  return { error: false, message: '', alreadyUploaded };\r\n}\r\n\r\nfunction checkbndBoxTag(object) {\r\n  const requiredProperties = {\r\n    xmin: 'number', ymin: 'number', xmax: 'number', ymax: 'number',\r\n  };\r\n  const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, object,\r\n    _consts__WEBPACK_IMPORTED_MODULE_0__[\"XML_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"TAGS_STRING\"]);\r\n  if (result.error) { return result; }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkObjectTagChildTags(parsedObj) {\r\n  const requiredProperties = { name: 'number|string', bndbox: 'object' };\r\n  const objectTag = parsedObj.annotation.object;\r\n  if (Array.isArray(objectTag)) {\r\n    for (let i = 0; i < objectTag.length; i += 1) {\r\n      const object = objectTag[i];\r\n      let result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, object,\r\n        _consts__WEBPACK_IMPORTED_MODULE_0__[\"XML_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"TAGS_STRING\"]);\r\n      if (result.error) { return result; }\r\n      result = checkbndBoxTag(object.bndbox);\r\n      if (result.error) { return result; }\r\n    }\r\n  } else {\r\n    let result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, objectTag,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"XML_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"TAGS_STRING\"]);\r\n    if (result.error) { return result; }\r\n    result = checkbndBoxTag(objectTag.bndbox);\r\n    if (result.error) { return result; }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkObjectTag(parsedObj) {\r\n  const requiredProperties = { object: 'object|array' };\r\n  return Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, parsedObj.annotation,\r\n    _consts__WEBPACK_IMPORTED_MODULE_0__[\"XML_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"TAGS_STRING\"]);\r\n}\r\n\r\nfunction checkParentTag(parsedObj) {\r\n  const requiredProperties = { annotation: 'object' };\r\n  return Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, parsedObj,\r\n    _consts__WEBPACK_IMPORTED_MODULE_0__[\"XML_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"TAGS_STRING\"]);\r\n}\r\n\r\nfunction checkObject(object, validators) {\r\n  for (let i = 0; i < validators.length; i += 1) {\r\n    const result = validators[i](object.annotationData);\r\n    if (result.error) {\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction validateAnnotationsFile(parsedObj, validAnnotationFiles) {\r\n  const validators = [\r\n    checkParentTag,\r\n    checkObjectTag,\r\n    checkObjectTagChildTags,\r\n  ];\r\n  const validationResult = checkObject(parsedObj.body, validators);\r\n  if (!validationResult.error) {\r\n    setCurrentAnnotationFilesToInactive(validAnnotationFiles);\r\n    parsedObj.active = true;\r\n  }\r\n  return validationResult;\r\n}\r\n\r\nfunction validateVOCXMLFormat(parsedObj, errorObj) {\r\n  if (!errorObj) {\r\n    const datasetObject = _datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getDatasetObject();\r\n    const validAnnotationFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n      return validateAnnotationsFile(parsedObj, validAnnotationFiles);\r\n    }\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n      return validateImageFile(parsedObj, validAnnotationFiles);\r\n    }\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    && parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    const imageName = parsedObj.body.fileMetaData.name;\r\n    if (isImageAlreadyUploaded(imageName)) {\r\n      return { error: false, message: '', alreadyUploaded: true };\r\n    }\r\n  }\r\n  return errorObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VOCXMLValidator.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/YOLOTXTValidator.js":
/*!****************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/YOLOTXTValidator.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return validateYOLOTXTFormat; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/YOLOTXTDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n/* harmony import */ var _sharedUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sharedUtils */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/sharedUtils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction isImageAlreadyUploaded(newImageName) {\r\n  const images = Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_2__[\"getAllImageData\"])();\r\n  for (let i = 0; i < images.length; i += 1) {\r\n    if (newImageName === images[i].name) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction validateImageFile(parsedObj, validAnnotationFiles) {\r\n  const imageName = parsedObj.body.fileMetaData.name;\r\n  const parsedImageName = imageName.substring(0, imageName.indexOf('.'));\r\n  const alreadyUploaded = Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    ? isImageAlreadyUploaded(imageName) : false;\r\n  if (validAnnotationFiles.length > 0) {\r\n    for (let i = 0; i < validAnnotationFiles.length; i += 1) {\r\n      const annotationName = validAnnotationFiles[i].body.fileMetaData.name;\r\n      const parsedAnnotationName = annotationName.substring(0, annotationName.indexOf('.txt'));\r\n      if (parsedImageName === parsedAnnotationName) {\r\n        return {\r\n          error: false, message: '', alreadyUploaded, valid: true,\r\n        };\r\n      }\r\n    }\r\n    return { error: true, message: 'This image is not specified in any of the valid annotations file(s)', alreadyUploaded };\r\n  }\r\n  return { error: false, message: '', alreadyUploaded };\r\n}\r\n\r\nfunction checkObject(object, validators) {\r\n  for (let i = 0; i < validators.length; i += 1) {\r\n    const result = validators[i](object.annotationData);\r\n    if (result.error) {\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkAllRows(rows) {\r\n  for (let i = 0; i < rows.length; i += 1) {\r\n    const attributes = rows[i];\r\n    const annotationFields = {};\r\n    annotationFields['class (1)'] = attributes[0];\r\n    annotationFields['x (2)'] = attributes[1];\r\n    annotationFields['y (3)'] = attributes[2];\r\n    annotationFields['width (4)'] = attributes[3];\r\n    annotationFields['height (5)'] = attributes[4];\r\n    const requiredProperties = {\r\n      'class (1)': 'number', 'x (2)': 'number', 'y (3)': 'number', 'width (4)': 'number', 'height (5)': 'number',\r\n    };\r\n    const result = Object(_sharedUtils__WEBPACK_IMPORTED_MODULE_4__[\"checkObjectProperties\"])(requiredProperties, annotationFields,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"TXT_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"ATTRIBUTES_STRING\"]);\r\n    if (result.error) {\r\n      result.message += ` -> on row ${i + 1}`;\r\n      return result;\r\n    }\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\n// check if setCurrentAnnotationFilesToInactive is actually doing something for other formats\r\n// as the active property may not be used\r\n\r\nfunction validateAnnotationsAgainstActiveClassesFile(parsedObj, activeClassesFile) {\r\n  const { annotationData } = parsedObj.body;\r\n  const numberOfClasses = activeClassesFile.body.annotationData.length;\r\n  for (let i = 0; i < annotationData.length; i += 1) {\r\n    if (Math.abs(annotationData[i][0]) > numberOfClasses - 1) {\r\n      return { error: true, message: `This file contains a class number of ${annotationData[i][0]}, however the classes file only contains ${numberOfClasses} class(es) with the first reference starting from 0` };\r\n    }\r\n  }\r\n  return { error: false, message: '', valid: true };\r\n}\r\n\r\nfunction validateAnnotationsFile(parsedObj, activeClassesFile) {\r\n  const validators = [\r\n    checkAllRows,\r\n  ];\r\n  const validationResult = checkObject(parsedObj.body, validators);\r\n  if (!validationResult.error && activeClassesFile) {\r\n    return validateAnnotationsAgainstActiveClassesFile(parsedObj, activeClassesFile);\r\n  }\r\n  return validationResult;\r\n}\r\n\r\nfunction validateYOLOTXTFormat(parsedObj, errorObj) {\r\n  if (!errorObj) {\r\n    const datasetObject = _datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getDatasetObject();\r\n    const activeClassesFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]];\r\n    const validAnnotationFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n      return validateAnnotationsFile(parsedObj, activeClassesFile);\r\n    }\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n      return validateImageFile(parsedObj, validAnnotationFiles);\r\n    }\r\n    // do not need any validation for a classes file\r\n    if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILE_INDICATOR\"]) {\r\n      return { error: false, message: '' };\r\n    }\r\n  }\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_3__[\"getReuseAlreadyUploadedImagesState\"])()\r\n    && parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    const imageName = parsedObj.body.fileMetaData.name;\r\n    if (isImageAlreadyUploaded(imageName)) {\r\n      return { error: false, message: '', alreadyUploaded: true };\r\n    }\r\n  }\r\n  return errorObj;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/YOLOTXTValidator.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/sharedUtils.js":
/*!***********************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/sharedUtils.js ***!
  \***********************************************************************************************/
/*! exports provided: assertObjectType, checkObjectProperties, checkArrayElements */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assertObjectType\", function() { return assertObjectType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkObjectProperties\", function() { return checkObjectProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkArrayElements\", function() { return checkArrayElements; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n\r\n\r\nfunction checkNumberOrStringTypeByFormat(subjectVariable, format) {\r\n  switch (format) {\r\n    case _consts__WEBPACK_IMPORTED_MODULE_0__[\"XML_POSTFIX\"]:\r\n      return typeof subjectVariable['#text'] === 'string' || !Number.isNaN(parseInt(subjectVariable['#text'], 10));\r\n    default:\r\n      return typeof subjectVariable === 'string' || typeof subjectVariable === 'number';\r\n  }\r\n}\r\n\r\nfunction checkStringTypeByFormat(subjectVariable, format) {\r\n  switch (format) {\r\n    case _consts__WEBPACK_IMPORTED_MODULE_0__[\"XML_POSTFIX\"]:\r\n      return typeof subjectVariable['#text'] === 'string';\r\n    default:\r\n      return typeof subjectVariable === 'string';\r\n  }\r\n}\r\n\r\nfunction checkNumberTypeByFormat(subjectVariable, format) {\r\n  switch (format) {\r\n    case _consts__WEBPACK_IMPORTED_MODULE_0__[\"CSV_POSTFIX\"]:\r\n      return !Number.isNaN(Number.parseInt(subjectVariable, 10)) && typeof Number.parseInt(subjectVariable, 10) === 'number';\r\n    case _consts__WEBPACK_IMPORTED_MODULE_0__[\"TXT_POSTFIX\"]:\r\n      return !Number.isNaN(subjectVariable) && typeof subjectVariable === 'number';\r\n    case _consts__WEBPACK_IMPORTED_MODULE_0__[\"XML_POSTFIX\"]:\r\n      return !Number.isNaN(parseInt(subjectVariable['#text'], 10));\r\n    default:\r\n      return typeof subjectVariable === 'number';\r\n  }\r\n}\r\n\r\n// important - does not check for length\r\nfunction assertObjectType(expectedType, subjectVariable, format) {\r\n  switch (expectedType) {\r\n    case 'number':\r\n      return checkNumberTypeByFormat(subjectVariable, format);\r\n    case 'string':\r\n      return checkStringTypeByFormat(subjectVariable, format);\r\n    case 'number|string':\r\n      return checkNumberOrStringTypeByFormat(subjectVariable, format);\r\n    case 'object':\r\n      return typeof subjectVariable === 'object';\r\n    case 'array':\r\n      return Array.isArray(subjectVariable);\r\n    case 'array:number':\r\n      return Array.isArray(subjectVariable) && subjectVariable.filter(entry => typeof entry !== 'number').length === 0;\r\n    case 'array:object':\r\n      return Array.isArray(subjectVariable) && subjectVariable.filter(entry => typeof entry !== 'object').length === 0;\r\n    default:\r\n      return true;\r\n  }\r\n}\r\n\r\nfunction checkArrayElements(array, name, format, {\r\n  elementsType, length, maxLength, minLength, evenOdd,\r\n}) {\r\n  if (length && array.length !== length) {\r\n    return { error: true, message: `${name} array must contain ${length} elements but instead found ${array.length}` };\r\n  }\r\n  if (maxLength && array.length > maxLength) {\r\n    return { error: true, message: `${name} array must contain ${maxLength} elements at most but instead found ${array.length}` };\r\n  }\r\n  if (minLength && array.length < minLength) {\r\n    return { error: true, message: `${name} array must contain at least ${minLength} elements but instead found ${array.length}` };\r\n  }\r\n  if (evenOdd && ((evenOdd === 'even' && array.length % 2 === 1) || (evenOdd === 'odd' && array.length % 2 === 0))) {\r\n    return { error: true, message: `${name} array must contain an even number of elements but instead found ${array.length}` };\r\n  }\r\n  if (elementsType && !assertObjectType(elementsType, array, format)) {\r\n    return { error: true, message: `${name} array contains elements of incorrect type` };\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\nfunction checkObjectProperties(requiredProperties, subjectObject, format, entitiesType) {\r\n  const undefinedProperties = [];\r\n  Object.keys(requiredProperties).forEach((property) => {\r\n    if (subjectObject[property] === undefined) {\r\n      undefinedProperties.push(property);\r\n    }\r\n  });\r\n  if (undefinedProperties.length > 0) {\r\n    return { error: true, message: `The following ${entitiesType} have not been found: ${undefinedProperties.join(', ')}` };\r\n  }\r\n  const nullProperties = [];\r\n  Object.keys(requiredProperties).forEach((property) => {\r\n    if (subjectObject[property] === null) {\r\n      nullProperties.push(property);\r\n    }\r\n  });\r\n  if (nullProperties.length > 0) {\r\n    return { error: true, message: `The following ${entitiesType} are null: ${nullProperties}` };\r\n  }\r\n  const incorrectTypeProperties = [];\r\n  Object.keys(requiredProperties).forEach((property) => {\r\n    if (!assertObjectType(requiredProperties[property], subjectObject[property], format)) {\r\n      incorrectTypeProperties.push(property);\r\n    }\r\n  });\r\n  if (incorrectTypeProperties.length > 0) {\r\n    return { error: true, message: `The following ${entitiesType} contain an incorrect type: ${incorrectTypeProperties}` };\r\n  }\r\n  return { error: false, message: '' };\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/sharedUtils.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/COCOJSONRemoveFileHandler.js":
/*!***************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/COCOJSONRemoveFileHandler.js ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_removeFileHandlerGenericBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/removeFileHandlerGenericBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerGenericBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/COCOJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_COCOJSONValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/COCOJSONValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/COCOJSONValidator.js\");\n\r\n\r\n\r\n\r\nconst removeFileHandler = _builders_removeFileHandlerGenericBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildRemoveFileHandlerForOneAnnotationFileStrategy(_datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_COCOJSONValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (removeFileHandler);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/COCOJSONRemoveFileHandler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/CSVRemoveFileHandler.js":
/*!**********************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/CSVRemoveFileHandler.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_removeFileHandlerGenericBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/removeFileHandlerGenericBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerGenericBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/CSVDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_CSVValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/CSVValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/CSVValidator.js\");\n\r\n\r\n\r\n\r\nconst removeFileHandler = _builders_removeFileHandlerGenericBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildRemoveFileHandlerForOneAnnotationFileStrategy(_datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_CSVValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (removeFileHandler);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/CSVRemoveFileHandler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/VGGJSONRemoveFileHandler.js":
/*!**************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/VGGJSONRemoveFileHandler.js ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_removeFileHandlerGenericBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/removeFileHandlerGenericBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerGenericBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/VGGJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_VGGJSONValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/VGGJSONValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VGGJSONValidator.js\");\n\r\n\r\n\r\n\r\nconst removeFileHandler = _builders_removeFileHandlerGenericBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildRemoveFileHandlerForOneAnnotationFileStrategy(_datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_VGGJSONValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (removeFileHandler);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/VGGJSONRemoveFileHandler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/VOCXMLRemoveFileHandler.js":
/*!*************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/VOCXMLRemoveFileHandler.js ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_removeFileHandlerGenericBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/removeFileHandlerGenericBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerGenericBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/VOCXMLDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_VOCXMLValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/VOCXMLValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VOCXMLValidator.js\");\n\r\n\r\n\r\n\r\nconst removeFileHandler = _builders_removeFileHandlerGenericBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildRemoveFileHandlerForMultipleAnnotationFilesStrategy(_datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_VOCXMLValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (removeFileHandler);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/VOCXMLRemoveFileHandler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/YOLOTXTRemoveFileHandler.js":
/*!**************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/YOLOTXTRemoveFileHandler.js ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_removeFileHandlerInclClassesBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/removeFileHandlerInclClassesBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerInclClassesBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/YOLOTXTDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_YOLOTXTValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/YOLOTXTValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/YOLOTXTValidator.js\");\n\r\n\r\n\r\n\r\nconst removeFileHandler = _builders_removeFileHandlerInclClassesBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildRemoveFileHandlerInclClasses(_datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_YOLOTXTValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (removeFileHandler);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/YOLOTXTRemoveFileHandler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerGenericBuilder.js":
/*!******************************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerGenericBuilder.js ***!
  \******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RemoveFileHandlerGenericBuilder; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../style */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js\");\n\r\n\r\n\r\n// pontential to move this out into shared validate logic\r\n// can't at the moment because validate is just one default function\r\nfunction validateExistingImages(datasetObject, updateImageFileErrorStatusFunc, validateFormatFunc) {\r\n  let foundValid = false;\r\n  Object.keys(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]]).forEach((key) => {\r\n    const imageFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][key];\r\n    const validationResult = validateFormatFunc(imageFile);\r\n    if (!validationResult.error) { foundValid = true; }\r\n    const { name } = imageFile.body.fileMetaData;\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToImagesTable\"])(name, validationResult);\r\n    updateImageFileErrorStatusFunc(name, validationResult.error);\r\n  });\r\n  if (foundValid) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"enableFinishButton\"])();\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n  }\r\n}\r\n\r\nfunction setNewActiveAnnotationFileRow(activeAnnotationFile, datasetObject,\r\n  updateImageFileErrorStatusFunc, validateFormatFunc) {\r\n  if (activeAnnotationFile) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAnnotationRowToDefault\"])(activeAnnotationFile.body.fileMetaData.name);\r\n    activeAnnotationFile.newlyActive = false;\r\n    validateExistingImages(datasetObject, updateImageFileErrorStatusFunc, validateFormatFunc);\r\n  }\r\n}\r\n\r\nfunction removeAnnotationFileWhenMultipleAnnotationFilesAllowed(fileName,\r\n  errorMessage, datasetObject) {\r\n  if (errorMessage) {\r\n    const annotationsArrayName = _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"];\r\n    this.datasetObjectManager.removeFile(fileName, annotationsArrayName);\r\n  } else {\r\n    this.datasetObjectManager.removeFile(fileName,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]);\r\n    if (datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]].length === 0) {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAllImagesTableRowsToDefault\"])();\r\n    } else {\r\n      validateExistingImages(datasetObject, this.datasetObjectManager.updateImageFileErrorStatus,\r\n        this.validateFormat);\r\n    }\r\n  }\r\n}\r\n\r\nfunction removeAnnotationFileWhenOneAnnotationFileAllowed(fileName, errorMessage, datasetObject) {\r\n  if (errorMessage) {\r\n    let annotationsArrayName;\r\n    if (errorMessage === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ONE_ANNOTATION_FILE_ALLOWED_ERROR_MESSAGE\"]) {\r\n      annotationsArrayName = _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"];\r\n    } else {\r\n      annotationsArrayName = _consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"];\r\n    }\r\n    this.datasetObjectManager.removeFile(fileName, annotationsArrayName);\r\n  } else {\r\n    this.datasetObjectManager.replaceActiveFileIfRemoving(fileName,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"],\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]);\r\n    this.datasetObjectManager.removeFile(fileName,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]);\r\n    if (this.datasetObjectManager.getActiveAnnotationFile() !== null) {\r\n      setNewActiveAnnotationFileRow(this.datasetObjectManager.getActiveAnnotationFile(),\r\n        datasetObject, this.datasetObjectManager.updateImageFileErrorStatus, this.validateFormat);\r\n    } else {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAllImagesTableRowsToDefault\"])();\r\n    }\r\n  }\r\n}\r\n\r\nfunction removeFileHandler(fileName, tableName, errorMessage) {\r\n  const datasetObject = this.datasetObjectManager.getDatasetObject();\r\n  if (tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"]) {\r\n    this.removeAnnotationFileFunc(fileName, errorMessage, datasetObject);\r\n  } else if (tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGES_TABLE_INDICATOR\"]) {\r\n    this.datasetObjectManager.removeFile(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]);\r\n    if (Object.keys(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]])\r\n      .filter((key => !datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][key].error))\r\n      .length === 0) {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n    }\r\n  }\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"removeRow\"])(fileName, tableName);\r\n}\r\n\r\nfunction buildRemoveFileHandlerForMultipleAnnotationFilesStrategy(datasetObjectManager,\r\n  validateFormat) {\r\n  const removeAnnotationFileFunc = removeAnnotationFileWhenMultipleAnnotationFilesAllowed;\r\n  return removeFileHandler.bind({ datasetObjectManager, validateFormat, removeAnnotationFileFunc });\r\n}\r\n\r\nfunction buildRemoveFileHandlerForOneAnnotationFileStrategy(datasetObjectManager, validateFormat) {\r\n  const removeAnnotationFileFunc = removeAnnotationFileWhenOneAnnotationFileAllowed;\r\n  return removeFileHandler.bind({ datasetObjectManager, validateFormat, removeAnnotationFileFunc });\r\n}\r\n\r\nconst RemoveFileHandlerGenericBuilder = {\r\n  buildRemoveFileHandlerForOneAnnotationFileStrategy,\r\n  buildRemoveFileHandlerForMultipleAnnotationFilesStrategy,\r\n};\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerGenericBuilder.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerInclClassesBuilder.js":
/*!**********************************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerInclClassesBuilder.js ***!
  \**********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RemoveFileHandlerInclClassesBuilder; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../style */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js\");\n\r\n\r\n\r\nfunction validateExistingImages(datasetObject, updateImageFileErrorStatusFunc, validateFormatFunc) {\r\n  if (datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]].length > 0) {\r\n    let foundValid = false;\r\n    Object.keys(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]]).forEach((key) => {\r\n      const imageFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][key];\r\n      const validationResult = validateFormatFunc(imageFile);\r\n      if (!validationResult.error) { foundValid = true; }\r\n      const { name } = imageFile.body.fileMetaData;\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToImagesTable\"])(name, validationResult);\r\n      updateImageFileErrorStatusFunc(name, validationResult.error);\r\n    });\r\n    if (!foundValid) {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n    }\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAllImagesTableRowsToDefault\"])();\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n  }\r\n}\r\n\r\nfunction validateAnnotationsFile(annotationsArray, filesToBeMovedArray, moveWhenFalty,\r\n  validateFormatFunc) {\r\n  let foundValid = false;\r\n  annotationsArray.forEach((annotationsFile) => {\r\n    const validationResult = validateFormatFunc(annotationsFile);\r\n    const { name } = annotationsFile.body.fileMetaData;\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToAnnotationsTable\"])(name, validationResult);\r\n    if (!validationResult.error) {\r\n      foundValid = true;\r\n      if (!moveWhenFalty) { filesToBeMovedArray.push(annotationsFile); }\r\n    } else if (moveWhenFalty) {\r\n      filesToBeMovedArray.push(annotationsFile);\r\n    }\r\n  });\r\n  return foundValid;\r\n}\r\n\r\nfunction validateExistingAnnotations(datasetObject, moveAnnotationFileToValidArrayFunc,\r\n  moveAnnotationFileToFaltyArrayFunc, validateFormatFunc) {\r\n  const filesToBeMovedToFaltyArray = [];\r\n  const filesToBeMovedToValidArray = [];\r\n  const foundValidInValidArray = validateAnnotationsFile(\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]], filesToBeMovedToFaltyArray,\r\n    true, validateFormatFunc,\r\n  );\r\n  const foundValidInFaltyArray = validateAnnotationsFile(\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]], filesToBeMovedToValidArray,\r\n    false, validateFormatFunc,\r\n  );\r\n  filesToBeMovedToFaltyArray.forEach((annotationFile) => {\r\n    moveAnnotationFileToFaltyArrayFunc(annotationFile);\r\n  });\r\n  filesToBeMovedToValidArray.forEach((annotationFile) => {\r\n    moveAnnotationFileToValidArrayFunc(annotationFile);\r\n  });\r\n  if ((!foundValidInValidArray && !foundValidInFaltyArray)\r\n    || !datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]]) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"enableFinishButton\"])();\r\n  }\r\n}\r\n\r\nfunction setNewActiveClassesFileRow(activeClassesFile, datasetObject,\r\n  updateImageFileErrorStatusFunc, validateFormatFunc, moveAnnotationFileToValidArrayFunc,\r\n  moveAnnotationFileToFaltyArrayFunc) {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeClassesRowToDefault\"])(activeClassesFile.body.fileMetaData.name);\r\n  activeClassesFile.newlyActive = false;\r\n  validateExistingAnnotations(datasetObject, moveAnnotationFileToValidArrayFunc,\r\n    moveAnnotationFileToFaltyArrayFunc, validateFormatFunc);\r\n  validateExistingImages(datasetObject, updateImageFileErrorStatusFunc, validateFormatFunc);\r\n}\r\n\r\nfunction removeFileHandlerWthClasses(fileName, tableName, errorMessage) {\r\n  const datasetObject = this.datasetObjectManager.getDatasetObject();\r\n  if (tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"]) {\r\n    this.datasetObjectManager.removeFile(fileName,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]);\r\n    this.datasetObjectManager.removeFile(fileName,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]);\r\n    if (!errorMessage) {\r\n      if (datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]].length === 0) {\r\n        Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n        Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAllImagesTableRowsToDefault\"])();\r\n      } else {\r\n        validateExistingImages(datasetObject,\r\n          this.datasetObjectManager.updateImageFileErrorStatus,\r\n          this.validateFormat);\r\n      }\r\n    }\r\n  } else if (tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGES_TABLE_INDICATOR\"]) {\r\n    this.datasetObjectManager.removeFile(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]);\r\n    if (Object.keys(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]])\r\n      .filter((key => !datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][key].error))\r\n      .length === 0) {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n    }\r\n  } else if (tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_TABLE_INDICATOR\"]) {\r\n    this.datasetObjectManager.removeFile(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"]);\r\n    if (!errorMessage) {\r\n      this.datasetObjectManager.replaceActiveFileIfRemoving(fileName,\r\n        _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"], _consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]);\r\n      if (datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]] !== null) {\r\n        setNewActiveClassesFileRow(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_CLASSES_FILE\"]],\r\n          datasetObject, this.datasetObjectManager.updateImageFileErrorStatus, this.validateFormat,\r\n          this.datasetObjectManager.moveAnnotationFileToValidArray,\r\n          this.datasetObjectManager.moveAnnotationFileToFaltyArray);\r\n      } else {\r\n        validateExistingAnnotations(datasetObject,\r\n          this.datasetObjectManager.moveAnnotationFileToValidArray,\r\n          this.datasetObjectManager.moveAnnotationFileToFaltyArray,\r\n          this.validateFormat);\r\n        validateExistingImages(datasetObject,\r\n          this.datasetObjectManager.updateImageFileErrorStatus,\r\n          this.validateFormat);\r\n      }\r\n    }\r\n  }\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"removeRow\"])(fileName, tableName);\r\n}\r\n\r\nfunction buildRemoveFileHandlerInclClasses(datasetObjectManager, validateFormat) {\r\n  return removeFileHandlerWthClasses.bind({ datasetObjectManager, validateFormat });\r\n}\r\n\r\nconst RemoveFileHandlerInclClassesBuilder = {\r\n  buildRemoveFileHandlerInclClasses,\r\n};\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/builders/removeFileHandlerInclClassesBuilder.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js":
/*!************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js ***!
  \************************************************************************/
/*! exports provided: hideUploadDatasetsViewAssets, insertRowToImagesTable, changeAllImagesTableRowsToDefault, assignUploadDatasetsViewLocalVariables, prepareUploadDatasetsView, insertRowToAnnotationsTable, changeAnnotationRowToDefault, removeRow, enableFinishButton, disableFinishButton, insertRowToClassesTable, changeClassesRowToDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideUploadDatasetsViewAssets\", function() { return hideUploadDatasetsViewAssets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertRowToImagesTable\", function() { return insertRowToImagesTable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeAllImagesTableRowsToDefault\", function() { return changeAllImagesTableRowsToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignUploadDatasetsViewLocalVariables\", function() { return assignUploadDatasetsViewLocalVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareUploadDatasetsView\", function() { return prepareUploadDatasetsView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertRowToAnnotationsTable\", function() { return insertRowToAnnotationsTable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeAnnotationRowToDefault\", function() { return changeAnnotationRowToDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeRow\", function() { return removeRow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enableFinishButton\", function() { return enableFinishButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disableFinishButton\", function() { return disableFinishButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertRowToClassesTable\", function() { return insertRowToClassesTable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeClassesRowToDefault\", function() { return changeClassesRowToDefault; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _utils_browserType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/browserType */ \"./src/js/tools/utils/browserType.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\n\r\n\r\nlet titleElement = null;\r\nlet table1Element = null;\r\nlet table2Element = null;\r\nlet table3Element = null;\r\nlet backButtonElement = null;\r\nlet imagesTableElement = null;\r\nlet classesTableElement = null;\r\nlet finishButtonElement = null;\r\nlet buttonsGroupElement = null;\r\nlet uploadButtonElement = null;\r\nlet annotationsTableTitle = null;\r\nlet annotationsTableElement = null;\r\nlet uploadDatasetsModalElement = null;\r\nlet allImagesStyleSetToDefault = null;\r\nlet imagesTableOuterContainerElement = null;\r\nlet uploadDatasetFilesTriggerElement = null;\r\nlet uploadDatasetsOuterContainerElement = null;\r\nlet annotationsTableOuterContainerElement = null;\r\n\r\nlet popoverIndex = 0;\r\nconst modalWidth = 678;\r\nconst modalHeight = 390;\r\nlet currentTableStrategy = _consts__WEBPACK_IMPORTED_MODULE_0__[\"TWO_TABLE_STRATEGY\"];\r\nlet finishButtonEnabled = false;\r\n\r\nconst POPOVER_LEFT_POSITION_CLASS = 'upload-datasets-modal-upload-datasets-table-row-popover-left';\r\nconst POPOVER_ARROW_LEFT_POSITION_CLASS = 'upload-datasets-modal-upload-datasets-table-row-popover-arrow-left';\r\nconst POPOVER_RIGHT_POSITION_CLASS = 'upload-datasets-modal-upload-datasets-table-row-popover-right';\r\nconst POPOVER_ARROW_RIGHT_POSITION_CLASS = 'upload-datasets-modal-upload-datasets-table-row-popover-arrow-right';\r\nconst POPOVER_CENTER_POSITION_CLASS = 'upload-datasets-modal-upload-datasets-table-row-popover-center';\r\nconst POPOVER_ARROW_CENTER_POSITION_CLASS = 'upload-datasets-modal-upload-datasets-table-row-popover-arrow-center';\r\nconst TWO_TABLE_STRATEGY_CLASS = 'upload-datsets-modal-upload-datasets-two-table-strategy-section';\r\nconst THREE_TABLE_STRATEGY_CLASS = 'upload-datsets-modal-upload-datasets-three-table-strategy-section';\r\nconst POPOVER_ERROR_THEME_CLASS = 'error-popover-color-theme';\r\nconst POPOVER_ARROW_ERROR_THEME_CLASS = 'upload-datasets-modal-upload-datasets-table-error-row-popover-arrow';\r\nconst POPOVER_INFORMATION_THEME_CLASS = 'information-popover-color-theme';\r\nconst POPOVER_ARROW_INFORMATION_THEME_CLASS = 'upload-datasets-modal-upload-datasets-table-information-row-popover-arrow';\r\nconst ERROR_TEXT_THEME_CLASS = 'upload-datasets-modal-upload-datasets-table-row-text-error';\r\nconst PROCEED_BUTTON_CLASS = 'popup-proceed-button';\r\nconst ACTIVE_BUTTON_CLASS = 'popup-label-button';\r\nconst DISABLED_BUTTON_CLASS = 'popup-label-button-disabled';\r\nconst CLASSES_FILE_POPUP_INFORMATION = 'If this file belongs in the annotations table, make sure that each row contains exactly 5 attributes: class x y width height';\r\nlet currentAnnotationsPopoverPositionClass = null;\r\nlet currentAnnotationsPopoverArrowPositionClass = null;\r\n\r\nfunction createTableRowElementMarkup(fileName, tableName) {\r\n  return `\r\n    <div class=\"upload-datasets-modal-upload-datasets-table-row\">\r\n        <div onmouseenter=\"displayActiveRemoveFileIcon(this)\" onmouseleave=\"displayDefaultRemoveFileIcon(this)\" onclick=\"removeFileFromUploadDatasetFiles('${fileName}', '${tableName}')\">\r\n          <img src=\"x-icon-default.svg\" class=\"upload-datasets-modal-remove-file-button\"  alt=\"remove\">\r\n          <img src=\"x-icon-active.svg\" style=\"display: none\" class=\"upload-datasets-modal-remove-file-button\" alt=\"remove\">\r\n        </div>\r\n      <div class=\"upload-datasets-modal-upload-datasets-table-row-text\">${fileName}</div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction addPopoverArrowMarginLeftStyle(tableName) {\r\n  if (currentTableStrategy === _consts__WEBPACK_IMPORTED_MODULE_0__[\"TWO_TABLE_STRATEGY\"]\r\n      && tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"]) {\r\n    return `style=\"margin-left: ${(((modalWidth / 2 / 2) - 20) / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])())}px;\"`;\r\n  }\r\n  if (currentTableStrategy === _consts__WEBPACK_IMPORTED_MODULE_0__[\"THREE_TABLE_STRATEGY\"]\r\n    && tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_TABLE_INDICATOR\"]) {\r\n    return `style=\"margin-left: ${(((modalWidth / 3 / 2) + 34) / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])())}px;\"`;\r\n  }\r\n  return '';\r\n}\r\n\r\nfunction createTableRowElementMarkupWthPopover(fileName, message, popoverPositionClass,\r\n  popoverArrowPositionClass, tableName, index, popoverColorThemeClass,\r\n  popoverArrowTheme, textThemeClass) {\r\n  return `\r\n    <div id=\"upload-datasets-modal-file-popover-${index}\" class=\"popover upload-datasets-modal-upload-datasets-table-row-popover ${popoverColorThemeClass} ${popoverPositionClass}\">${message}</div>\r\n    <div id=\"upload-datasets-modal-file-popover-arrow-${index}\" ${addPopoverArrowMarginLeftStyle(tableName)} class=\"arrow ${popoverArrowTheme} ${popoverArrowPositionClass}\"></div>\r\n    <div class=\"upload-datasets-modal-upload-datasets-table-row\">\r\n        <div onmouseenter=\"displayActiveRemoveFileIcon(this)\" onmouseleave=\"displayDefaultRemoveFileIcon(this)\" onclick=\"removeFileFromUploadDatasetFiles('${fileName}', '${tableName}')\">\r\n          <img src=\"x-icon-default.svg\" class=\"upload-datasets-modal-remove-file-button\" alt=\"remove\">\r\n          <img src=\"x-icon-active.svg\" style=\"display: none\" class=\"upload-datasets-modal-remove-file-button\" alt=\"remove\">\r\n        </div>\r\n        <div class=\"upload-datasets-modal-upload-datasets-table-row-text ${textThemeClass}\" onmouseenter=\"displayUploadDatasetsAnnotationFilePopover(${index}, '${tableName}')\" onmouseleave=\"removeUploadDatasetsAnnotationFilePopover(${popoverIndex})\">${fileName}</div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nwindow.displayUploadDatasetsAnnotationFilePopover = (id, tableName) => {\r\n  const tableOuterContainerElement = tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"]\r\n    ? annotationsTableOuterContainerElement : imagesTableOuterContainerElement;\r\n  document.getElementById(`upload-datasets-modal-file-popover-${id}`).style.display = 'block';\r\n  document.getElementById(`upload-datasets-modal-file-popover-${id}`).style.marginTop = `-${tableOuterContainerElement.scrollTop + 29.4 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])()}px`;\r\n  document.getElementById(`upload-datasets-modal-file-popover-arrow-${id}`).style.display = 'block';\r\n  document.getElementById(`upload-datasets-modal-file-popover-arrow-${id}`).style.marginTop = `-${tableOuterContainerElement.scrollTop + 4 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])()}px`;\r\n};\r\n\r\nwindow.removeUploadDatasetsAnnotationFilePopover = (id) => {\r\n  document.getElementById(`upload-datasets-modal-file-popover-${id}`).style.display = 'none';\r\n  document.getElementById(`upload-datasets-modal-file-popover-arrow-${id}`).style.display = 'none';\r\n};\r\n\r\nwindow.displayActiveRemoveFileIcon = (element) => {\r\n  element.childNodes[1].style.display = 'none';\r\n  element.childNodes[3].style.display = '';\r\n};\r\n\r\nwindow.displayDefaultRemoveFileIcon = (element) => {\r\n  element.childNodes[1].style.display = '';\r\n  element.childNodes[3].style.display = 'none';\r\n};\r\n\r\nfunction getFileName(tableBody, rowIndex) {\r\n  if (tableBody.childNodes[rowIndex].childNodes[0].childNodes[1].classList[1] === 'upload-datasets-modal-upload-datasets-table-row-popover') {\r\n    return {\r\n      fileName: tableBody.childNodes[rowIndex].childNodes[0].childNodes[5].childNodes[3].innerHTML,\r\n      currentRowHasError: true,\r\n    };\r\n  }\r\n  return {\r\n    fileName: tableBody.childNodes[rowIndex].childNodes[0].childNodes[1].childNodes[3].innerHTML,\r\n    currentRowHasError: false,\r\n  };\r\n}\r\n\r\nfunction getTableElement(tableName) {\r\n  switch (tableName) {\r\n    case _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"]:\r\n      return annotationsTableElement;\r\n    case _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGES_TABLE_INDICATOR\"]:\r\n      return imagesTableElement;\r\n    case _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_TABLE_INDICATOR\"]:\r\n      return classesTableElement;\r\n    default:\r\n      return annotationsTableElement;\r\n  }\r\n}\r\n\r\nfunction removeRow(subjectFileName, tableName) {\r\n  const tableElement = getTableElement(tableName);\r\n  const tableBody = tableElement.childNodes[1];\r\n  for (let i = 0; i < tableBody.childNodes.length; i += 1) {\r\n    const { fileName } = getFileName(tableBody, i);\r\n    if (subjectFileName === fileName) {\r\n      tableBody.childNodes[i].remove();\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction getTableName(tableId) {\r\n  switch (tableId) {\r\n    case 'upload-datsets-modal-upload-datasets-annotations-table':\r\n      return _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"];\r\n    case 'upload-datsets-modal-upload-datasets-images-table':\r\n      return _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGES_TABLE_INDICATOR\"];\r\n    case 'upload-datsets-modal-upload-datasets-classes-table':\r\n      return _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_TABLE_INDICATOR\"];\r\n    default:\r\n      return _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"];\r\n  }\r\n}\r\n\r\nfunction checkFileAlreadyInTable(newFileName, validationResult, tableElement,\r\n  popoverPositionClass, popoverArrowPositionClass) {\r\n  const tableBody = tableElement.childNodes[1];\r\n  for (let i = 0; i < tableBody.childNodes.length; i += 1) {\r\n    const { fileName, currentRowHasError } = getFileName(tableBody, i);\r\n    if (newFileName === fileName) {\r\n      const tableName = getTableName(tableElement.id);\r\n      const rowParentElement = tableBody.childNodes[i].childNodes[0];\r\n      if (validationResult.error) {\r\n        rowParentElement.innerHTML = createTableRowElementMarkupWthPopover(\r\n          newFileName, validationResult.message, popoverPositionClass, popoverArrowPositionClass,\r\n          tableName, popoverIndex += 1, POPOVER_ERROR_THEME_CLASS, POPOVER_ARROW_ERROR_THEME_CLASS,\r\n          ERROR_TEXT_THEME_CLASS,\r\n        );\r\n        if (tableName === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGES_TABLE_INDICATOR\"]) {\r\n          allImagesStyleSetToDefault = false;\r\n        }\r\n      } else if (validationResult.information) {\r\n        rowParentElement.innerHTML = createTableRowElementMarkupWthPopover(\r\n          newFileName, validationResult.message, popoverPositionClass, popoverArrowPositionClass,\r\n          tableName, popoverIndex += 1, POPOVER_INFORMATION_THEME_CLASS,\r\n          POPOVER_ARROW_INFORMATION_THEME_CLASS, '',\r\n        );\r\n      } else if (currentRowHasError && !validationResult.error) {\r\n        rowParentElement.innerHTML = createTableRowElementMarkup(newFileName, tableName);\r\n      }\r\n      rowParentElement.scrollIntoView();\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction insertRowToClassesTable(fileName, validationResult) {\r\n  let popoverThemeClass;\r\n  let popoverArrowThemeClass;\r\n  let textThemeClass;\r\n  if (!validationResult.error) {\r\n    validationResult.information = true;\r\n    validationResult.message = CLASSES_FILE_POPUP_INFORMATION;\r\n    popoverThemeClass = POPOVER_INFORMATION_THEME_CLASS;\r\n    popoverArrowThemeClass = POPOVER_ARROW_INFORMATION_THEME_CLASS;\r\n    textThemeClass = '';\r\n  } else {\r\n    popoverThemeClass = POPOVER_ERROR_THEME_CLASS;\r\n    popoverArrowThemeClass = POPOVER_ARROW_ERROR_THEME_CLASS;\r\n    textThemeClass = ERROR_TEXT_THEME_CLASS;\r\n  }\r\n  if (!checkFileAlreadyInTable(fileName, validationResult,\r\n    classesTableElement, POPOVER_LEFT_POSITION_CLASS,\r\n    POPOVER_ARROW_LEFT_POSITION_CLASS)) {\r\n    const row = classesTableElement.insertRow(-1);\r\n    const cell = row.insertCell(0);\r\n    cell.innerHTML = createTableRowElementMarkupWthPopover(fileName, validationResult.message,\r\n      POPOVER_LEFT_POSITION_CLASS, POPOVER_ARROW_LEFT_POSITION_CLASS,\r\n      _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_TABLE_INDICATOR\"], popoverIndex += 1,\r\n      popoverThemeClass, popoverArrowThemeClass, textThemeClass);\r\n    cell.scrollIntoView();\r\n  }\r\n}\r\n\r\nfunction insertRowToImagesTable(fileName, validationResult) {\r\n  if (!checkFileAlreadyInTable(fileName, validationResult,\r\n    imagesTableElement, POPOVER_RIGHT_POSITION_CLASS,\r\n    POPOVER_ARROW_RIGHT_POSITION_CLASS)) {\r\n    const row = imagesTableElement.insertRow(-1);\r\n    const cell = row.insertCell(0);\r\n    if (validationResult.error) {\r\n      cell.innerHTML = createTableRowElementMarkupWthPopover(fileName, validationResult.message,\r\n        POPOVER_RIGHT_POSITION_CLASS, POPOVER_ARROW_RIGHT_POSITION_CLASS,\r\n        _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGES_TABLE_INDICATOR\"], popoverIndex += 1,\r\n        POPOVER_ERROR_THEME_CLASS, POPOVER_ARROW_ERROR_THEME_CLASS,\r\n        ERROR_TEXT_THEME_CLASS);\r\n      allImagesStyleSetToDefault = false;\r\n    } else {\r\n      cell.innerHTML = createTableRowElementMarkup(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGES_TABLE_INDICATOR\"]);\r\n    }\r\n    cell.scrollIntoView();\r\n  }\r\n}\r\n\r\nfunction changeAllImagesTableRowsToDefault() {\r\n  if (!allImagesStyleSetToDefault) {\r\n    const tableBody = imagesTableElement.childNodes[1];\r\n    for (let i = 0; i < tableBody.childNodes.length; i += 1) {\r\n      const rowParentElement = tableBody.childNodes[i].childNodes[0];\r\n      const { fileName } = getFileName(tableBody, i);\r\n      rowParentElement.innerHTML = createTableRowElementMarkup(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGES_TABLE_INDICATOR\"]);\r\n      rowParentElement.scrollIntoView();\r\n    }\r\n  }\r\n  allImagesStyleSetToDefault = true;\r\n}\r\n\r\nfunction changeClassesRowToDefault(classesFileName) {\r\n  const tableBody = classesTableElement.childNodes[1];\r\n  for (let i = 0; i < tableBody.childNodes.length; i += 1) {\r\n    const rowParentElement = tableBody.childNodes[i].childNodes[0];\r\n    const { fileName } = getFileName(tableBody, i);\r\n    if (classesFileName === fileName) {\r\n      rowParentElement.innerHTML = createTableRowElementMarkup(\r\n        classesFileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_TABLE_INDICATOR\"],\r\n      );\r\n      rowParentElement.scrollIntoView();\r\n    }\r\n  }\r\n}\r\n\r\nfunction changeAnnotationRowToDefault(annotationFileName) {\r\n  const tableBody = annotationsTableElement.childNodes[1];\r\n  for (let i = 0; i < tableBody.childNodes.length; i += 1) {\r\n    const rowParentElement = tableBody.childNodes[i].childNodes[0];\r\n    const { fileName } = getFileName(tableBody, i);\r\n    if (annotationFileName === fileName) {\r\n      rowParentElement.innerHTML = createTableRowElementMarkup(\r\n        annotationFileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"],\r\n      );\r\n      rowParentElement.scrollIntoView();\r\n    }\r\n  }\r\n}\r\n\r\nfunction insertRowToAnnotationsTable(fileName, validationResult) {\r\n  if (!checkFileAlreadyInTable(fileName, validationResult,\r\n    annotationsTableElement, currentAnnotationsPopoverPositionClass,\r\n    currentAnnotationsPopoverArrowPositionClass)) {\r\n    const row = annotationsTableElement.insertRow(-1);\r\n    const cell = row.insertCell(0);\r\n    if (validationResult.error) {\r\n      cell.innerHTML = createTableRowElementMarkupWthPopover(fileName, validationResult.message,\r\n        currentAnnotationsPopoverPositionClass, currentAnnotationsPopoverArrowPositionClass,\r\n        _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"], popoverIndex += 1,\r\n        POPOVER_ERROR_THEME_CLASS, POPOVER_ARROW_ERROR_THEME_CLASS, ERROR_TEXT_THEME_CLASS);\r\n    } else {\r\n      cell.innerHTML = createTableRowElementMarkup(fileName,\r\n        _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"]);\r\n    }\r\n    cell.scrollIntoView();\r\n  }\r\n}\r\n\r\nfunction clearTable(tableElement) {\r\n  const newTbody = document.createElement('tbody');\r\n  if (tableElement.childNodes[1]) {\r\n    tableElement.replaceChild(newTbody, tableElement.childNodes[1]);\r\n  }\r\n}\r\n\r\nfunction clearAllTables() {\r\n  clearTable(annotationsTableElement);\r\n  clearTable(imagesTableElement);\r\n  clearTable(classesTableElement);\r\n}\r\n\r\nfunction setTitleElement(title) {\r\n  titleElement.innerHTML = title;\r\n}\r\n\r\nfunction setTitleElementMarginTop(length) {\r\n  titleElement.style.marginTop = `${length / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction resetTitleElementMarginTop() {\r\n  titleElement.style.marginTop = '';\r\n}\r\n\r\nfunction displayTable1() {\r\n  table1Element.style.display = '';\r\n}\r\n\r\nfunction hideTable1() {\r\n  table1Element.style.display = 'none';\r\n}\r\n\r\nfunction changeTwoTableStrategyToThree() {\r\n  table2Element.classList.replace(TWO_TABLE_STRATEGY_CLASS, THREE_TABLE_STRATEGY_CLASS);\r\n  table3Element.classList.replace(TWO_TABLE_STRATEGY_CLASS, THREE_TABLE_STRATEGY_CLASS);\r\n}\r\n\r\nfunction changeThreeTableStrategyToTwo() {\r\n  table2Element.classList.replace(THREE_TABLE_STRATEGY_CLASS, TWO_TABLE_STRATEGY_CLASS);\r\n  table3Element.classList.replace(THREE_TABLE_STRATEGY_CLASS, TWO_TABLE_STRATEGY_CLASS);\r\n}\r\n\r\nfunction setAnnotationsTableTitle(format) {\r\n  annotationsTableTitle.innerHTML = `Annotations (${format})`;\r\n}\r\n\r\nfunction setButtonGroupElementMarginTop(length) {\r\n  buttonsGroupElement.style.marginTop = length;\r\n}\r\n\r\nfunction setButtonGroupElementMarginTopByBrowser() {\r\n  if (!_utils_browserType__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n    setButtonGroupElementMarginTop(`${272 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])()}px`);\r\n  } else {\r\n    setButtonGroupElementMarginTop('1px');\r\n  }\r\n}\r\n\r\nfunction resetButtonGroupElementMarginTop() {\r\n  buttonsGroupElement.style.marginTop = '';\r\n}\r\n\r\nfunction displayFinishButtonElement() {\r\n  finishButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideFinishButtonElement() {\r\n  finishButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction enableFinishButton() {\r\n  if (!finishButtonEnabled) {\r\n    finishButtonElement.classList.add(PROCEED_BUTTON_CLASS);\r\n    finishButtonElement.classList.replace(DISABLED_BUTTON_CLASS, ACTIVE_BUTTON_CLASS);\r\n    finishButtonEnabled = true;\r\n  }\r\n}\r\n\r\nfunction disableFinishButton() {\r\n  finishButtonElement.classList.remove(PROCEED_BUTTON_CLASS);\r\n  finishButtonElement.classList.replace(ACTIVE_BUTTON_CLASS, DISABLED_BUTTON_CLASS);\r\n  finishButtonEnabled = false;\r\n}\r\n\r\nfunction displayUploadButtonElement() {\r\n  uploadButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideUploadButtonElement() {\r\n  uploadButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction displayBackButton() {\r\n  backButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideBackButton() {\r\n  backButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction displayUploadDatasetsOuterContainerElement() {\r\n  uploadDatasetsOuterContainerElement.style.display = '';\r\n}\r\n\r\nfunction hideUploadDatasetsOuterContainerElement() {\r\n  uploadDatasetsOuterContainerElement.style.display = 'none';\r\n}\r\n\r\nfunction setAcceptedFileFormatTrigger(format) {\r\n  uploadDatasetFilesTriggerElement.accept = format;\r\n}\r\n\r\nfunction changeUploadDatasetsModalElementDimensions(width, height) {\r\n  uploadDatasetsModalElement.style.width = `${width / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])()}px`;\r\n  uploadDatasetsModalElement.style.height = `${height / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction resetUploadDatasetsModalElementDimensions() {\r\n  uploadDatasetsModalElement.style.width = '';\r\n  uploadDatasetsModalElement.style.height = '';\r\n}\r\n\r\nfunction displayTableStrategyRelevantAssets(tableStrategy) {\r\n  if (tableStrategy === _consts__WEBPACK_IMPORTED_MODULE_0__[\"THREE_TABLE_STRATEGY\"]) {\r\n    displayTable1();\r\n    displayUploadButtonElement();\r\n    changeUploadDatasetsModalElementDimensions(977, modalHeight);\r\n    changeTwoTableStrategyToThree();\r\n    currentAnnotationsPopoverPositionClass = POPOVER_CENTER_POSITION_CLASS;\r\n    currentAnnotationsPopoverArrowPositionClass = POPOVER_ARROW_CENTER_POSITION_CLASS;\r\n  } else {\r\n    displayUploadButtonElement();\r\n    changeUploadDatasetsModalElementDimensions(modalWidth, modalHeight);\r\n    currentAnnotationsPopoverPositionClass = POPOVER_LEFT_POSITION_CLASS;\r\n    currentAnnotationsPopoverArrowPositionClass = POPOVER_ARROW_LEFT_POSITION_CLASS;\r\n  }\r\n  currentTableStrategy = tableStrategy;\r\n}\r\n\r\nfunction prepareUploadDatasetsView(formatName, acceptedFileFormats, annotationFileFormat,\r\n  tableStrategy) {\r\n  setTitleElementMarginTop(9);\r\n  setTitleElement(formatName);\r\n  setAnnotationsTableTitle(annotationFileFormat);\r\n  setAcceptedFileFormatTrigger(acceptedFileFormats);\r\n  displayBackButton();\r\n  displayFinishButtonElement();\r\n  setButtonGroupElementMarginTopByBrowser();\r\n  displayTableStrategyRelevantAssets(tableStrategy);\r\n  displayUploadDatasetsOuterContainerElement();\r\n}\r\n\r\nfunction hideUploadDatasetsViewAssets() {\r\n  if (currentTableStrategy === _consts__WEBPACK_IMPORTED_MODULE_0__[\"THREE_TABLE_STRATEGY\"]) {\r\n    hideTable1();\r\n    changeThreeTableStrategyToTwo();\r\n    currentTableStrategy = _consts__WEBPACK_IMPORTED_MODULE_0__[\"TWO_TABLE_STRATEGY\"];\r\n  }\r\n  hideBackButton();\r\n  hideUploadButtonElement();\r\n  hideFinishButtonElement();\r\n  disableFinishButton();\r\n  resetTitleElementMarginTop();\r\n  resetButtonGroupElementMarginTop();\r\n  hideUploadDatasetsOuterContainerElement();\r\n  resetUploadDatasetsModalElementDimensions();\r\n  clearAllTables();\r\n  popoverIndex = 0;\r\n}\r\n\r\nfunction assignUploadDatasetsViewLocalVariables() {\r\n  table1Element = document.getElementById('upload-datasets-modal-upload-datasets-table-1');\r\n  table2Element = document.getElementById('upload-datasets-modal-upload-datasets-table-2');\r\n  table3Element = document.getElementById('upload-datasets-modal-upload-datasets-table-3');\r\n  buttonsGroupElement = document.getElementById('upload-datasets-modal-buttons');\r\n  titleElement = document.getElementById('upload-datsets-modal-upload-datasets-title');\r\n  uploadDatasetsOuterContainerElement = document.getElementById('upload-datsets-modal-upload-datasets-outer-container');\r\n  backButtonElement = document.getElementById('upload-datasets-modal-back-button');\r\n  uploadButtonElement = document.getElementById('upload-datasets-modal-upload-datasets-upload-button');\r\n  uploadDatasetFilesTriggerElement = document.getElementById('upload-datasets-modal-upload-datasets-upload-trigger');\r\n  finishButtonElement = document.getElementById('upload-datasets-modal-finish-button');\r\n  imagesTableElement = document.getElementById('upload-datsets-modal-upload-datasets-images-table');\r\n  imagesTableOuterContainerElement = document.getElementById('upload-datsets-modal-upload-datasets-images-table-outer-container');\r\n  annotationsTableTitle = document.getElementById('upload-datasets-modal-upload=datasets-annotations-table-title');\r\n  annotationsTableOuterContainerElement = document.getElementById('upload-datsets-modal-upload-datasets-annotations-table-outer-container');\r\n  classesTableElement = document.getElementById('upload-datsets-modal-upload-datasets-classes-table');\r\n  annotationsTableElement = document.getElementById('upload-datsets-modal-upload-datasets-annotations-table');\r\n  uploadDatasetsModalElement = document.getElementById('upload-datasets-modal-parent');\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/COCOJSONTableUpdater.js":
/*!*****************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/COCOJSONTableUpdater.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_tableUpdaterGenericBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/tableUpdaterGenericBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterGenericBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/COCOJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_COCOJSONValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/COCOJSONValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/COCOJSONValidator.js\");\n\r\n\r\n\r\n\r\nconst tableUpdater = _builders_tableUpdaterGenericBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildTableUpdaterForOneAnnotationFileStrategy(_datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_COCOJSONValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (tableUpdater);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/COCOJSONTableUpdater.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/CSVTableUpdater.js":
/*!************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/CSVTableUpdater.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_tableUpdaterGenericBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/tableUpdaterGenericBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterGenericBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/CSVDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_CSVValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/CSVValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/CSVValidator.js\");\n\r\n\r\n\r\n\r\nconst tableUpdater = _builders_tableUpdaterGenericBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildTableUpdaterForOneAnnotationFileStrategy(_datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_CSVValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (tableUpdater);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/CSVTableUpdater.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/VGGJSONTableUpdater.js":
/*!****************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/VGGJSONTableUpdater.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_tableUpdaterGenericBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/tableUpdaterGenericBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterGenericBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/VGGJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_VGGJSONValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/VGGJSONValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VGGJSONValidator.js\");\n\r\n\r\n\r\n\r\nconst tableUpdater = _builders_tableUpdaterGenericBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildTableUpdaterForOneAnnotationFileStrategy(_datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_VGGJSONValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (tableUpdater);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/VGGJSONTableUpdater.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/VOCXMLTableUpdater.js":
/*!***************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/VOCXMLTableUpdater.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_tableUpdaterGenericBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/tableUpdaterGenericBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterGenericBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/VOCXMLDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_VOCXMLValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/VOCXMLValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VOCXMLValidator.js\");\n\r\n\r\n\r\n\r\nconst tableUpdater = _builders_tableUpdaterGenericBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildTableUpdaterForMultipleAnnotationFilesStrategy(_datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_VOCXMLValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (tableUpdater);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/VOCXMLTableUpdater.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/YOLOTXTTableUpdater.js":
/*!****************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/YOLOTXTTableUpdater.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _builders_tableUpdaterInclClassesBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builders/tableUpdaterInclClassesBuilder */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterInclClassesBuilder.js\");\n/* harmony import */ var _datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../datasetObjectManagers/YOLOTXTDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager.js\");\n/* harmony import */ var _formatValidators_YOLOTXTValidator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatValidators/YOLOTXTValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/YOLOTXTValidator.js\");\n/* harmony import */ var _removeFileHandlers_YOLOTXTRemoveFileHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../removeFileHandlers/YOLOTXTRemoveFileHandler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/YOLOTXTRemoveFileHandler.js\");\n\r\n\r\n\r\n\r\n\r\nconst tableUpdater = _builders_tableUpdaterInclClassesBuilder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\r\n  .buildTableUpdaterInclClassesTable(_datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _formatValidators_YOLOTXTValidator__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _removeFileHandlers_YOLOTXTRemoveFileHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (tableUpdater);\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/YOLOTXTTableUpdater.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterGenericBuilder.js":
/*!********************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterGenericBuilder.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TableUpdaterGenericBuilder; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../style */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js\");\n\r\n\r\n\r\nfunction validateExistingImagesWhenMultipleAnnotationFilesAllowed(datasetObject,\r\n  updateImageFileErrorStatusFunc, validateFileFunc) {\r\n  if (datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]].length > 0) {\r\n    let foundValid = false;\r\n    Object.keys(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]]).forEach((key) => {\r\n      const imageFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][key];\r\n      const validationResult = validateFileFunc(imageFile);\r\n      if (!validationResult.error) { foundValid = true; }\r\n      const { name } = imageFile.body.fileMetaData;\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToImagesTable\"])(name, validationResult);\r\n      updateImageFileErrorStatusFunc(name, validationResult.error);\r\n    });\r\n    if (foundValid) {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"enableFinishButton\"])();\r\n    } else {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n    }\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAllImagesTableRowsToDefault\"])();\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n  }\r\n}\r\n\r\nfunction validateExistingImagesWhenOneAnnotationFileAllowed(datasetObject,\r\n  updateImageFileErrorStatusFunc, validateFileFunc) {\r\n  let foundValid = false;\r\n  Object.keys(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]]).forEach((key) => {\r\n    const imageFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][key];\r\n    const validationResult = validateFileFunc(imageFile);\r\n    if (!validationResult.error) { foundValid = true; }\r\n    const { name } = imageFile.body.fileMetaData;\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToImagesTable\"])(name, validationResult);\r\n    updateImageFileErrorStatusFunc(name, validationResult.error);\r\n  });\r\n  if (foundValid) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"enableFinishButton\"])();\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n  }\r\n}\r\n\r\nfunction reValidateExistingAnnotations(annotationFiles, validateFileFunc) {\r\n  annotationFiles.forEach((annotationFile) => {\r\n    const validationResult = validateFileFunc(annotationFile);\r\n    const { name } = annotationFile.body.fileMetaData;\r\n    if (!validationResult.error) {\r\n      validationResult.error = true;\r\n      validationResult.message = _consts__WEBPACK_IMPORTED_MODULE_0__[\"ONE_ANNOTATION_FILE_ALLOWED_ERROR_MESSAGE\"];\r\n    }\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToAnnotationsTable\"])(name, validationResult);\r\n  });\r\n}\r\n\r\nfunction checkAnnotationAlreadyInTable(validationResult, datasetObject,\r\n  updateImageFileErrorStatusFunc, validateFileFunc) {\r\n  const activeAnnotationFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVE_ANNOTATION_FILE\"]];\r\n  const validAnnotationFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]];\r\n  if (!validationResult.error) {\r\n    reValidateExistingAnnotations(validAnnotationFiles, validateFileFunc);\r\n    validateExistingImagesWhenOneAnnotationFileAllowed(datasetObject,\r\n      updateImageFileErrorStatusFunc, validateFileFunc);\r\n    return validationResult;\r\n  }\r\n  if (validAnnotationFiles.length > 0) {\r\n    if (activeAnnotationFile && activeAnnotationFile.newlyActive) {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAnnotationRowToDefault\"])(activeAnnotationFile.body.fileMetaData.name);\r\n      activeAnnotationFile.newlyActive = false;\r\n      validateExistingImagesWhenOneAnnotationFileAllowed(datasetObject,\r\n        updateImageFileErrorStatusFunc, validateFileFunc);\r\n    }\r\n    return { error: true, message: validationResult.message };\r\n  }\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAllImagesTableRowsToDefault\"])();\r\n  return validationResult;\r\n}\r\n\r\nfunction updateAnnotationTableWhenOneAnnotationFileAllowed(fileName, validationResult,\r\n  datasetObject, updateImageFileErrorStatusFunc, validateFormatFunc) {\r\n  const newValidationResult = checkAnnotationAlreadyInTable(\r\n    validationResult, datasetObject, updateImageFileErrorStatusFunc, validateFormatFunc,\r\n  );\r\n  // whilst the reValidateExistingAnnotations inserts the new annotation,\r\n  // this overwrites it if it has been incorrectly set with an error\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToAnnotationsTable\"])(fileName, newValidationResult);\r\n}\r\n\r\nfunction updateAnnotationTableWhenMultipleAnnotationFilesAllowed(fileName, validationResult,\r\n  datasetObject, updateImageFileErrorStatusFunc, validateFormatFunc) {\r\n  validateExistingImagesWhenMultipleAnnotationFilesAllowed(datasetObject,\r\n    updateImageFileErrorStatusFunc, validateFormatFunc);\r\n  // whilst the reValidateExistingAnnotations inserts the new annotation,\r\n  // this overwrites it if it has been incorrectly set with an error\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToAnnotationsTable\"])(fileName, validationResult);\r\n}\r\n\r\nfunction updateTables(parsedObj, validationResult) {\r\n  const datasetObject = this.datasetObjectManager.getDatasetObject();\r\n  const fileName = parsedObj.body.fileMetaData.name;\r\n  if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToImagesTable\"])(fileName, validationResult);\r\n    if (validationResult.valid) { Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"enableFinishButton\"])(); }\r\n  }\r\n  if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n    this.updateAnnotationTableFunc(fileName, validationResult, datasetObject,\r\n      this.datasetObjectManager.updateImageFileErrorStatus, this.validateFormat);\r\n  }\r\n}\r\n\r\nfunction buildTableUpdaterForMultipleAnnotationFilesStrategy(datasetObjectManager,\r\n  validateFormat) {\r\n  const updateAnnotationTableFunc = updateAnnotationTableWhenMultipleAnnotationFilesAllowed;\r\n  return updateTables.bind(\r\n    { datasetObjectManager, validateFormat, updateAnnotationTableFunc },\r\n  );\r\n}\r\n\r\nfunction buildTableUpdaterForOneAnnotationFileStrategy(datasetObjectManager, validateFormat) {\r\n  const updateAnnotationTableFunc = updateAnnotationTableWhenOneAnnotationFileAllowed;\r\n  return updateTables.bind(\r\n    { datasetObjectManager, validateFormat, updateAnnotationTableFunc },\r\n  );\r\n}\r\n\r\nconst TableUpdaterGenericBuilder = {\r\n  buildTableUpdaterForOneAnnotationFileStrategy,\r\n  buildTableUpdaterForMultipleAnnotationFilesStrategy,\r\n};\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterGenericBuilder.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterInclClassesBuilder.js":
/*!************************************************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterInclClassesBuilder.js ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TableUpdaterInclClassesBuilder; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../style */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js\");\n\r\n\r\n\r\nfunction validateExistingImages(datasetObject, validateFileFunc, updateImageFileErrorStatusFunc) {\r\n  if (datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]].length > 0) {\r\n    let foundValid = false;\r\n    Object.keys(datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]]).forEach((key) => {\r\n      const imageFile = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILES_OBJECT\"]][key];\r\n      const validationResult = validateFileFunc(imageFile);\r\n      if (!validationResult.error) { foundValid = true; }\r\n      const { name } = imageFile.body.fileMetaData;\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToImagesTable\"])(name, validationResult);\r\n      updateImageFileErrorStatusFunc(name, validationResult.error);\r\n    });\r\n    if (foundValid) {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"enableFinishButton\"])();\r\n    } else {\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n    }\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"changeAllImagesTableRowsToDefault\"])();\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n  }\r\n}\r\n\r\nfunction validateAnnotationsFiles(annotationsArray, filesToBeMovedArray,\r\n  moveWhenFalty, validateFileFunc) {\r\n  let foundValid = false;\r\n  annotationsArray.forEach((annotationFile) => {\r\n    const validationResult = validateFileFunc(annotationFile);\r\n    const { name } = annotationFile.body.fileMetaData;\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToAnnotationsTable\"])(name, validationResult);\r\n    if (!validationResult.error) {\r\n      foundValid = true;\r\n      if (!moveWhenFalty) { filesToBeMovedArray.push(annotationFile); }\r\n    } else if (moveWhenFalty) {\r\n      filesToBeMovedArray.push(annotationFile);\r\n    }\r\n  });\r\n  return foundValid;\r\n}\r\n\r\nfunction validateExistingAnnotations(datasetObject, validateFileFunc,\r\n  moveAnnotationFileToValidArrayFunc, moveAnnotationFileToFaltyArrayFunc) {\r\n  const filesToBeMovedToFaltyArray = [];\r\n  const filesToBeMovedToValidArray = [];\r\n  const foundValidInValidArray = validateAnnotationsFiles(\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]], filesToBeMovedToFaltyArray,\r\n    true, validateFileFunc,\r\n  );\r\n  const foundValidInFaltyArray = validateAnnotationsFiles(\r\n    datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]], filesToBeMovedToValidArray,\r\n    false, validateFileFunc,\r\n  );\r\n  filesToBeMovedToFaltyArray.forEach((annotationFile) => {\r\n    moveAnnotationFileToFaltyArrayFunc(annotationFile);\r\n  });\r\n  filesToBeMovedToValidArray.forEach((annotationFile) => {\r\n    moveAnnotationFileToValidArrayFunc(annotationFile);\r\n  });\r\n  if (foundValidInValidArray || foundValidInFaltyArray) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"enableFinishButton\"])();\r\n  } else {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"disableFinishButton\"])();\r\n  }\r\n}\r\n\r\nfunction validateExistingClassesFiles(classesFiles, validateFileFunc) {\r\n  classesFiles.forEach((classesFile) => {\r\n    const validationResult = validateFileFunc(classesFile);\r\n    const { name } = classesFile.body.fileMetaData;\r\n    if (!validationResult.error) {\r\n      validationResult.error = true;\r\n      validationResult.message = _consts__WEBPACK_IMPORTED_MODULE_0__[\"ONE_CLASSES_FILE_ALLOWED_ERROR_MESSAGE\"];\r\n    }\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToClassesTable\"])(name, validationResult);\r\n  });\r\n}\r\n\r\nfunction removeFileFromAnnotations(fileName, removeFileFunc) {\r\n  if (Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"removeRow\"])(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATIONS_TABLE_INDICATOR\"])) {\r\n    removeFileFunc(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"VALID_ANNOTATION_FILES_ARRAY\"]);\r\n    removeFileFunc(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"FALTY_ANNOTATION_FILES_ARRAY\"]);\r\n  }\r\n}\r\n\r\nfunction validateAllFiles(validationResult, datasetObject, fileName,\r\n  validateFileFunc, updateImageFileErrorStatusFunc, moveAnnotationFileToValidArrayFunc,\r\n  moveAnnotationFileToFaltyArrayFunc, removeFileFunc) {\r\n  const classFiles = datasetObject[_consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILES_ARRAY\"]];\r\n  // the general expectation is that class files would not have errors (no validation)\r\n  if (!validationResult.error) {\r\n    removeFileFromAnnotations(fileName, removeFileFunc);\r\n    validateExistingClassesFiles(classFiles, validateFileFunc);\r\n    validateExistingAnnotations(datasetObject, validateFileFunc,\r\n      moveAnnotationFileToValidArrayFunc, moveAnnotationFileToFaltyArrayFunc);\r\n    validateExistingImages(datasetObject, validateFileFunc, updateImageFileErrorStatusFunc);\r\n  }\r\n  return validationResult;\r\n}\r\n\r\nfunction removeFileFromClasses(fileName, removeFileHandlerFunc) {\r\n  if (Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"removeRow\"])(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_TABLE_INDICATOR\"])) {\r\n    removeFileHandlerFunc(fileName, _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILE_INDICATOR\"]);\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction updateTables(parsedObj, validationResult) {\r\n  const datasetObject = this.datasetObjectManager.getDatasetObject();\r\n  const fileName = parsedObj.body.fileMetaData.name;\r\n  if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"]) {\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToImagesTable\"])(fileName, validationResult);\r\n    if (validationResult.valid) { Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"enableFinishButton\"])(); }\r\n  } else if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"ANNOTATION_FILE_INDICATOR\"]) {\r\n    if (!removeFileFromClasses(fileName, this.removeFileHandler)) {\r\n      validateExistingImages(datasetObject, this.validateFormat,\r\n        this.datasetObjectManager.updateImageFileErrorStatus);\r\n      Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToAnnotationsTable\"])(fileName, validationResult);\r\n    }\r\n  } else if (parsedObj.fileFormat === _consts__WEBPACK_IMPORTED_MODULE_0__[\"CLASSES_FILE_INDICATOR\"]) {\r\n    const newValidationResult = validateAllFiles(\r\n      validationResult, datasetObject, fileName,\r\n      this.validateFormat,\r\n      this.datasetObjectManager.updateImageFileErrorStatus,\r\n      this.datasetObjectManager.moveAnnotationFileToValidArray,\r\n      this.datasetObjectManager.moveAnnotationFileToFaltyArray,\r\n      this.datasetObjectManager.removeFile,\r\n    );\r\n    // whilst the validateExistingClassesFiles inserts the new class into the table,\r\n    // this overwrites without the error of more than 1 class\r\n    Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"insertRowToClassesTable\"])(fileName, newValidationResult);\r\n  }\r\n}\r\n\r\nfunction buildTableUpdaterInclClassesTable(datasetObjectManager,\r\n  validateFormat, removeFileHandler) {\r\n  return updateTables.bind({ datasetObjectManager, validateFormat, removeFileHandler });\r\n}\r\n\r\nconst TableUpdaterInclClassesBuilder = {\r\n  buildTableUpdaterInclClassesTable,\r\n};\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/builders/tableUpdaterInclClassesBuilder.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/uploadDatasets/uploadDatasetFilesHandler.js":
/*!********************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/uploadDatasets/uploadDatasetFilesHandler.js ***!
  \********************************************************************************************/
/*! exports provided: uploadDatasetFilesHandler, addAlreadyUploadedImages, setTableUpdater, setFormatValidator, setAddFile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uploadDatasetFilesHandler\", function() { return uploadDatasetFilesHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addAlreadyUploadedImages\", function() { return addAlreadyUploadedImages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setTableUpdater\", function() { return setTableUpdater; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFormatValidator\", function() { return setFormatValidator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAddFile\", function() { return setAddFile; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _fileParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fileParser */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/fileParser.js\");\n\r\n\r\n\r\nlet addFileFunc = null;\r\nlet tableUpdaterFunc = null;\r\nlet formatValidatorFunc = null;\r\n\r\nfunction onFileLoad(fileMetaData, event) {\r\n  const parsedFileObj = Object(_fileParser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(fileMetaData, event);\r\n  let { errorObj } = parsedFileObj;\r\n  errorObj = formatValidatorFunc(parsedFileObj, errorObj);\r\n  addFileFunc(parsedFileObj, errorObj);\r\n  tableUpdaterFunc(parsedFileObj, errorObj);\r\n}\r\n\r\nfunction readFile(reader, file) {\r\n  if (file.name.endsWith('.json') || file.name.endsWith('.csv')\r\n    || file.name.endsWith('.xml') || file.name.endsWith('.txt')) {\r\n    reader.readAsText(file);\r\n  } else {\r\n    reader.readAsDataURL(file);\r\n  }\r\n}\r\n\r\nfunction uploadDatasetFilesHandler(uploadData) {\r\n  if (uploadData.files && uploadData.files.length > 0) {\r\n    for (let i = 0; i < uploadData.files.length; i += 1) {\r\n      const reader = new FileReader();\r\n      reader.onload = onFileLoad.bind(this, uploadData.files[i]);\r\n      readFile(reader, uploadData.files[i]);\r\n    }\r\n  }\r\n}\r\n\r\nfunction addAlreadyUploadedImages(images) {\r\n  images.forEach((image) => {\r\n    const parsedFileObj = {\r\n      fileFormat: _consts__WEBPACK_IMPORTED_MODULE_0__[\"IMAGE_FILE_INDICATOR\"],\r\n      body: { fileMetaData: { name: image.name }, imageElement: image.data },\r\n    };\r\n    const errorObj = { error: false, message: '', alreadyUploaded: true };\r\n    addFileFunc(parsedFileObj, errorObj);\r\n    tableUpdaterFunc(parsedFileObj, errorObj);\r\n  });\r\n}\r\n\r\nfunction setFormatValidator(formatValidatorFuncArg) {\r\n  formatValidatorFunc = formatValidatorFuncArg;\r\n}\r\n\r\nfunction setTableUpdater(tableUpdaterFuncArg) {\r\n  tableUpdaterFunc = tableUpdaterFuncArg;\r\n}\r\n\r\nfunction setAddFile(addFileFuncArg) {\r\n  addFileFunc = addFileFuncArg;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/uploadDatasets/uploadDatasetFilesHandler.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/buttonEvents.js":
/*!**************************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/buttonEvents.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return registerButtonEventHandlers; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/style.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n\r\n\r\n\r\nfunction moveToNextView(nextViewCallback, reuseAlreadyUploadedImages) {\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"setReuseAlreadyUploadedImagesState\"])(reuseAlreadyUploadedImages);\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"hideUseExistingImagesViewAssets\"])();\r\n  nextViewCallback();\r\n}\r\n\r\nfunction registerButtonEventHandlers(nextViewCallback) {\r\n  window.reuseAlreadyExistingImages = moveToNextView.bind(\r\n    this, nextViewCallback,\r\n  );\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/buttonEvents.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/style.js":
/*!*******************************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/style.js ***!
  \*******************************************************************************/
/*! exports provided: assignUseExistingImagesQstnViewLocalVariables, hideUseExistingImagesViewAssets, prepareUseExistingImagesQstnView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignUseExistingImagesQstnViewLocalVariables\", function() { return assignUseExistingImagesQstnViewLocalVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideUseExistingImagesViewAssets\", function() { return hideUseExistingImagesViewAssets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareUseExistingImagesQstnView\", function() { return prepareUseExistingImagesQstnView; });\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\nlet yesButtonElement = null;\r\nlet noButtonElement = null;\r\nlet descriptionElement = null;\r\nlet buttonsGroupElement = null;\r\nconst DESCRIPTION_TEXT = 'Reuse already uploaded images?';\r\n\r\nfunction displayYesButtonElement() {\r\n  yesButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideYesButtonElement() {\r\n  yesButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction displayNoButtonElement() {\r\n  noButtonElement.style.display = '';\r\n}\r\n\r\nfunction hideNoButtonElement() {\r\n  noButtonElement.style.display = 'none';\r\n}\r\n\r\nfunction setDescriptionElementMarginTop(length) {\r\n  descriptionElement.style.marginTop = `${length / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction resetDescriptionElementMarginTop() {\r\n  descriptionElement.style.marginTop = '';\r\n}\r\n\r\nfunction setDescriptionElementText(text) {\r\n  descriptionElement.innerHTML = text;\r\n}\r\n\r\nfunction centerDescriptionElementText() {\r\n  descriptionElement.style.textAlign = 'center';\r\n}\r\n\r\nfunction resetDescriptionElementTextAlign() {\r\n  descriptionElement.style.textAlign = '';\r\n}\r\n\r\nfunction displayDescriptionElement() {\r\n  descriptionElement.style.display = '';\r\n}\r\n\r\nfunction hideDescriptionElement() {\r\n  descriptionElement.style.display = 'none';\r\n}\r\n\r\nfunction setButtonGroupElementMarginTop(length) {\r\n  buttonsGroupElement.style.marginTop = `${length / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_0__[\"getScreenSizeDelta\"])()}px`;\r\n}\r\n\r\nfunction resetButtonGroupElementMarginTop() {\r\n  buttonsGroupElement.style.marginTop = '';\r\n}\r\n\r\nfunction prepareUseExistingImagesQstnView() {\r\n  setDescriptionElementText(DESCRIPTION_TEXT);\r\n  centerDescriptionElementText();\r\n  setDescriptionElementMarginTop(61);\r\n  displayYesButtonElement();\r\n  displayNoButtonElement();\r\n  displayDescriptionElement();\r\n  setButtonGroupElementMarginTop(5);\r\n}\r\n\r\nfunction hideUseExistingImagesViewAssets() {\r\n  resetDescriptionElementTextAlign();\r\n  resetDescriptionElementMarginTop();\r\n  hideDescriptionElement();\r\n  hideYesButtonElement();\r\n  hideNoButtonElement();\r\n  resetButtonGroupElementMarginTop();\r\n}\r\n\r\nfunction assignUseExistingImagesQstnViewLocalVariables() {\r\n  yesButtonElement = document.getElementById('upload-datsets-modal-yes-button');\r\n  noButtonElement = document.getElementById('upload-datasets-modal-no-button');\r\n  descriptionElement = document.getElementById('upload-datasets-modal-description');\r\n  buttonsGroupElement = document.getElementById('upload-datasets-modal-buttons');\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/style.js?");

/***/ }),

/***/ "./src/js/tools/uploadDatasetsModal/views/viewManager.js":
/*!***************************************************************!*\
  !*** ./src/js/tools/uploadDatasetsModal/views/viewManager.js ***!
  \***************************************************************/
/*! exports provided: displayModal, initialiseUploadDatasetsModal, closeModal, closeModalViaKeyboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayModal\", function() { return displayModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseUploadDatasetsModal\", function() { return initialiseUploadDatasetsModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeModal\", function() { return closeModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeModalViaKeyboard\", function() { return closeModalViaKeyboard; });\n/* harmony import */ var _description_buttonEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./description/buttonEvents */ \"./src/js/tools/uploadDatasetsModal/views/description/buttonEvents.js\");\n/* harmony import */ var _description_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./description/style */ \"./src/js/tools/uploadDatasetsModal/views/description/style.js\");\n/* harmony import */ var _selectFormat_buttonEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./selectFormat/buttonEvents */ \"./src/js/tools/uploadDatasetsModal/views/selectFormat/buttonEvents.js\");\n/* harmony import */ var _selectFormat_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selectFormat/style */ \"./src/js/tools/uploadDatasetsModal/views/selectFormat/style.js\");\n/* harmony import */ var _uploadDatasets_buttonEvents__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./uploadDatasets/buttonEvents */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/buttonEvents.js\");\n/* harmony import */ var _useExistingImagesQstn_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useExistingImagesQstn/style */ \"./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/style.js\");\n/* harmony import */ var _useExistingImagesQstn_buttonEvents__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useExistingImagesQstn/buttonEvents */ \"./src/js/tools/uploadDatasetsModal/views/useExistingImagesQstn/buttonEvents.js\");\n/* harmony import */ var _uploadDatasets_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./uploadDatasets/style */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/style.js\");\n/* harmony import */ var _dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../dimWindow/dimWindowService */ \"./src/js/tools/dimWindow/dimWindowService.js\");\n/* harmony import */ var _dimWindow_consts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../dimWindow/consts */ \"./src/js/tools/dimWindow/consts.js\");\n/* harmony import */ var _uploadDatasets_tableUpdaters_COCOJSONTableUpdater__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./uploadDatasets/tableUpdaters/COCOJSONTableUpdater */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/COCOJSONTableUpdater.js\");\n/* harmony import */ var _uploadDatasets_tableUpdaters_VGGJSONTableUpdater__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./uploadDatasets/tableUpdaters/VGGJSONTableUpdater */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/VGGJSONTableUpdater.js\");\n/* harmony import */ var _uploadDatasets_tableUpdaters_VOCXMLTableUpdater__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./uploadDatasets/tableUpdaters/VOCXMLTableUpdater */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/VOCXMLTableUpdater.js\");\n/* harmony import */ var _uploadDatasets_tableUpdaters_YOLOTXTTableUpdater__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./uploadDatasets/tableUpdaters/YOLOTXTTableUpdater */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/YOLOTXTTableUpdater.js\");\n/* harmony import */ var _uploadDatasets_tableUpdaters_CSVTableUpdater__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./uploadDatasets/tableUpdaters/CSVTableUpdater */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/tableUpdaters/CSVTableUpdater.js\");\n/* harmony import */ var _uploadDatasets_formatValidators_COCOJSONValidator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./uploadDatasets/formatValidators/COCOJSONValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/COCOJSONValidator.js\");\n/* harmony import */ var _uploadDatasets_formatValidators_VGGJSONValidator__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./uploadDatasets/formatValidators/VGGJSONValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VGGJSONValidator.js\");\n/* harmony import */ var _uploadDatasets_formatValidators_CSVValidator__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./uploadDatasets/formatValidators/CSVValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/CSVValidator.js\");\n/* harmony import */ var _uploadDatasets_formatValidators_VOCXMLValidator__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./uploadDatasets/formatValidators/VOCXMLValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/VOCXMLValidator.js\");\n/* harmony import */ var _uploadDatasets_formatValidators_YOLOTXTValidator__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./uploadDatasets/formatValidators/YOLOTXTValidator */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/formatValidators/YOLOTXTValidator.js\");\n/* harmony import */ var _uploadDatasets_removeFileHandlers_COCOJSONRemoveFileHandler__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./uploadDatasets/removeFileHandlers/COCOJSONRemoveFileHandler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/COCOJSONRemoveFileHandler.js\");\n/* harmony import */ var _uploadDatasets_removeFileHandlers_VGGJSONRemoveFileHandler__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./uploadDatasets/removeFileHandlers/VGGJSONRemoveFileHandler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/VGGJSONRemoveFileHandler.js\");\n/* harmony import */ var _uploadDatasets_removeFileHandlers_CSVRemoveFileHandler__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./uploadDatasets/removeFileHandlers/CSVRemoveFileHandler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/CSVRemoveFileHandler.js\");\n/* harmony import */ var _uploadDatasets_removeFileHandlers_YOLOTXTRemoveFileHandler__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./uploadDatasets/removeFileHandlers/YOLOTXTRemoveFileHandler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/YOLOTXTRemoveFileHandler.js\");\n/* harmony import */ var _uploadDatasets_removeFileHandlers_VOCXMLRemoveFileHandler__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./uploadDatasets/removeFileHandlers/VOCXMLRemoveFileHandler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/removeFileHandlers/VOCXMLRemoveFileHandler.js\");\n/* harmony import */ var _uploadDatasets_datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/COCOJSONDatasetObjectManager.js\");\n/* harmony import */ var _uploadDatasets_datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VGGJSONDatasetObjectManager.js\");\n/* harmony import */ var _uploadDatasets_datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/CSVDatasetObjectManager.js\");\n/* harmony import */ var _uploadDatasets_datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/VOCXMLDatasetObjectManager.js\");\n/* harmony import */ var _uploadDatasets_datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/datasetObjectManagers/YOLOTXTDatasetObjectManager.js\");\n/* harmony import */ var _uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./uploadDatasets/uploadDatasetFilesHandler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/uploadDatasetFilesHandler.js\");\n/* harmony import */ var _uploadDatasets_finalObjectAssemblers_COCOJSONFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./uploadDatasets/finalObjectAssemblers/COCOJSONFinalObjectAssembler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/COCOJSONFinalObjectAssembler.js\");\n/* harmony import */ var _uploadDatasets_finalObjectAssemblers_VGGJSONFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./uploadDatasets/finalObjectAssemblers/VGGJSONFinalObjectAssembler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/VGGJSONFinalObjectAssembler.js\");\n/* harmony import */ var _uploadDatasets_finalObjectAssemblers_CSVFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./uploadDatasets/finalObjectAssemblers/CSVFinalObjectAssembler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/CSVFinalObjectAssembler.js\");\n/* harmony import */ var _uploadDatasets_finalObjectAssemblers_VOCXMLFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./uploadDatasets/finalObjectAssemblers/VOCXMLFinalObjectAssembler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/VOCXMLFinalObjectAssembler.js\");\n/* harmony import */ var _uploadDatasets_finalObjectAssemblers_YOLOTXTFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./uploadDatasets/finalObjectAssemblers/YOLOTXTFinalObjectAssembler */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/finalObjectAssemblers/YOLOTXTFinalObjectAssembler.js\");\n/* harmony import */ var _uploadDatasets_drawShapesAndImages__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./uploadDatasets/drawShapesAndImages */ \"./src/js/tools/uploadDatasetsModal/views/uploadDatasets/drawShapesAndImages.js\");\n/* harmony import */ var _imageList_imageList__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../imageList/imageList */ \"./src/js/tools/imageList/imageList.js\");\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../consts */ \"./src/js/tools/uploadDatasetsModal/consts.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../toolkit/styling/stateMachine */ \"./src/js/tools/toolkit/styling/stateMachine.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/uploadDatasetsModal/stateMachine.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet currentViewNumber = 1;\r\nlet modalElement = null;\r\nlet hideViewOnCancelFunc = null;\r\nlet closeModalFunc = null;\r\nlet goBackToSelectFormatViewFunc = null;\r\n\r\nfunction prepareChosenFormatFunctionality() {\r\n  switch (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_41__[\"getFormatState\"])()) {\r\n    case _consts__WEBPACK_IMPORTED_MODULE_38__[\"COCO_JSON_FORMAT\"]:\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setAddFile\"])(_uploadDatasets_datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_25__[\"default\"].addFile);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setTableUpdater\"])(_uploadDatasets_tableUpdaters_COCOJSONTableUpdater__WEBPACK_IMPORTED_MODULE_10__[\"default\"]);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setFormatValidator\"])(_uploadDatasets_formatValidators_COCOJSONValidator__WEBPACK_IMPORTED_MODULE_15__[\"default\"]);\r\n      Object(_uploadDatasets_drawShapesAndImages__WEBPACK_IMPORTED_MODULE_36__[\"setFinalObjectAssembler\"])(_uploadDatasets_finalObjectAssemblers_COCOJSONFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_31__[\"default\"]);\r\n      Object(_uploadDatasets_buttonEvents__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(closeModalFunc, _uploadDatasets_removeFileHandlers_COCOJSONRemoveFileHandler__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\r\n        _uploadDatasets_datasetObjectManagers_COCOJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_25__[\"default\"].clearDatasetObject, goBackToSelectFormatViewFunc);\r\n      Object(_uploadDatasets_style__WEBPACK_IMPORTED_MODULE_7__[\"prepareUploadDatasetsView\"])(\r\n        _consts__WEBPACK_IMPORTED_MODULE_38__[\"COCO_JSON_FORMAT\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"ACCEPT_JSON_AND_IMG_FILES\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"TWO_TABLE_STRATEGY\"],\r\n      );\r\n      break;\r\n    case _consts__WEBPACK_IMPORTED_MODULE_38__[\"VGG_JSON_FORMAT\"]:\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setAddFile\"])(_uploadDatasets_datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_26__[\"default\"].addFile);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setTableUpdater\"])(_uploadDatasets_tableUpdaters_VGGJSONTableUpdater__WEBPACK_IMPORTED_MODULE_11__[\"default\"]);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setFormatValidator\"])(_uploadDatasets_formatValidators_VGGJSONValidator__WEBPACK_IMPORTED_MODULE_16__[\"default\"]);\r\n      Object(_uploadDatasets_drawShapesAndImages__WEBPACK_IMPORTED_MODULE_36__[\"setFinalObjectAssembler\"])(_uploadDatasets_finalObjectAssemblers_VGGJSONFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_32__[\"default\"]);\r\n      Object(_uploadDatasets_buttonEvents__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(closeModalFunc, _uploadDatasets_removeFileHandlers_VGGJSONRemoveFileHandler__WEBPACK_IMPORTED_MODULE_21__[\"default\"],\r\n        _uploadDatasets_datasetObjectManagers_VGGJSONDatasetObjectManager__WEBPACK_IMPORTED_MODULE_26__[\"default\"].clearDatasetObject, goBackToSelectFormatViewFunc);\r\n      Object(_uploadDatasets_style__WEBPACK_IMPORTED_MODULE_7__[\"prepareUploadDatasetsView\"])(\r\n        _consts__WEBPACK_IMPORTED_MODULE_38__[\"VGG_JSON_FORMAT\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"ACCEPT_JSON_AND_IMG_FILES\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"JSON_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"TWO_TABLE_STRATEGY\"],\r\n      );\r\n      break;\r\n    case _consts__WEBPACK_IMPORTED_MODULE_38__[\"CSV_FORMAT\"]:\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setAddFile\"])(_uploadDatasets_datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_27__[\"default\"].addFile);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setTableUpdater\"])(_uploadDatasets_tableUpdaters_CSVTableUpdater__WEBPACK_IMPORTED_MODULE_14__[\"default\"]);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setFormatValidator\"])(_uploadDatasets_formatValidators_CSVValidator__WEBPACK_IMPORTED_MODULE_17__[\"default\"]);\r\n      Object(_uploadDatasets_drawShapesAndImages__WEBPACK_IMPORTED_MODULE_36__[\"setFinalObjectAssembler\"])(_uploadDatasets_finalObjectAssemblers_CSVFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_33__[\"default\"]);\r\n      Object(_uploadDatasets_buttonEvents__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(closeModalFunc, _uploadDatasets_removeFileHandlers_CSVRemoveFileHandler__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\r\n        _uploadDatasets_datasetObjectManagers_CSVDatasetObjectManager__WEBPACK_IMPORTED_MODULE_27__[\"default\"].clearDatasetObject, goBackToSelectFormatViewFunc);\r\n      Object(_uploadDatasets_style__WEBPACK_IMPORTED_MODULE_7__[\"prepareUploadDatasetsView\"])(\r\n        _consts__WEBPACK_IMPORTED_MODULE_38__[\"CSV_FORMAT\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"ACCEPT_CSV_AND_IMG_FILES\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"CSV_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"TWO_TABLE_STRATEGY\"],\r\n      );\r\n      break;\r\n    case _consts__WEBPACK_IMPORTED_MODULE_38__[\"VOC_XML_FORMAT\"]:\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setAddFile\"])(_uploadDatasets_datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_28__[\"default\"].addFile);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setTableUpdater\"])(_uploadDatasets_tableUpdaters_VOCXMLTableUpdater__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setFormatValidator\"])(_uploadDatasets_formatValidators_VOCXMLValidator__WEBPACK_IMPORTED_MODULE_18__[\"default\"]);\r\n      Object(_uploadDatasets_drawShapesAndImages__WEBPACK_IMPORTED_MODULE_36__[\"setFinalObjectAssembler\"])(_uploadDatasets_finalObjectAssemblers_VOCXMLFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_34__[\"default\"]);\r\n      Object(_uploadDatasets_buttonEvents__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(closeModalFunc, _uploadDatasets_removeFileHandlers_VOCXMLRemoveFileHandler__WEBPACK_IMPORTED_MODULE_24__[\"default\"],\r\n        _uploadDatasets_datasetObjectManagers_VOCXMLDatasetObjectManager__WEBPACK_IMPORTED_MODULE_28__[\"default\"].clearDatasetObject, goBackToSelectFormatViewFunc);\r\n      Object(_uploadDatasets_style__WEBPACK_IMPORTED_MODULE_7__[\"prepareUploadDatasetsView\"])(\r\n        _consts__WEBPACK_IMPORTED_MODULE_38__[\"VOC_XML_FORMAT\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"ACCEPT_XML_AND_IMG_FILES\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"XML_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"TWO_TABLE_STRATEGY\"],\r\n      );\r\n      break;\r\n    case _consts__WEBPACK_IMPORTED_MODULE_38__[\"YOLO_TXT_FORMAT\"]:\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setAddFile\"])(_uploadDatasets_datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_29__[\"default\"].addFile);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setTableUpdater\"])(_uploadDatasets_tableUpdaters_YOLOTXTTableUpdater__WEBPACK_IMPORTED_MODULE_13__[\"default\"]);\r\n      Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"setFormatValidator\"])(_uploadDatasets_formatValidators_YOLOTXTValidator__WEBPACK_IMPORTED_MODULE_19__[\"default\"]);\r\n      Object(_uploadDatasets_drawShapesAndImages__WEBPACK_IMPORTED_MODULE_36__[\"setFinalObjectAssembler\"])(_uploadDatasets_finalObjectAssemblers_YOLOTXTFinalObjectAssembler__WEBPACK_IMPORTED_MODULE_35__[\"default\"]);\r\n      Object(_uploadDatasets_buttonEvents__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(closeModalFunc, _uploadDatasets_removeFileHandlers_YOLOTXTRemoveFileHandler__WEBPACK_IMPORTED_MODULE_23__[\"default\"],\r\n        _uploadDatasets_datasetObjectManagers_YOLOTXTDatasetObjectManager__WEBPACK_IMPORTED_MODULE_29__[\"default\"].clearDatasetObject, goBackToSelectFormatViewFunc);\r\n      Object(_uploadDatasets_style__WEBPACK_IMPORTED_MODULE_7__[\"prepareUploadDatasetsView\"])(\r\n        _consts__WEBPACK_IMPORTED_MODULE_38__[\"YOLO_TXT_FORMAT\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"ACCEPT_TXT_AND_IMG_FILES\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"TXT_POSTFIX\"], _consts__WEBPACK_IMPORTED_MODULE_38__[\"THREE_TABLE_STRATEGY\"],\r\n      );\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction displayNextView() {\r\n  switch (currentViewNumber) {\r\n    case 1:\r\n      Object(_description_style__WEBPACK_IMPORTED_MODULE_1__[\"prepareDescriptionView\"])();\r\n      hideViewOnCancelFunc = _description_style__WEBPACK_IMPORTED_MODULE_1__[\"hideDescriptionViewAssets\"];\r\n      currentViewNumber += 1;\r\n      break;\r\n    case 2:\r\n      Object(_selectFormat_style__WEBPACK_IMPORTED_MODULE_3__[\"prepareSelectFormatView\"])();\r\n      hideViewOnCancelFunc = _selectFormat_style__WEBPACK_IMPORTED_MODULE_3__[\"hideSelectFormatViewAssets\"];\r\n      currentViewNumber += 1;\r\n      break;\r\n    case 3:\r\n      currentViewNumber += 1;\r\n      if (Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_37__[\"getAllImageData\"])().length > 0) {\r\n        Object(_useExistingImagesQstn_style__WEBPACK_IMPORTED_MODULE_5__[\"prepareUseExistingImagesQstnView\"])();\r\n        hideViewOnCancelFunc = _useExistingImagesQstn_style__WEBPACK_IMPORTED_MODULE_5__[\"hideUseExistingImagesViewAssets\"];\r\n      } else {\r\n        Object(_stateMachine__WEBPACK_IMPORTED_MODULE_41__[\"setReuseAlreadyUploadedImagesState\"])(false);\r\n        displayNextView();\r\n      }\r\n      break;\r\n    case 4:\r\n      prepareChosenFormatFunctionality();\r\n      if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_41__[\"getReuseAlreadyUploadedImagesState\"])()) {\r\n        Object(_uploadDatasets_uploadDatasetFilesHandler__WEBPACK_IMPORTED_MODULE_30__[\"addAlreadyUploadedImages\"])(Object(_imageList_imageList__WEBPACK_IMPORTED_MODULE_37__[\"getAllImageData\"])());\r\n      }\r\n      hideViewOnCancelFunc = _uploadDatasets_style__WEBPACK_IMPORTED_MODULE_7__[\"hideUploadDatasetsViewAssets\"];\r\n      currentViewNumber += 1;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction displayModal() {\r\n  setTimeout(() => {\r\n    modalElement.style.display = '';\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_39__[\"setUploadDatasetsModalDisplayedState\"])(true);\r\n  }, 60);\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_8__[\"dimWindow\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_9__[\"SLOW_DIM_SECONDS\"], _dimWindow_consts__WEBPACK_IMPORTED_MODULE_9__[\"THICK_DIM\"]);\r\n}\r\n\r\nfunction resetContinuousShapeButtons() {\r\n  if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_39__[\"getContinuousDrawingState\"])()) {\r\n    if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_39__[\"getLastDrawingModeState\"])() === 'polygon') {\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_40__[\"setCreatePolygonButtonToActive\"])();\r\n    } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_39__[\"getLastDrawingModeState\"])() === 'boundingBox') {\r\n      Object(_toolkit_styling_stateMachine__WEBPACK_IMPORTED_MODULE_40__[\"setCreateBoundingBoxButtonToActive\"])();\r\n    }\r\n  }\r\n}\r\n\r\nfunction setButtons(isCancel) {\r\n  if (isCancel) {\r\n    resetContinuousShapeButtons();\r\n  } else {\r\n    setTimeout(() => {\r\n      window.editShapes();\r\n    }, 0);\r\n  }\r\n}\r\n\r\nfunction closeModal(isCancel) {\r\n  setButtons(isCancel);\r\n  modalElement.style.display = 'none';\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_8__[\"lightUpWindow\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_9__[\"SLOW_LIGHTUP_MILLISECONDS\"]);\r\n  hideViewOnCancelFunc();\r\n  currentViewNumber = 1;\r\n  displayNextView();\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_39__[\"setUploadDatasetsModalDisplayedState\"])(false);\r\n}\r\n\r\nfunction closeModalViaKeyboard() {\r\n  closeModal(true);\r\n}\r\n\r\nfunction goBackToSelectFormatView() {\r\n  currentViewNumber = 2;\r\n  displayNextView();\r\n}\r\n\r\nfunction assignViewManagerLocalVariables() {\r\n  modalElement = document.getElementById('upload-datasets-modal-parent');\r\n}\r\n\r\nfunction initialiseUploadDatasetsModal() {\r\n  assignViewManagerLocalVariables();\r\n  Object(_description_buttonEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(displayNextView);\r\n  Object(_description_style__WEBPACK_IMPORTED_MODULE_1__[\"assignDescriptionViewLocalVariables\"])();\r\n  Object(_selectFormat_buttonEvents__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(displayNextView);\r\n  Object(_selectFormat_style__WEBPACK_IMPORTED_MODULE_3__[\"assignSelectFormatViewLocalVariables\"])();\r\n  Object(_useExistingImagesQstn_buttonEvents__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(displayNextView);\r\n  Object(_useExistingImagesQstn_style__WEBPACK_IMPORTED_MODULE_5__[\"assignUseExistingImagesQstnViewLocalVariables\"])();\r\n  Object(_uploadDatasets_style__WEBPACK_IMPORTED_MODULE_7__[\"assignUploadDatasetsViewLocalVariables\"])();\r\n  displayNextView();\r\n  window.cancelUploadDatasetsModal = closeModal;\r\n  closeModalFunc = closeModal;\r\n  goBackToSelectFormatViewFunc = goBackToSelectFormatView;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/uploadDatasetsModal/views/viewManager.js?");

/***/ }),

/***/ "./src/js/tools/utils/browserType.js":
/*!*******************************************!*\
  !*** ./src/js/tools/utils/browserType.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return IS_FIREFOX; });\nfunction isCurrentBrowserFireFox() {\r\n  return navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n}\r\n\r\nconst IS_FIREFOX = isCurrentBrowserFireFox();\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/utils/browserType.js?");

/***/ }),

/***/ "./src/js/tools/utils/elementCaretUtils.js":
/*!*************************************************!*\
  !*** ./src/js/tools/utils/elementCaretUtils.js ***!
  \*************************************************/
/*! exports provided: emptyContentEditableFirefoxBugFix, getCaretPositionOnDiv, setCaretPositionOnDiv, isVerticalScrollPresent, getDefaultFont */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"emptyContentEditableFirefoxBugFix\", function() { return emptyContentEditableFirefoxBugFix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCaretPositionOnDiv\", function() { return getCaretPositionOnDiv; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCaretPositionOnDiv\", function() { return setCaretPositionOnDiv; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isVerticalScrollPresent\", function() { return isVerticalScrollPresent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDefaultFont\", function() { return getDefaultFont; });\n// test this in different browsers\r\nfunction getDefaultFont(element) {\r\n  const defaultSyle = window.getComputedStyle(element, null);\r\n  const size = defaultSyle.getPropertyValue('font-size');\r\n  const fontFamily = defaultSyle.getPropertyValue('font-family');\r\n  return `${size} ${fontFamily}`;\r\n}\r\n\r\nfunction emptyContentEditableFirefoxBugFix(div) {\r\n  if (div.innerHTML === '<br>') div.innerHTML = '';\r\n}\r\n\r\nfunction isVerticalScrollPresent(element) {\r\n  return element.scrollHeight > element.clientHeight;\r\n}\r\n\r\nfunction setCarretPosition(index, contentEditableElement) {\r\n  let range;\r\n  if (document.createRange) {\r\n    // Firefox, Chrome, Opera, Safari, IE 9+\r\n    range = document.createRange();\r\n    // false means collapse to end rather than the start\r\n    range.setStart(contentEditableElement.childNodes[0], index);\r\n    range.collapse(false);\r\n    const selection = window.getSelection();\r\n    // remove any selections already made\r\n    selection.removeAllRanges();\r\n    selection.addRange(range);\r\n  } else if (document.selection) { // IE 8 and lower\r\n    range = document.body.createTextRange();\r\n    range.moveToElementText(contentEditableElement);\r\n    // false means collapse to end rather than the start\r\n    range.collapse(false);\r\n    // make it the visible selection\r\n    range.select();\r\n  }\r\n}\r\n\r\nfunction setCaretPositionOnDiv(index, contentEditableElement, space, scrollHorintallyFunc) {\r\n  try {\r\n    setCarretPosition(index, contentEditableElement);\r\n    if (!space) { scrollHorintallyFunc(contentEditableElement.innerHTML.substring(0, index)); }\r\n  } catch (err) {\r\n    setCarretPosition(0, contentEditableElement);\r\n    if (!space) { scrollHorintallyFunc(''); }\r\n  }\r\n}\r\n\r\nfunction getCaretPositionOnDiv(editableDiv, paste) {\r\n  const currentCaretPosition = { position: 0, highlightRangeOnPaste: 0 };\r\n  let range = null;\r\n  if (window.getSelection) {\r\n    const selection = window.getSelection();\r\n    if (selection.rangeCount) {\r\n      range = selection.getRangeAt(0);\r\n      if (range.commonAncestorContainer.parentNode === editableDiv) {\r\n        currentCaretPosition.position = range.endOffset;\r\n      }\r\n      if (paste) {\r\n        currentCaretPosition.highlightRangeOnPaste = Math.abs(selection.focusOffset\r\n          - selection.anchorOffset);\r\n      }\r\n    }\r\n  } else if (document.selection && document.selection.createRange) {\r\n    range = document.selection.createRange();\r\n    if (range.parentElement() === editableDiv) {\r\n      const tempElement = document.createElement('span');\r\n      editableDiv.insertBefore(tempElement, editableDiv.firstChild);\r\n      const tempRange = range.duplicate();\r\n      tempRange.moveToElementText(tempRange);\r\n      tempRange.setEndPoint('EndToEnd', range);\r\n      currentCaretPosition.position = tempRange.text.length;\r\n    }\r\n  }\r\n  return currentCaretPosition;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/utils/elementCaretUtils.js?");

/***/ }),

/***/ "./src/js/tools/utils/popups/closeAllPopups.js":
/*!*****************************************************!*\
  !*** ./src/js/tools/utils/popups/closeAllPopups.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return closeAllPopups; });\n/* harmony import */ var _labelList_labelList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../labelList/labelList */ \"./src/js/tools/labelList/labelList.js\");\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _settingsPopup_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../settingsPopup/style */ \"./src/js/tools/settingsPopup/style.js\");\n/* harmony import */ var _exportDatasetsPopup_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../exportDatasetsPopup/style */ \"./src/js/tools/exportDatasetsPopup/style.js\");\n\r\n\r\n\r\n\r\n\r\nfunction closeAllPopups(event) {\r\n  event = event || { target: { classList: [] } };\r\n  if (Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_0__[\"isEditingLabelInLabelList\"])()) {\r\n    Object(_labelList_labelList__WEBPACK_IMPORTED_MODULE_0__[\"finishEditingLabelList\"])(event);\r\n  } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getSettingsPopupOpenState\"])()) {\r\n    if (event.target.classList[0] !== 'settings-popup-item') Object(_settingsPopup_style__WEBPACK_IMPORTED_MODULE_2__[\"hideSettingsPopup\"])();\r\n  } else if (Object(_stateMachine__WEBPACK_IMPORTED_MODULE_1__[\"getExportDatasetsPopupOpenState\"])()) {\r\n    if (event.target.classList[0] !== 'export-datasets-popup-item') Object(_exportDatasetsPopup_style__WEBPACK_IMPORTED_MODULE_3__[\"hideExportDatasetsPopup\"])();\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/utils/popups/closeAllPopups.js?");

/***/ }),

/***/ "./src/js/tools/utils/popups/stickyPopup.js":
/*!**************************************************!*\
  !*** ./src/js/tools/utils/popups/stickyPopup.js ***!
  \**************************************************/
/*! exports provided: setStickyPopupProperties, setPopupPosition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setStickyPopupProperties\", function() { return setStickyPopupProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPopupPosition\", function() { return setPopupPosition; });\nfunction calculateElementOffset(element) {\r\n  const rect = element.getBoundingClientRect();\r\n  const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\r\n  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n  return { top: rect.top + scrollTop, left: rect.left + scrollLeft };\r\n}\r\n\r\nfunction setPopupPosition(element, elementButton) {\r\n  const divOffset = calculateElementOffset(elementButton);\r\n  element.style.top = `${divOffset.top}px`;\r\n}\r\n\r\nfunction setStickyPopupProperties(element, elementButton, stickyProperties) {\r\n  const settingPopupBottom = element.getBoundingClientRect().bottom;\r\n  if (!stickyProperties.isPopupSticky) {\r\n    if (settingPopupBottom + 5 > document.body.scrollHeight) {\r\n      element.style.top = '';\r\n      element.style.bottom = '5px';\r\n      stickyProperties.stickCoordinates = settingPopupBottom + 6;\r\n      stickyProperties.isPopupSticky = true;\r\n    }\r\n  }\r\n  if (stickyProperties.isPopupSticky\r\n      && stickyProperties.stickCoordinates < document.body.scrollHeight) {\r\n    setPopupPosition(element, elementButton);\r\n    element.style.bottom = '';\r\n    stickyProperties.isPopupSticky = false;\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/utils/popups/stickyPopup.js?");

/***/ }),

/***/ "./src/js/tools/utils/tableUtils.js":
/*!******************************************!*\
  !*** ./src/js/tools/utils/tableUtils.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return scrollIntoViewIfNeeded; });\n/* harmony import */ var _globalStyling_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globalStyling/style */ \"./src/js/tools/globalStyling/style.js\");\n/* harmony import */ var _browserType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./browserType */ \"./src/js/tools/utils/browserType.js\");\n\r\n\r\n\r\nfunction isHorizontalScrollPresent(parentElement) {\r\n  return parentElement.scrollWidth > parentElement.clientWidth;\r\n}\r\n\r\nfunction isElementHeightFullyVisibleInParent(childElement, parentElement) {\r\n  const childBoundingRect = childElement.getBoundingClientRect();\r\n  const parentBoundingRect = parentElement.getBoundingClientRect();\r\n  if (childBoundingRect.top < parentBoundingRect.top) {\r\n    return false;\r\n  }\r\n  if ((isHorizontalScrollPresent(parentElement)\r\n    && childBoundingRect.bottom > parentBoundingRect.bottom - Object(_globalStyling_style__WEBPACK_IMPORTED_MODULE_0__[\"getScrollbarWidth\"])())\r\n    || (childBoundingRect.bottom > parentBoundingRect.bottom)) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction scrollIntoViewIfNeededPolyfill(childElement, parentElement) {\r\n  if (!isElementHeightFullyVisibleInParent(childElement, parentElement)) {\r\n    childElement.scrollIntoView();\r\n  }\r\n}\r\n\r\nfunction scrollIntoViewIfNeeded(childElement, parentElement) {\r\n  if (_browserType__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n    scrollIntoViewIfNeededPolyfill(childElement, parentElement);\r\n  } else {\r\n    childElement.scrollIntoViewIfNeeded();\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/utils/tableUtils.js?");

/***/ }),

/***/ "./src/js/tools/utils/textProcessingUtils.js":
/*!***************************************************!*\
  !*** ./src/js/tools/utils/textProcessingUtils.js ***!
  \***************************************************/
/*! exports provided: preprocessPastedText, preprocessLabelText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preprocessPastedText\", function() { return preprocessPastedText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preprocessLabelText\", function() { return preprocessLabelText; });\nfunction preprocessPastedText(text) {\r\n  const noReturnChars = text.replace(/(\\r\\n|\\n|\\r)/gm, '');\r\n  // code for converting spaces to hythons\r\n  // const spacesToHythons = noReturnChars.replace(/\\s/g, '-');\r\n  return noReturnChars;\r\n}\r\n\r\nfunction preprocessLabelText(text) {\r\n  return text.trim();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/utils/textProcessingUtils.js?");

/***/ }),

/***/ "./src/js/tools/welcomeModal/buttons/buttonClickEvents.js":
/*!****************************************************************!*\
  !*** ./src/js/tools/welcomeModal/buttons/buttonClickEvents.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return assignWelcomeModalButtonEventHandlers; });\n/* harmony import */ var _workers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./workers */ \"./src/js/tools/welcomeModal/buttons/workers.js\");\n\r\n\r\nfunction assignWelcomeModalButtonEventHandlers() {\r\n  window.closeWelcomeModal = _workers__WEBPACK_IMPORTED_MODULE_0__[\"closeWelcomeModal\"];\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/welcomeModal/buttons/buttonClickEvents.js?");

/***/ }),

/***/ "./src/js/tools/welcomeModal/buttons/workers.js":
/*!******************************************************!*\
  !*** ./src/js/tools/welcomeModal/buttons/workers.js ***!
  \******************************************************/
/*! exports provided: closeWelcomeModal, initUserGuide */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeWelcomeModal\", function() { return closeWelcomeModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initUserGuide\", function() { return initUserGuide; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../style */ \"./src/js/tools/welcomeModal/style.js\");\n/* harmony import */ var _canvas_utils_watermark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../canvas/utils/watermark */ \"./src/js/canvas/utils/watermark.js\");\n\r\n\r\n\r\nfunction closeWelcomeModal() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"closeWelcomeModal\"])();\r\n  Object(_canvas_utils_watermark__WEBPACK_IMPORTED_MODULE_1__[\"drawWatermarkOnCanvasAreaBackground\"])();\r\n  // flashUploadImagesButton();\r\n}\r\n\r\nfunction initUserGuide() {\r\n  // clicking the button before modal is displayed\r\n}\r\n\r\n\r\n\r\n// Gradient fade animation for imagelist header\r\n// function setBackground(titleContainerElement, uploadImagesButtonContainerElement) {\r\n//   titleContainerElement.style.backgroundColor = 'rgb(210, 210, 210)';\r\n//   // uploadImagesButtonContainerElement.style.backgroundColor = 'rgb(241, 228, 190)';\r\n// }\r\n\r\n// function unsetBackground(titleContainerElement, uploadImagesButtonContainerElement) {\r\n//   titleContainerElement.style.backgroundColor = 'transparent';\r\n//   // uploadImagesButtonContainerElement.style.backgroundColor = 'transparent';\r\n// }\r\n\r\n// function flashUploadImagesButton() {\r\n//   const titleContainerElement = document.getElementById('image-list-title-parent');\r\n//   const uploadImagesButtonContainerElement = document.getElementById('upload-images-button');\r\n//   unsetBackground(titleContainerElement, uploadImagesButtonContainerElement);\r\n//   setTimeout(() => {\r\n//     titleContainerElement.style.transitionDuration = `${1}s`;\r\n//     titleContainerElement.style.MozTransitionDuration = `${1}s`;\r\n//     uploadImagesButtonContainerElement.style.transitionDuration = `${1}s`;\r\n//     uploadImagesButtonContainerElement.style.MozTransitionDuration = `${1}s`;\r\n//     setBackground(titleContainerElement, uploadImagesButtonContainerElement);\r\n//   }, 600);\r\n//   setTimeout(() => {\r\n//     unsetBackground(titleContainerElement, uploadImagesButtonContainerElement);\r\n//   }, 1200);\r\n//   setTimeout(() => {\r\n//     setBackground(titleContainerElement, uploadImagesButtonContainerElement);\r\n//   }, 1800);\r\n//   setTimeout(() => {\r\n//     unsetBackground(titleContainerElement, uploadImagesButtonContainerElement);\r\n//   }, 2400);\r\n//   setTimeout(() => {\r\n//     setBackground(titleContainerElement, uploadImagesButtonContainerElement);\r\n//   }, 3000);\r\n// }\r\n\r\n\r\n// add css\r\n/* @keyframes gradient {\r\n0% {\r\n  background-position: 100% 50%;\r\n}\r\n50% {\r\n  background-position: 20% 50%;\r\n}\r\n100% {\r\n  background-position: 0% 50%;\r\n}\r\n} */\r\n\n\n//# sourceURL=webpack:///./src/js/tools/welcomeModal/buttons/workers.js?");

/***/ }),

/***/ "./src/js/tools/welcomeModal/init.js":
/*!*******************************************!*\
  !*** ./src/js/tools/welcomeModal/init.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initialiseWelcomeModal; });\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style */ \"./src/js/tools/welcomeModal/style.js\");\n/* harmony import */ var _buttons_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buttons/buttonClickEvents */ \"./src/js/tools/welcomeModal/buttons/buttonClickEvents.js\");\n\r\n\r\n\r\nfunction initialiseWelcomeModal() {\r\n  Object(_style__WEBPACK_IMPORTED_MODULE_0__[\"initialiseWelcomeModalStyling\"])();\r\n  Object(_buttons_buttonClickEvents__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/welcomeModal/init.js?");

/***/ }),

/***/ "./src/js/tools/welcomeModal/style.js":
/*!********************************************!*\
  !*** ./src/js/tools/welcomeModal/style.js ***!
  \********************************************/
/*! exports provided: initialiseWelcomeModalStyling, displayWelcomeModal, closeWelcomeModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseWelcomeModalStyling\", function() { return initialiseWelcomeModalStyling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayWelcomeModal\", function() { return displayWelcomeModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeWelcomeModal\", function() { return closeWelcomeModal; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dimWindow/dimWindowService */ \"./src/js/tools/dimWindow/dimWindowService.js\");\n/* harmony import */ var _dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dimWindow/consts */ \"./src/js/tools/dimWindow/consts.js\");\n/* harmony import */ var _keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../keyEvents/mouse/mouseMove */ \"./src/js/keyEvents/mouse/mouseMove.js\");\n\r\n\r\n\r\n\r\n\r\nlet modalParentElement = null;\r\nlet modalConntourParentElement = null;\r\nconst CONTOUR_DRAWING_DURATION_MILLISECONDS = 800;\r\n\r\nfunction fadeInModal() {\r\n  modalParentElement.style.transitionDuration = `${0.8}s`;\r\n  modalParentElement.style.MozTransitionDuration = `${1}s`;\r\n  modalParentElement.style.opacity = '1';\r\n}\r\n\r\nfunction displayWelcomeModal() {\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setWelcomeModalDisplayedState\"])(true);\r\n  setTimeout(() => {\r\n    fadeInModal();\r\n  }, CONTOUR_DRAWING_DURATION_MILLISECONDS);\r\n}\r\n\r\nfunction closeWelcomeModal() {\r\n  modalParentElement.style.display = 'none';\r\n  modalConntourParentElement.style.display = 'none';\r\n  Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setWelcomeModalDisplayedState\"])(false);\r\n  Object(_dimWindow_dimWindowService__WEBPACK_IMPORTED_MODULE_1__[\"lightUpWindow\"])(_dimWindow_consts__WEBPACK_IMPORTED_MODULE_2__[\"SLOW_LIGHTUP_MILLISECONDS\"]);\r\n}\r\n\r\nfunction addMouseMoveEventListener() {\r\n  modalParentElement.addEventListener('mousemove', _keyEvents_mouse_mouseMove__WEBPACK_IMPORTED_MODULE_3__[\"onMouseMoveEvent\"]);\r\n}\r\n\r\nfunction assignWelcomeModalLocalVariables() {\r\n  modalParentElement = document.getElementById('welcome-modal-parent');\r\n  modalConntourParentElement = document.getElementById('welcome-modal-contour-animation-parent');\r\n}\r\n\r\nfunction initialiseWelcomeModalStyling() {\r\n  assignWelcomeModalLocalVariables();\r\n  addMouseMoveEventListener();\r\n  displayWelcomeModal();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/welcomeModal/style.js?");

/***/ }),

/***/ "./src/js/tools/zoom/chromium.js":
/*!***************************************!*\
  !*** ./src/js/tools/zoom/chromium.js ***!
  \***************************************/
/*! exports provided: initialiseVariablesChromium, changeElementPropertiesChromium, setDOMElementsChromium */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseVariablesChromium\", function() { return initialiseVariablesChromium; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeElementPropertiesChromium\", function() { return changeElementPropertiesChromium; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDOMElementsChromium\", function() { return setDOMElementsChromium; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../canvas/utils/canvasUtils */ \"./src/js/canvas/utils/canvasUtils.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\n\r\n\r\nlet zoomOverflowWrapperElement;\r\nlet zoomOverflowElement;\r\nlet stubElement;\r\n\r\nlet newCanvasWidth;\r\nlet newCanvasHeight;\r\nlet currentZoom = 1;\r\n// should be 6, but currently the code has been optimised to work with 5\r\nconst scrollWidth = 5;\r\n\r\nlet canvasProperties = null;\r\nlet canvas = null;\r\n\r\nfunction isHorizontalScrollPresent(element) {\r\n  return element.scrollWidth > element.clientWidth;\r\n}\r\n\r\nfunction reduceCanvasDimensionsBy(width, height) {\r\n  newCanvasWidth -= width;\r\n  newCanvasHeight -= height;\r\n}\r\n\r\nfunction setCanvasElementProperties(left, top) {\r\n  const canvasContainerElement = Object(_canvas_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__[\"getCurrentCanvasContainerElement\"])();\r\n  canvasContainerElement.style.left = left || '50%';\r\n  canvasContainerElement.style.top = top || '50%';\r\n}\r\n\r\nfunction setZoomOverFlowElementProperties(width, maxWidth, maxHeight) {\r\n  zoomOverflowElement.style.width = width;\r\n  zoomOverflowElement.style.maxWidth = maxWidth;\r\n  zoomOverflowElement.style.maxHeight = maxHeight;\r\n}\r\n\r\nfunction setZoomOverFlowWrapperElementProperties(width, height, left, marginLeft, marginTop) {\r\n  zoomOverflowWrapperElement.style.width = width;\r\n  zoomOverflowWrapperElement.style.height = height;\r\n  zoomOverflowWrapperElement.style.marginLeft = marginLeft;\r\n  zoomOverflowWrapperElement.style.marginTop = marginTop;\r\n  zoomOverflowWrapperElement.style.left = left || '50%';\r\n}\r\n\r\nfunction setStubElementProperties(width, height, marginLeft, marginTop) {\r\n  stubElement.style.width = width;\r\n  stubElement.style.height = height;\r\n  stubElement.style.marginLeft = marginLeft;\r\n  stubElement.style.marginTop = marginTop;\r\n}\r\n\r\nfunction setDarkZoomOverflowBackground() {\r\n  zoomOverflowElement.style.backgroundColor = '#b1b1b1';\r\n}\r\n\r\nfunction setDefaultZoomOverflowBackground() {\r\n  zoomOverflowElement.style.backgroundColor = '';\r\n}\r\n\r\nfunction setAllElementPropertiesToDefault(switchImage) {\r\n  setZoomOverFlowElementProperties('', '', '');\r\n  setStubElementProperties('', '', '', '');\r\n  setZoomOverFlowWrapperElementProperties('', '', '', '', '');\r\n  if (!switchImage) {\r\n    setCanvasElementProperties('', '');\r\n  }\r\n  setDefaultZoomOverflowBackground();\r\n}\r\n\r\nfunction widthOverlapWithOneVerticalScrollBarOverlap(originalWidth, originalHeight) {\r\n  const zoomOverflowMaxWidth = `${canvasProperties.maximumCanvasWidth}px`;\r\n  const zoomOverflowMaxHeight = `${Math.round(canvasProperties.maximumCanvasHeight)}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${Math.round(scrollWidth / 2) - 2}px)`;\r\n  const zoomOverflowWrapperMarginLeft = `${Math.round(scrollWidth / 2) - 2}px`;\r\n  const stubMarginLeft = `${Math.round(originalWidth) - 1.5}px`;\r\n  const stubMarginTop = `${originalHeight - 17.5}px`;\r\n  const canvasLeft = `calc(50% - ${scrollWidth / 2 + 0.5}px)`;\r\n  const canvasTop = `calc(50% - ${Math.round(scrollWidth / 2) + 0.5}px)`;\r\n  const horizontalScrollOverlap = (Math.round(newCanvasHeight) + scrollWidth)\r\n    - canvasProperties.maximumCanvasHeight + 1.75;\r\n  setZoomOverFlowElementProperties('', zoomOverflowMaxWidth, zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties('', '', stubMarginLeft, stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, canvasTop);\r\n  reduceCanvasDimensionsBy(scrollWidth + 3, horizontalScrollOverlap);\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction widthOverflowDoubleVerticalScrollBarOverlap(originalWidth, originalHeight) {\r\n  const zoomOverflowMaxWidth = `${newCanvasWidth - 1}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${scrollWidth / 2}px)`;\r\n  const zoomOverflowWrapperMarginLeft = `${(scrollWidth / 2)}px`;\r\n  const stubWidth = `${originalWidth - 1}px`;\r\n  const stubMarginTop = `${originalHeight - 18}px`;\r\n  const canvasTop = `calc(50% - ${Math.round((scrollWidth / 2))}px)`;\r\n  setZoomOverFlowElementProperties('', zoomOverflowMaxWidth, '');\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties(stubWidth, '', '', stubMarginTop);\r\n  setCanvasElementProperties('', canvasTop);\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction widthOverflowDefault(originalWidth, originalHeight) {\r\n  const zoomOverflowMaxWidth = `${newCanvasWidth - 1}px`;\r\n  const zoomOverflowWrapperLeft = 'calc(50% + 1px)';\r\n  const zoomOverflowWrapperMarginTop = `${Math.round(scrollWidth / 2) - 0.1}px`;\r\n  const stubMarginLeft = `${originalWidth - 5}px`;\r\n  const stubMarginTop = `${originalHeight - 14}px`;\r\n  const canvasLeft = 'calc(50% + 0.5px)';\r\n  const canvasTop = 'calc(50% + 1px)';\r\n  setZoomOverFlowElementProperties('', zoomOverflowMaxWidth, '');\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, '', zoomOverflowWrapperMarginTop);\r\n  setStubElementProperties('', '', stubMarginLeft, stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, canvasTop);\r\n  setDefaultZoomOverflowBackground();\r\n}\r\n\r\nfunction heightOverlapWithOneVerticalScrollBarOverlap(originalWidth, originalHeight) {\r\n  const zoomOverflowWidth = `${canvasProperties.maximumCanvasWidth}px`;\r\n  const zoomOverflowMaxHeight = `${canvasProperties.maximumCanvasHeight}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${scrollWidth - 1}px)`;\r\n  const zoomOverflowWrapperMarginLeft = `${scrollWidth}px`;\r\n  const stubWidth = `${Math.round(originalWidth) + 1.5}px`;\r\n  const stubMarginTop = `${originalHeight - 18}px`;\r\n  const canvasLeft = `calc(50% - ${Math.round(scrollWidth / 2) - 0.5}px)`;\r\n  const canvasTop = `calc(50% - ${Math.round(scrollWidth / 2)}px)`;\r\n  const verticalScrollOverlap = originalWidth + scrollWidth\r\n    - canvasProperties.maximumCanvasWidth + 2.3;\r\n  // bug fix for Chrome as sometimes the horizontal scroll does not render\r\n  isHorizontalScrollPresent(zoomOverflowElement);\r\n  setZoomOverFlowElementProperties(zoomOverflowWidth, '', zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties(stubWidth, '', '', stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, canvasTop);\r\n  reduceCanvasDimensionsBy(verticalScrollOverlap, scrollWidth + 2);\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction heightOverflowDoubleVerticalScrollBarOverlap(originalWidth, originalHeight) {\r\n  const zoomOverflowWidth = `${Math.round(originalWidth) + 0.3}px`;\r\n  const zoomOverflowMaxHeight = `${newCanvasHeight}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${scrollWidth / 2}px)`;\r\n  const zoomOverflowWrapperWidth = `${originalWidth - 1}px`;\r\n  const zoomOverflowWrapperMarginLeft = `${scrollWidth}px`;\r\n  const canvasLeft = `calc(50% - ${(scrollWidth / 2) + 1.5}px)`;\r\n  const stubMarginTop = `${originalHeight - 18}px`;\r\n  setZoomOverFlowElementProperties(zoomOverflowWidth, '', zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties(zoomOverflowWrapperWidth, '', zoomOverflowWrapperLeft,\r\n    zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties('', '', '', stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, '');\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction heightOverflowDefault(originalWidth, originalHeight) {\r\n  const zoomOverflowWidth = `${originalWidth + 0.5}px`;\r\n  const zoomOverflowMaxHeight = `${newCanvasHeight}px`;\r\n  const zoomOverflowWrapperMarginLeft = `${scrollWidth + 2}px`;\r\n  const stubMarginTop = `${originalHeight - scrollWidth - 13}px`;\r\n  setZoomOverFlowElementProperties(zoomOverflowWidth, '', zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties('', '', '', zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties('', '', '', stubMarginTop);\r\n  setCanvasElementProperties('', '');\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\n// the use of current zoom may be the secret key for tighter zoom overflow wrap\r\nfunction fullOverflowOfWidthAndHeight(originalWidth, originalHeight) {\r\n  const zoomOverflowWidth = `${Math.round(newCanvasWidth - 1)}px`;\r\n  const zoomOverflowMaxHeight = `${Math.round(newCanvasHeight)}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${Math.round(scrollWidth / 2 + 2)}px)`;\r\n  const zoomOverflowWrapperMarginLeft = `${scrollWidth / 2 + 3}px`;\r\n  const stubMarginLeft = `${Math.round(originalWidth) - 4}px`;\r\n  // will need work here if delta is 1.2\r\n  const stubMarginTop = `${Math.round(originalHeight) - 12 - (currentZoom + (4.5 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])()))}px`;\r\n  const canvasLeft = `calc(50% - ${3.25 * Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])()}px)`;\r\n  const canvasTop = 'calc(50% - 3.2px)';\r\n  setZoomOverFlowElementProperties(zoomOverflowWidth, '', zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties('', '', stubMarginLeft, stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, canvasTop);\r\n  reduceCanvasDimensionsBy(scrollWidth + 2, scrollWidth + 2);\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction setTempValues(newCanvasWidthArg, newCanvasHeightArg, canvasPropertiesArg, currentZoomArg) {\r\n  newCanvasWidth = newCanvasWidthArg;\r\n  newCanvasHeight = newCanvasHeightArg;\r\n  canvasProperties = canvasPropertiesArg;\r\n  currentZoom = currentZoomArg;\r\n}\r\n\r\nfunction changeElementPropertiesChromium(heightOverflowed, widthOverflowed, originalWidth,\r\n  originalHeight, newCanvasWidthArg, newCanvasHeightArg, canvasPropertiesArg, currentZoomArg) {\r\n  setTempValues(newCanvasWidthArg, newCanvasHeightArg, canvasPropertiesArg, currentZoomArg);\r\n  if (heightOverflowed) {\r\n    if (widthOverflowed) {\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(true);\r\n      fullOverflowOfWidthAndHeight(originalWidth, originalHeight);\r\n      console.log('horizontal and vertical overlap');\r\n    } else {\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(false);\r\n      heightOverflowDefault(originalWidth, originalHeight);\r\n      console.log('vertical overlap default');\r\n      if (Math.round(newCanvasWidth) + (scrollWidth * 2)\r\n        >= canvasProperties.maximumCanvasWidth - 1) {\r\n        heightOverflowDoubleVerticalScrollBarOverlap(originalWidth, originalHeight);\r\n        console.log('vertical double scrollbar overlap');\r\n        if (Math.round(newCanvasWidth) + scrollWidth >= canvasProperties.maximumCanvasWidth - 1) {\r\n          Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(true);\r\n          heightOverlapWithOneVerticalScrollBarOverlap(originalWidth, originalHeight);\r\n          console.log('vertical single scrollbar overlap');\r\n        }\r\n      }\r\n    }\r\n  } else if (widthOverflowed) {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(false);\r\n    widthOverflowDefault(originalWidth, originalHeight);\r\n    console.log('horizontal overlap default');\r\n    if (newCanvasHeight + (scrollWidth * 2) > canvasProperties.maximumCanvasHeight - 4) {\r\n      widthOverflowDoubleVerticalScrollBarOverlap(originalWidth, originalHeight);\r\n      console.log('horizontal double scrollbar overlap');\r\n      if (newCanvasHeight + (scrollWidth) > canvasProperties.maximumCanvasHeight - 1) {\r\n        Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(true);\r\n        widthOverlapWithOneVerticalScrollBarOverlap(originalWidth, originalHeight);\r\n        console.log('horizontal single scrollbar overlap');\r\n      }\r\n    }\r\n  } else {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(false);\r\n    setAllElementPropertiesToDefault();\r\n    console.log('set to default');\r\n  }\r\n  const finalImageDimensions = {\r\n    width: newCanvasWidth,\r\n    height: newCanvasHeight,\r\n  };\r\n  canvas.setDimensions(finalImageDimensions);\r\n}\r\n\r\nfunction setDOMElementsChromium(stubElementArg, zoomOverflowElementArg,\r\n  zoomOverflowWrapperElementArg) {\r\n  stubElement = stubElementArg;\r\n  zoomOverflowElement = zoomOverflowElementArg;\r\n  zoomOverflowWrapperElement = zoomOverflowWrapperElementArg;\r\n}\r\n\r\nfunction initialiseVariablesChromium(canvasArg) {\r\n  canvas = canvasArg;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/zoom/chromium.js?");

/***/ }),

/***/ "./src/js/tools/zoom/firefox.js":
/*!**************************************!*\
  !*** ./src/js/tools/zoom/firefox.js ***!
  \**************************************/
/*! exports provided: initialiseVariablesFirefox, changeElementPropertiesFirefox, setDOMElementsFirefox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialiseVariablesFirefox\", function() { return initialiseVariablesFirefox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeElementPropertiesFirefox\", function() { return changeElementPropertiesFirefox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDOMElementsFirefox\", function() { return setDOMElementsFirefox; });\n/* harmony import */ var _stateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stateMachine */ \"./src/js/tools/stateMachine.js\");\n/* harmony import */ var _canvas_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../canvas/utils/canvasUtils */ \"./src/js/canvas/utils/canvasUtils.js\");\n/* harmony import */ var _globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../globalStyling/screenSizeDelta */ \"./src/js/tools/globalStyling/screenSizeDelta.js\");\n\r\n\r\n\r\n\r\nlet zoomOverflowWrapperElement;\r\nlet zoomOverflowElement;\r\nlet stubElement;\r\n\r\nlet newCanvasWidth;\r\nlet newCanvasHeight;\r\nlet currentZoom = 1;\r\nconst scrollWidthDefault = 6;\r\nlet scrollWidth = scrollWidthDefault;\r\n\r\nlet canvasProperties = null;\r\nlet canvas = null;\r\n\r\nfunction reduceCanvasDimensionsBy(width, height) {\r\n  newCanvasWidth -= width;\r\n  newCanvasHeight -= height;\r\n}\r\n\r\nfunction setCanvasElementProperties(left, top) {\r\n  const canvasContainerElement = Object(_canvas_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_1__[\"getCurrentCanvasContainerElement\"])();\r\n  canvasContainerElement.style.left = left || '50%';\r\n  canvasContainerElement.style.top = top || '50%';\r\n}\r\n\r\nfunction setZoomOverFlowElementProperties(width, maxWidth, maxHeight) {\r\n  zoomOverflowElement.style.width = width;\r\n  zoomOverflowElement.style.maxWidth = maxWidth;\r\n  zoomOverflowElement.style.maxHeight = maxHeight;\r\n}\r\n\r\nfunction setZoomOverFlowWrapperElementProperties(width, height, left, marginLeft, marginTop) {\r\n  zoomOverflowWrapperElement.style.width = width;\r\n  zoomOverflowWrapperElement.style.height = height;\r\n  zoomOverflowWrapperElement.style.marginLeft = marginLeft;\r\n  zoomOverflowWrapperElement.style.marginTop = marginTop;\r\n  zoomOverflowWrapperElement.style.left = left || '50%';\r\n}\r\n\r\nfunction setStubElementProperties(width, height, marginLeft, marginTop) {\r\n  stubElement.style.width = width;\r\n  stubElement.style.height = height;\r\n  stubElement.style.marginLeft = marginLeft;\r\n  stubElement.style.marginTop = marginTop;\r\n}\r\n\r\nfunction setDarkZoomOverflowBackground() {\r\n  zoomOverflowElement.style.backgroundColor = '#b1b1b1';\r\n}\r\n\r\nfunction setDefaultZoomOverflowBackground() {\r\n  zoomOverflowElement.style.backgroundColor = '';\r\n}\r\n\r\nfunction setAllElementPropertiesToDefault(switchImage) {\r\n  setZoomOverFlowElementProperties('', '', '');\r\n  setStubElementProperties('', '', '', '');\r\n  setZoomOverFlowWrapperElementProperties('', '', '', '', '');\r\n  if (!switchImage) {\r\n    setCanvasElementProperties('', '');\r\n  }\r\n  setDefaultZoomOverflowBackground();\r\n}\r\n\r\nfunction widthOverlapWithOneVerticalScrollBarOverlap(originalWidth, originalHeight) {\r\n  const zoomOverflowMaxWidth = `${canvasProperties.maximumCanvasWidth - 1}px`;\r\n  const zoomOverflowMaxHeight = `${Math.round(canvasProperties.maximumCanvasHeight - 2)}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${Math.round(scrollWidth / 2) - 2.5}px)`;\r\n  const zoomOverflowWrapperMarginLeft = `${Math.round(scrollWidth / 2) - 2}px`;\r\n  const stubMarginLeft = `${Math.round(originalWidth) - 5}px`;\r\n  const stubMarginTop = `${originalHeight - 19}px`;\r\n  const canvasLeft = `calc(50% - ${scrollWidth / 2}px)`;\r\n  const canvasTop = `calc(50% - ${Math.round(scrollWidth / 2) + 0.5}px)`;\r\n  const horizontalScrollOverlap = (Math.round(newCanvasHeight) + scrollWidth)\r\n    - canvasProperties.maximumCanvasHeight + 2;\r\n  setZoomOverFlowElementProperties('', zoomOverflowMaxWidth, zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties('', '', stubMarginLeft, stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, canvasTop);\r\n  reduceCanvasDimensionsBy(scrollWidth + 0.5, horizontalScrollOverlap);\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction widthOverflowDoubleVerticalScrollBarOverlap(originalWidth, originalHeight) {\r\n  const zoomOverflowMaxWidth = `${newCanvasWidth - 1}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${scrollWidth / 2}px)`;\r\n  const zoomOverflowWrapperMarginLeft = `${(scrollWidth / 2)}px`;\r\n  const stubWidth = `${originalWidth - 0.5}px`;\r\n  const stubMarginTop = `${originalHeight - 18}px`;\r\n  const canvasTop = `calc(50% - ${Math.round((scrollWidth / 2))}px)`;\r\n  setZoomOverFlowElementProperties('', zoomOverflowMaxWidth, '');\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties(stubWidth, '', '', stubMarginTop);\r\n  setCanvasElementProperties('', canvasTop);\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction widthOverflowDefault(originalWidth, originalHeight) {\r\n  const zoomOverflowMaxWidth = `${newCanvasWidth - 1}px`;\r\n  const zoomOverflowWrapperLeft = 'calc(50% + 1px)';\r\n  const zoomOverflowWrapperMarginTop = `${Math.round(scrollWidth / 2) - 1.5}px`;\r\n  const stubMarginLeft = `${originalWidth - 4}px`;\r\n  const stubMarginTop = `${originalHeight - 15}px`;\r\n  setZoomOverFlowElementProperties('', zoomOverflowMaxWidth, '');\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, '', zoomOverflowWrapperMarginTop);\r\n  setStubElementProperties('', '', stubMarginLeft, stubMarginTop);\r\n  setCanvasElementProperties('', '');\r\n  setDefaultZoomOverflowBackground();\r\n}\r\n\r\nfunction heightOverlapWithOneVerticalScrollBarOverlap(originalWidth, originalHeight) {\r\n  const zoomOverflowWidth = `${canvasProperties.maximumCanvasWidth + 0.5}px`;\r\n  const zoomOverflowMaxHeight = `${canvasProperties.maximumCanvasHeight - 1}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${scrollWidth}px)`;\r\n  const zoomOverflowWrapperMarginLeft = `${scrollWidth}px`;\r\n  const stubWidth = `${Math.round(originalWidth) + 1}px`;\r\n  const stubMarginTop = `${originalHeight - 19}px`;\r\n  const canvasLeft = `calc(50% - ${Math.round(scrollWidth / 2)}px)`;\r\n  const canvasTop = `calc(50% - ${Math.round(scrollWidth / 2) + 0.5}px)`;\r\n  const verticalScrollOverlap = originalWidth + scrollWidth\r\n    - canvasProperties.maximumCanvasWidth + 0.5;\r\n  setZoomOverFlowElementProperties(zoomOverflowWidth, '', zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties(stubWidth, '', '', stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, canvasTop);\r\n  reduceCanvasDimensionsBy(verticalScrollOverlap, scrollWidth + 1);\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction heightOverflowDoubleVerticalScrollBarOverlap(originalWidth, originalHeight) {\r\n  const zoomOverflowWidth = `${Math.round(originalWidth)}px`;\r\n  const zoomOverflowMaxHeight = `${newCanvasHeight}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${scrollWidth / 2 - 0.5}px)`;\r\n  const zoomOverflowWrapperWidth = `${originalWidth - 1}px`;\r\n  const zoomOverflowWrapperMarginLeft = `${scrollWidth}px`;\r\n  const canvasLeft = `calc(50% - ${scrollWidth / 2}px)`;\r\n  const stubMarginTop = `${originalHeight - 18}px`;\r\n  setZoomOverFlowElementProperties(zoomOverflowWidth, '', zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties(zoomOverflowWrapperWidth, '', zoomOverflowWrapperLeft,\r\n    zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties('', '', '', stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, '');\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction heightOverflowDefault(originalWidth, originalHeight) {\r\n  const zoomOverflowWidth = `${Math.round(originalWidth) - 1}px`;\r\n  const zoomOverflowMaxHeight = `${newCanvasHeight}px`;\r\n  const zoomOverflowWrapperMarginLeft = `${scrollWidth + 1}px`;\r\n  // will need some work here if delta 1.2\r\n  const stubMarginTop = Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])() > 1.000001\r\n    ? `${originalHeight - scrollWidth - (10 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])())}px`\r\n    : `${originalHeight - scrollWidth - 13}px`;\r\n  setZoomOverFlowElementProperties(zoomOverflowWidth, '', zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties('', '', '', zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties('', '', '', stubMarginTop);\r\n  setCanvasElementProperties('', '');\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\n// the use of current zoom may be the secret key for tighter zoom overflow wrap\r\nfunction fullOverflowOfWidthAndHeight(originalWidth, originalHeight) {\r\n  const zoomOverflowWidth = `${newCanvasWidth + 0.5}px`;\r\n  const zoomOverflowMaxHeight = `${newCanvasHeight}px`;\r\n  const zoomOverflowWrapperLeft = `calc(50% - ${Math.round(scrollWidth / 2) - 1.25}px)`;\r\n  const zoomOverflowWrapperMarginLeft = `${scrollWidth / 2 - 1}px`;\r\n  const stubMarginLeft = Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])() > 1.000001\r\n    ? `${Math.round(originalWidth) - (3 / Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])())}px`\r\n    : `${Math.round(originalWidth) - 4.5}px`;\r\n  const stubMarginTop = `${Math.round(originalHeight) - 16.5 - (currentZoom)}px`;\r\n  const canvasLeft = `calc(50% - ${Math.round(scrollWidth / 2)}px)`;\r\n  const canvasTop = `calc(50% - ${Math.round(scrollWidth / 2) + 0.5}px)`;\r\n  setZoomOverFlowElementProperties(zoomOverflowWidth, '', zoomOverflowMaxHeight);\r\n  setZoomOverFlowWrapperElementProperties('', '', zoomOverflowWrapperLeft, zoomOverflowWrapperMarginLeft, '');\r\n  setStubElementProperties('', '', stubMarginLeft, stubMarginTop);\r\n  setCanvasElementProperties(canvasLeft, canvasTop);\r\n  reduceCanvasDimensionsBy(scrollWidth + 0.25, scrollWidth + 0.2);\r\n  setDarkZoomOverflowBackground();\r\n}\r\n\r\nfunction setTempValues(newCanvasWidthArg, newCanvasHeightArg, canvasPropertiesArg, currentZoomArg) {\r\n  newCanvasWidth = newCanvasWidthArg;\r\n  newCanvasHeight = newCanvasHeightArg;\r\n  canvasProperties = canvasPropertiesArg;\r\n  currentZoom = currentZoomArg;\r\n}\r\n\r\nfunction getScrollWidth() {\r\n  // create a div with the scroll\r\n  const div = document.createElement('div');\r\n  div.style.overflowY = 'scroll';\r\n  div.style.width = '50px';\r\n  div.style.height = '50px';\r\n  document.body.append(div);\r\n  const browserScrollWidth = div.offsetWidth - div.clientWidth;\r\n  div.remove();\r\n  return browserScrollWidth;\r\n}\r\n\r\nfunction changeElementPropertiesFirefox(heightOverflowed, widthOverflowed, originalWidth,\r\n  originalHeight, newCanvasWidthArg, newCanvasHeightArg, canvasPropertiesArg, currentZoomArg) {\r\n  if (Object(_globalStyling_screenSizeDelta__WEBPACK_IMPORTED_MODULE_2__[\"getScreenSizeDelta\"])() > 1.000001) { newCanvasHeightArg += 1; }\r\n  setTempValues(newCanvasWidthArg, newCanvasHeightArg, canvasPropertiesArg, currentZoomArg);\r\n  scrollWidth = getScrollWidth() / 2;\r\n  if (heightOverflowed) {\r\n    if (widthOverflowed) {\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(true);\r\n      fullOverflowOfWidthAndHeight(originalWidth, originalHeight);\r\n      console.log('horizontal and vertical overlap');\r\n    } else {\r\n      Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(false);\r\n      heightOverflowDefault(originalWidth, originalHeight);\r\n      console.log('vertical overlap default');\r\n      if (Math.round(newCanvasWidth) + (scrollWidth * 2)\r\n        >= canvasProperties.maximumCanvasWidth - 1) {\r\n        heightOverflowDoubleVerticalScrollBarOverlap(originalWidth, originalHeight);\r\n        console.log('vertical double scrollbar overlap');\r\n        if (Math.round(newCanvasWidth) + scrollWidth >= canvasProperties.maximumCanvasWidth) {\r\n          Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(true);\r\n          heightOverlapWithOneVerticalScrollBarOverlap(originalWidth, originalHeight);\r\n          console.log('vertical single scrollbar overlap');\r\n        }\r\n      }\r\n    }\r\n  } else if (widthOverflowed) {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(false);\r\n    widthOverflowDefault(originalWidth, originalHeight);\r\n    console.log('horizontal overlap default');\r\n    if (newCanvasHeight + (scrollWidth * 2) > canvasProperties.maximumCanvasHeight - 1) {\r\n      widthOverflowDoubleVerticalScrollBarOverlap(originalWidth, originalHeight);\r\n      console.log('horizontal double scrollbar overlap');\r\n      if (newCanvasHeight + (scrollWidth) > canvasProperties.maximumCanvasHeight) {\r\n        Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(true);\r\n        widthOverlapWithOneVerticalScrollBarOverlap(originalWidth, originalHeight);\r\n        console.log('horizontal single scrollbar overlap');\r\n      }\r\n    }\r\n  } else {\r\n    Object(_stateMachine__WEBPACK_IMPORTED_MODULE_0__[\"setDoubleScrollCanvasState\"])(false);\r\n    setAllElementPropertiesToDefault();\r\n    console.log('set to default');\r\n  }\r\n  const finalImageDimensions = {\r\n    width: newCanvasWidth,\r\n    height: newCanvasHeight,\r\n  };\r\n  canvas.setDimensions(finalImageDimensions);\r\n}\r\n\r\nfunction setDOMElementsFirefox(stubElementArg, zoomOverflowElementArg,\r\n  zoomOverflowWrapperElementArg) {\r\n  stubElement = stubElementArg;\r\n  zoomOverflowElement = zoomOverflowElementArg;\r\n  zoomOverflowWrapperElement = zoomOverflowWrapperElementArg;\r\n}\r\n\r\nfunction initialiseVariablesFirefox(canvasArg) {\r\n  canvas = canvasArg;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/tools/zoom/firefox.js?");

/***/ }),

/***/ "fabric":
/*!*************************!*\
  !*** external "fabric" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = fabric;\n\n//# sourceURL=webpack:///external_%22fabric%22?");

/***/ })

/******/ });